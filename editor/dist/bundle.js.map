{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://scontest-map-editor/./lib/binary-bmp/dist/bundle.js","webpack://scontest-map-editor/./lib/jdmenubar/dist/jdmenubar.js","webpack://scontest-map-editor/./lib/w2ui/dist/w2ui.js","webpack://scontest-map-editor/./node_modules/events/events.js","webpack://scontest-map-editor/./node_modules/file-dialog/file-dialog.min.js","webpack://scontest-map-editor/./node_modules/file-saver/dist/FileSaver.min.js","webpack://scontest-map-editor/./node_modules/jquery/dist/jquery.js","webpack://scontest-map-editor/./node_modules/jszip/dist/jszip.min.js","webpack://scontest-map-editor/./node_modules/strict-event-emitter/lib/StrictEventEmitter.js","webpack://scontest-map-editor/./node_modules/strict-event-emitter/lib/index.js","webpack://scontest-map-editor/./src/app.ts","webpack://scontest-map-editor/./src/core/arc.ts","webpack://scontest-map-editor/./src/core/collection.ts","webpack://scontest-map-editor/./src/core/line.ts","webpack://scontest-map-editor/./src/core/object-mapper.ts","webpack://scontest-map-editor/./src/core/point.ts","webpack://scontest-map-editor/./src/core/pointer.ts","webpack://scontest-map-editor/./src/core/property.ts","webpack://scontest-map-editor/./src/core/rectangle.ts","webpack://scontest-map-editor/./src/core/unique-id.ts","webpack://scontest-map-editor/./src/core/vector.ts","webpack://scontest-map-editor/./src/drawing/canvas.ts","webpack://scontest-map-editor/./src/drawing/color.ts","webpack://scontest-map-editor/./src/drawing/grab-point.ts","webpack://scontest-map-editor/./src/drawing/grab-rectangle.ts","webpack://scontest-map-editor/./src/drawing/grab.ts","webpack://scontest-map-editor/./src/drawing/hover-result.ts","webpack://scontest-map-editor/./src/drawing/item.ts","webpack://scontest-map-editor/./src/drawing/layer.ts","webpack://scontest-map-editor/./src/drawing/multi-color.ts","webpack://scontest-map-editor/./src/drawing/render-state.ts","webpack://scontest-map-editor/./src/drawing/render-status.ts","webpack://scontest-map-editor/./src/drawing/renderable.ts","webpack://scontest-map-editor/./src/drawing/scene.ts","webpack://scontest-map-editor/./src/drawing/sprite.ts","webpack://scontest-map-editor/./src/drawing/z-index.ts","webpack://scontest-map-editor/./src/engine/filter-road.ts","webpack://scontest-map-editor/./src/engine/logical-lines.ts","webpack://scontest-map-editor/./src/engine/map.ts","webpack://scontest-map-editor/./src/engine/obstacle.ts","webpack://scontest-map-editor/./src/engine/road-arc.ts","webpack://scontest-map-editor/./src/engine/road-line.ts","webpack://scontest-map-editor/./src/engine/road.ts","webpack://scontest-map-editor/./src/engine/starting-point.ts","webpack://scontest-map-editor/./src/engine/step.ts","webpack://scontest-map-editor/./src/engine/stop.ts","webpack://scontest-map-editor/./src/gui/form.ts","webpack://scontest-map-editor/./src/gui/layout.ts","webpack://scontest-map-editor/./src/gui/menubar.ts","webpack://scontest-map-editor/./src/gui/popup.ts","webpack://scontest-map-editor/./src/gui/tool.ts","webpack://scontest-map-editor/./src/gui/toolbar.ts","webpack://scontest-map-editor/./src/gui/view-item.ts","webpack://scontest-map-editor/./src/gui/view.ts","webpack://scontest-map-editor/./src/helper/utils.ts","webpack://scontest-map-editor/./src/icons/icons.ts","webpack://scontest-map-editor/./src/map/base.ts","webpack://scontest-map-editor/./src/map/init.ts","webpack://scontest-map-editor/./src/map/itinerary.ts","webpack://scontest-map-editor/./src/map/obstacle.ts","webpack://scontest-map-editor/./src/map/road-arc.ts","webpack://scontest-map-editor/./src/map/road-line.ts","webpack://scontest-map-editor/./src/map/road.ts","webpack://scontest-map-editor/./src/map/stop.ts","webpack://scontest-map-editor/./src/map/traffic-light.ts","webpack://scontest-map-editor/./src/map/way-point.ts","webpack://scontest-map-editor/./src/system/deserializers.ts","webpack://scontest-map-editor/./src/system/editor.ts","webpack://scontest-map-editor/./src/system/globals.ts","webpack://scontest-map-editor/webpack/bootstrap","webpack://scontest-map-editor/webpack/runtime/global","webpack://scontest-map-editor/webpack/runtime/make namespace object","webpack://scontest-map-editor/webpack/startup"],"sourcesContent":["!function(){\"use strict\";var e={474:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.RGBA=t.RGB=t.GREY=t.VGA=t.BINARY=void 0,t.BINARY=1,t.VGA=4,t.GREY=8,t.RGB=24,t.RGBA=32},179:function(e,t,n){var r=this&&this.__values||function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};Object.defineProperty(t,\"__esModule\",{value:!0}),t.make=void 0;var a=n(474),i=n(917),o=n(148);t.make=function(e){var t,n,p=e.bits,d=e.width,u=e.height,f=e.palette,l=e.data,s=p>a.GREY?0:4*((null==f?void 0:f.length)||1<<p),c=4*Math.floor((p*d+31)/32)*Math.abs(u),v=54+s,h=v+c,b=new ArrayBuffer(h),y=new i.SequentialDataView(b);if(y.appendUint16(16973),y.appendUint32(h,!0),y.appendUint16(0,!0),y.appendUint16(0,!0),y.appendUint32(v,!0),y.appendUint32(40,!0),y.appendUint32(d,!0),y.appendUint32(u,!0),y.appendUint16(1,!0),y.appendUint16(p,!0),y.appendUint32(0,!0),y.appendUint32(c,!0),y.appendUint32(0,!0),y.appendUint32(0,!0),y.appendUint32(0,!0),y.appendUint32(0,!0),p<=a.GREY)if(Array.isArray(f)&&f.length>0)try{for(var U=r(f),w=U.next();!w.done;w=U.next()){var g=w.value;y.appendUint32((0,o.rgba2bgra)(g))}}catch(e){t={error:e}}finally{try{w&&!w.done&&(n=U.return)&&n.call(U)}finally{if(t)throw t.error}}else for(var m=255/((1<<p)-1),_=0;_<256;_+=m)y.appendUint32((_<<24)+(_<<16)+(_<<8));for(var R=Math.min(8,p),G=d*Math.ceil(p/8),O=u-1;O>=0;O-=1)for(var j=0,A=0,M=0;M<G;M+=1){var x=O*G+M;if(p>a.GREY)switch(x%(p/8)){case 0:x+=2;break;case 2:x-=2}j<<=R,j+=l[x],32===(A+=R)?(y.appendUint32(j),j=0,A=0):M===G-1&&(j<<=32-A,y.appendUint32(j),j=0,A=0)}return new Uint8Array(b)}},917:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.SequentialDataView=void 0;var n=function(){function e(e){this.view=new DataView(e),this.pos=0}return e.prototype.appendUint16=function(e,t){this.view.setUint16(this.pos,e,t),this.pos+=2},e.prototype.appendUint32=function(e,t){this.view.setUint32(this.pos,e,t),this.pos+=4},e}();t.SequentialDataView=n},235:function(e,t,n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.fromCanvas=void 0;var r=n(474),a=n(179),i=[[0,128,32,160,8,136,40,168],[192,64,224,96,200,72,232,104],[48,176,16,144,56,184,24,152],[240,112,208,80,248,120,216,88],[12,140,44,172,4,132,36,164],[204,76,236,108,196,68,228,100],[60,188,28,156,52,180,20,148],[252,124,220,92,244,116,212,8]];t.fromCanvas=function(e,t){var n=t.getContext(\"2d\").getImageData(0,0,t.width,t.height),o=n.width,p=n.height,d=n.data;if(e===r.GREY||e===r.BINARY){for(var u=new Uint8ClampedArray(o*p),f=0;f<u.length;f+=1){var l=.299*d[4*f+0]+.587*d[4*f+1]+.114*d[4*f+2];if(e===r.GREY)u[f]=l;else{var s=f%o,c=Math.floor(f/o);u[f]=l>i[s%8][c%8]?1:0}}return(0,a.make)({bits:e,width:o,height:p,data:u})}if(e===r.RGBA)return(0,a.make)({bits:e,width:o,height:p,data:d});throw new Error(\"Support 1 or 8 or 32 bits color only, recieved [\".concat(e,\"]\"))}},148:function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.rgba2bgra=void 0,t.rgba2bgra=function(e){var t=e.replace(/^#/,\"\"),n=t.slice(0,2),r=t.slice(2,4);return function(e){var t=e.replace(/^#/,\"\");return parseInt(t.padEnd(8,\"0\"),16)}(t.slice(4,6)+r+n+t.slice(6,8).padEnd(2,\"F\"))}},607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)\"default\"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.fromCanvas=t.make=void 0,a(n(474),t);var i=n(179);Object.defineProperty(t,\"make\",{enumerable:!0,get:function(){return i.make}});var o=n(235);Object.defineProperty(t,\"fromCanvas\",{enumerable:!0,get:function(){return o.fromCanvas}})}},t={},n=function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(607),r=exports;for(var a in n)r[a]=n[a];n.__esModule&&Object.defineProperty(r,\"__esModule\",{value:!0})}();\n//# sourceMappingURL=bundle.js.map","/*!\n * @file jdmenubar javascript library.\n * See {@link https://github.com/midstar/jdmenubar} for a full description.\n * @copyright Joel Midstjärna 2021\n * @license MIT\n */\n\n/** Class representing a menu bar.\n *\n */\nclass MenuBar { // eslint-disable-line no-unused-vars\n\n  /**\n   * Create a menu bar.\n   * @param {Object} menuBarElement - HTML 'DIV' element where the menu bar shall be generated.\n   * @param {Object[]} menuItems - The items that represents the menu bar.\n   */\n  constructor(menuBarElement, menuItems) {\n    this.menuBarElement = menuBarElement;\n    this.menuItems = menuItems;\n    this.stateOpen = false;\n    this.stateFocus = false;\n    this.stateOpening = false;\n    const myself = this;\n    menuBarElement.classList.add('jdmenu-bar');\n    menuBarElement.onmouseleave = function () {\n      myself.stateFocus = false;\n    };\n    menuBarElement.onmouseenter = function () {\n      myself.stateFocus = true;\n    };\n    document.addEventListener('click', function () {\n      if (myself.stateOpen && (myself.stateFocus === false)) {\n        myself.closeAll(myself);\n      }\n    });\n    document.body.addEventListener('keydown', function (e) {\n      if ((e.key === 'Escape') && myself.stateOpen) {\n        myself.closeAll(myself);\n      }\n    });\n    this.parseMenuItems(menuBarElement, menuItems);\n  }\n\n  // Recursive function for generating menu item elements and\n  // sub menu elements\n  parseMenuItems(menuElement, menuItems) {\n    const myself = this;\n    const isTopMenuItem = (menuElement === this.menuBarElement);\n    for (let i = 0; i < menuItems.length; i++) {\n      const menuItem = menuItems[i];\n      if (('text' in menuItem) === false) {\n        if (('separator' in menuItem) && menuItem.separator === true) {\n          menuElement.appendChild(document.createElement('hr'));\n        }\n        continue;\n      }\n      const menuItemElement = document.createElement('div');\n      menuItemElement.classList.add('jdmenu-item');\n      menuItemElement.jdmenu_menu = menuElement;\n      menuElement.appendChild(menuItemElement);\n\n      if (isTopMenuItem === false) {\n        const leftElement = document.createElement('span');\n        const middleElement = document.createElement('span');\n        const rightElement = document.createElement('span');\n\n        menuItemElement.appendChild(leftElement);\n        menuItemElement.appendChild(middleElement);\n        menuItemElement.appendChild(rightElement);\n\n        if ('icon' in menuItem) {\n          leftElement.innerHTML = menuItem.icon;\n        }\n        middleElement.innerHTML = menuItem.text;\n        if ('subMenuItems' in menuItem) {\n          rightElement.classList.add('jdmenu-submenu-symbol');\n          rightElement.innerText = '▶';\n        } else if ('shortcut' in menuItem) {\n          rightElement.innerHTML = menuItem.shortcut;\n        }\n      } else {\n        menuItemElement.innerHTML = menuItem.text;\n      }\n\n      if (('enabled' in menuItem) && (menuItem.enabled === false)) {\n        menuItemElement.classList.add('jdmenu-item-disabled');\n        continue;\n      }\n\n      if ('subMenuItems' in menuItem) {\n        const subMenuElement = document.createElement('div');\n        subMenuElement.classList.add('jdmenu-submenu');\n        subMenuElement.jdmenu_parentItem = menuItemElement;\n        subMenuElement.jdmenu_parentMenu = menuElement;\n        menuElement.appendChild(subMenuElement);\n        this.parseMenuItems(subMenuElement, menuItem.subMenuItems, false);\n        if (isTopMenuItem) {\n          menuItemElement.onclick = function () {\n            myself.toggleSubMenu(myself, subMenuElement);\n          };\n        }\n        menuItemElement.onmouseover = function () {\n          if (myself.stateOpen) {\n            myself.openSubMenu(myself, subMenuElement);\n          }\n        };\n      } else if (isTopMenuItem === false) {\n        // To close other sub-menues\n        menuItemElement.onmouseover = function () {\n          myself.openSubMenu(myself, menuElement);\n        };\n\n        if ('handler' in menuItem) {\n          menuItemElement.onclick = function () {\n            myself.closeAll(myself);\n            menuItem.handler();\n          };\n        }\n      }\n    }\n  }\n\n  // myself is this object. Needed since the method is called as a\n  // callback function.\n  toggleSubMenu(myself, subMenuElement) {\n    if (subMenuElement.style.display === 'block') {\n      this.closeSubMenu(myself, subMenuElement);\n    } else {\n      this.openSubMenu(myself, subMenuElement);\n    }\n  }\n\n  // myself is this object. Needed since the method is called as a\n  // callback function.\n  closeSubMenu(myself, subMenuElement) {\n    // To avoid immediate close on touch devices since onmouseover is\n    // always trigged before onclick.\n    if (myself.stateOpening) {\n      return;\n    }\n\n    const menuItemElement = subMenuElement.jdmenu_parentItem;\n    subMenuElement.style.display = 'none';\n    if (menuItemElement.jdmenu_menu === myself.menuBarElement) {\n      // Closed top element. Menu is closed\n      myself.stateOpen = false;\n    }\n  }\n\n  // myself is this object. Needed since the method is called as a\n  // callback function.\n  openSubMenu(myself, subMenuElement) {\n    // Hide all menus\n    this.closeAll(myself);\n    myself.stateOpen = true;\n    // But display the menu that we just opened and parents\n    let menuItem = subMenuElement;\n    while (menuItem !== myself.menuBarElement) {\n      menuItem.style.display = 'block';\n      menuItem = menuItem.jdmenu_parentMenu;\n    }\n\n    const menuItemElement = subMenuElement.jdmenu_parentItem;\n    const pos = menuItemElement.getBoundingClientRect();\n    if (subMenuElement.jdmenu_parentMenu === myself.menuBarElement) {\n      // Drop down\n      subMenuElement.style.left = pos.left + 'px';\n      subMenuElement.style.top = pos.bottom + 'px';\n    } else {\n      // Show right\n      subMenuElement.style.left = pos.right + 'px';\n      subMenuElement.style.top = pos.top + 'px';\n    }\n\n    // To avoid immediate close on touch devices since onmouseover is\n    // always trigged before onclick.\n    myself.stateOpening = true;\n    setTimeout(function () {\n      myself.stateOpening = false;\n    }, 100);\n  }\n\n  // myself is this object. Needed since the method is called as a\n  // callback function.\n  closeAll(myself) {\n    const subMenuElements = myself.menuBarElement.getElementsByClassName('jdmenu-submenu');\n    for (const element of subMenuElements) {\n      element.style.display = 'none';\n    }\n    myself.stateOpen = false;\n  }\n\n  /**\n   * Get item with id (value if id property). Useful when updating items\n   * in the menu. Call the update() method afterwards to make the change\n   * have effect in the menu bar.\n   *\n   * @param {string} id - Identity of the item\n   * @return {Object} - The menuItem object or null if not found\n   */\n  getItemWithId(id) {\n    return this.getItemWithIdOf(id, this.menuItems);\n  }\n\n  // Recursive function to traverse all items searching for id.\n  getItemWithIdOf(id, menuItems) {\n    for (let i = 0; i < menuItems.length; i++) {\n      const menuItem = menuItems[i];\n      if (('id' in menuItem) && (menuItem.id === id)) {\n        return menuItem;\n      }\n      if (('subMenuItems' in menuItem)) {\n        const result = this.getItemWithIdOf(id, menuItem.subMenuItems);\n        if (result != null) {\n          return result;\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Update menu in case the menuItem objects has changed.\n   */\n  update() {\n    // Remove all items\n    while (this.menuBarElement.firstChild) {\n      this.menuBarElement.removeChild(this.menuBarElement.firstChild);\n    }\n\n    // Reset state\n    this.stateOpen = false;\n    this.stateFocus = false;\n\n    // Re-parse the elements\n    this.parseMenuItems(this.menuBarElement, this.menuItems);\n  }\n}\n\nmodule.exports = {\n  MenuBar: MenuBar\n}\n","/*!\n * @file w2ui javascript library.\n * See {@link http://w2ui.com} for a full description.\n * @copyright vitmalina@gmail.com\n * @license MIT\n */\n\n/* w2ui 1.5 (c) http://w2ui.com, vitmalina@gmail.com */\nvar w2ui = w2ui || {};\nvar w2obj = w2obj || {}; // expose object to be able to overwrite default functions\n\n/************************************************\n*  Library: Web 1.5 UI for jQuery\n*  - Following objects are defines\n*        - w2ui             - object that will contain all widgets\n*        - w2obj            - object with widget prototypes\n*        - w2utils          - basic utilities\n*        - $().w2render     - common render\n*        - $().w2destroy    - common destroy\n*        - $().w2marker     - marker plugin\n*        - $().w2tag        - tag plugin\n*        - $().w2overlay    - overlay plugin\n*        - $().w2menu       - menu plugin\n*        - w2utils.event    - generic event object\n*  - Dependencies: jQuery\n*\n* == NICE TO HAVE ==\n*   - overlay should be displayed where more space (on top or on bottom)\n*   - write and article how to replace certain framework functions\n*   - add maxHeight for the w2menu\n*   - add time zone\n*   - TEST On IOS\n*   - $().w2marker() -- only unmarks first instance\n*   - subitems for w2menus()\n*   - add w2utils.lang wrap for all captions in all buttons.\n*   - $().w2date(), $().w2dateTime()\n*\n* == 1.5 change\n*   - parseColor(str) returns rgb\n*   - rgb2hsv, hsv2rgb\n*   - color.onSelect\n*   - color.html\n*   - refactored w2tag object, it has more potential with $().data('w2tag')\n*   - added w2utils.tooltip\n*   - w2tag options.hideOnFocus\n*   - w2tag options.maxWidth\n*   - w2tag options.auto - if set to true, then tag will show on mouseover\n*   - w2tag options.showOn, hideOn - if set to true, then tag will show on mouseover\n*   - w2tag options.className: 'w2ui-light' - for light color tag\n*   - w2menu options.items... remove t/f\n*   - w2menu options.items... keepOpen t/f\n*   - w2menu options.onRemove\n*   - w2menu options.hideOnRemove\n*   - w2menu - can not nest items, item.items and item.expanded\n*   - w2menu.options.topHTML\n*   - w2menu.options.menuStyle\n*   - naturalCompare\n*\n************************************************/\n\nvar w2utils = (function ($) {\n  var tmp = {}; // for some temp variables\n  var obj = {\n    version: '1.5',\n    settings: {\n      \"locale\": \"en-us\",\n      \"dateFormat\": \"m/d/yyyy\",\n      \"timeFormat\": \"hh:mi pm\",\n      \"datetimeFormat\": \"m/d/yyyy|hh:mi pm\",\n      \"currencyPrefix\": \"$\",\n      \"currencySuffix\": \"\",\n      \"currencyPrecision\": 2,\n      \"groupSymbol\": \",\",\n      \"decimalSymbol\": \".\",\n      \"shortmonths\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      \"fullmonths\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      \"shortdays\": [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"],\n      \"fulldays\": [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      \"weekStarts\": \"M\",        // can be \"M\" for Monday or \"S\" for Sunday\n      \"dataType\": 'HTTPJSON', // can be HTTP, HTTPJSON, RESTFULL, RESTFULLJSON, JSON (case sensitive)\n      \"phrases\": {},         // empty object for english phrases\n      \"dateStartYear\": 1950,       // start year for date-picker\n      \"dateEndYear\": 2030,       // end year for date picker\n      \"macButtonOrder\": false       // if true, Yes on the right side\n    },\n    isBin: isBin,\n    isInt: isInt,\n    isFloat: isFloat,\n    isMoney: isMoney,\n    isHex: isHex,\n    isAlphaNumeric: isAlphaNumeric,\n    isEmail: isEmail,\n    isIpAddress: isIpAddress,\n    isDate: isDate,\n    isTime: isTime,\n    isDateTime: isDateTime,\n    age: age,\n    interval: interval,\n    date: date,\n    formatSize: formatSize,\n    formatNumber: formatNumber,\n    formatDate: formatDate,\n    formatTime: formatTime,\n    formatDateTime: formatDateTime,\n    stripTags: stripTags,\n    encodeTags: encodeTags,\n    decodeTags: decodeTags,\n    escapeId: escapeId,\n    base64encode: base64encode,\n    base64decode: base64decode,\n    md5: md5,\n    transition: transition,\n    lock: lock,\n    unlock: unlock,\n    message: message,\n    naturalCompare: naturalCompare,\n    lang: lang,\n    locale: locale,\n    getSize: getSize,\n    getStrWidth: getStrWidth,\n    scrollBarSize: scrollBarSize,\n    checkName: checkName,\n    checkUniqueId: checkUniqueId,\n    parseRoute: parseRoute,\n    cssPrefix: cssPrefix,\n    parseColor: parseColor,\n    hsv2rgb: hsv2rgb,\n    rgb2hsv: rgb2hsv,\n    tooltip: tooltip,\n    getCursorPosition: getCursorPosition,\n    setCursorPosition: setCursorPosition,\n    testLocalStorage: testLocalStorage,\n    hasLocalStorage: testLocalStorage(),\n    // some internal variables\n    isIOS: ((navigator.userAgent.toLowerCase().indexOf('iphone') !== -1 ||\n      navigator.userAgent.toLowerCase().indexOf('ipod') !== -1 ||\n      navigator.userAgent.toLowerCase().indexOf('ipad') !== -1 ||\n      navigator.userAgent.toLowerCase().indexOf('mobile') !== -1 ||\n      navigator.userAgent.toLowerCase().indexOf('android') !== -1)\n      ? true : false),\n    isIE: ((navigator.userAgent.toLowerCase().indexOf('msie') !== -1 ||\n      navigator.userAgent.toLowerCase().indexOf('trident') !== -1)\n      ? true : false)\n  };\n  return obj;\n\n  function isBin(val) {\n    var re = /^[0-1]+$/;\n    return re.test(val);\n  }\n\n  function isInt(val) {\n    var re = /^[-+]?[0-9]+$/;\n    return re.test(val);\n  }\n\n  function isFloat(val) {\n    if (typeof val === 'string') val = val.replace(/\\s+/g, '').replace(w2utils.settings.groupSymbol, '').replace(w2utils.settings.decimalSymbol, '.');\n    return (typeof val === 'number' || (typeof val === 'string' && val !== '')) && !isNaN(Number(val));\n  }\n\n  function isMoney(val) {\n    var se = w2utils.settings;\n    var re = new RegExp('^' + (se.currencyPrefix ? '\\\\' + se.currencyPrefix + '?' : '') +\n      '[-+]?' + (se.currencyPrefix ? '\\\\' + se.currencyPrefix + '?' : '') +\n      '[0-9]*[\\\\' + se.decimalSymbol + ']?[0-9]+' + (se.currencySuffix ? '\\\\' + se.currencySuffix + '?' : '') + '$', 'i');\n    if (typeof val === 'string') {\n      val = val.replace(new RegExp(se.groupSymbol, 'g'), '');\n    }\n    if (typeof val === 'object' || val === '') return false;\n    return re.test(val);\n  }\n\n  function isHex(val) {\n    var re = /^(0x)?[0-9a-fA-F]+$/;\n    return re.test(val);\n  }\n\n  function isAlphaNumeric(val) {\n    var re = /^[a-zA-Z0-9_-]+$/;\n    return re.test(val);\n  }\n\n  function isEmail(val) {\n    var email = /^[a-zA-Z0-9._%\\-+]+@[а-яА-Яa-zA-Z0-9.-]+\\.[а-яА-Яa-zA-Z]+$/;\n    return email.test(val);\n  }\n\n  function isIpAddress(val) {\n    var re = new RegExp('^' +\n      '((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}' +\n      '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)' +\n      '$');\n    return re.test(val);\n  }\n\n  function isDate(val, format, retDate) {\n    if (!val) return false;\n\n    var dt = 'Invalid Date';\n    var month, day, year;\n\n    if (format == null) format = w2utils.settings.dateFormat;\n\n    if (typeof val.getFullYear === 'function') { // date object\n      year = val.getFullYear();\n      month = val.getMonth() + 1;\n      day = val.getDate();\n    } else if (parseInt(val) == val && parseInt(val) > 0) {\n      val = new Date(parseInt(val));\n      year = val.getFullYear();\n      month = val.getMonth() + 1;\n      day = val.getDate();\n    } else {\n      val = String(val);\n      // convert month formats\n      if (new RegExp('mon', 'ig').test(format)) {\n        format = format.replace(/month/ig, 'm').replace(/mon/ig, 'm').replace(/dd/ig, 'd').replace(/[, ]/ig, '/').replace(/\\/\\//g, '/').toLowerCase();\n        val = val.replace(/[, ]/ig, '/').replace(/\\/\\//g, '/').toLowerCase();\n        for (var m = 0, len = w2utils.settings.fullmonths.length; m < len; m++) {\n          var t = w2utils.settings.fullmonths[m];\n          val = val.replace(new RegExp(t, 'ig'), (parseInt(m) + 1)).replace(new RegExp(t.substr(0, 3), 'ig'), (parseInt(m) + 1));\n        }\n      }\n      // format date\n      var tmp = val.replace(/-/g, '/').replace(/\\./g, '/').toLowerCase().split('/');\n      var tmp2 = format.replace(/-/g, '/').replace(/\\./g, '/').toLowerCase();\n      if (tmp2 === 'mm/dd/yyyy') { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n      if (tmp2 === 'm/d/yyyy') { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n      if (tmp2 === 'dd/mm/yyyy') { month = tmp[1]; day = tmp[0]; year = tmp[2]; }\n      if (tmp2 === 'd/m/yyyy') { month = tmp[1]; day = tmp[0]; year = tmp[2]; }\n      if (tmp2 === 'yyyy/dd/mm') { month = tmp[2]; day = tmp[1]; year = tmp[0]; }\n      if (tmp2 === 'yyyy/d/m') { month = tmp[2]; day = tmp[1]; year = tmp[0]; }\n      if (tmp2 === 'yyyy/mm/dd') { month = tmp[1]; day = tmp[2]; year = tmp[0]; }\n      if (tmp2 === 'yyyy/m/d') { month = tmp[1]; day = tmp[2]; year = tmp[0]; }\n      if (tmp2 === 'mm/dd/yy') { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n      if (tmp2 === 'm/d/yy') { month = tmp[0]; day = tmp[1]; year = parseInt(tmp[2]) + 1900; }\n      if (tmp2 === 'dd/mm/yy') { month = tmp[1]; day = tmp[0]; year = parseInt(tmp[2]) + 1900; }\n      if (tmp2 === 'd/m/yy') { month = tmp[1]; day = tmp[0]; year = parseInt(tmp[2]) + 1900; }\n      if (tmp2 === 'yy/dd/mm') { month = tmp[2]; day = tmp[1]; year = parseInt(tmp[0]) + 1900; }\n      if (tmp2 === 'yy/d/m') { month = tmp[2]; day = tmp[1]; year = parseInt(tmp[0]) + 1900; }\n      if (tmp2 === 'yy/mm/dd') { month = tmp[1]; day = tmp[2]; year = parseInt(tmp[0]) + 1900; }\n      if (tmp2 === 'yy/m/d') { month = tmp[1]; day = tmp[2]; year = parseInt(tmp[0]) + 1900; }\n    }\n    if (!isInt(year)) return false;\n    if (!isInt(month)) return false;\n    if (!isInt(day)) return false;\n    year = +year;\n    month = +month;\n    day = +day;\n    dt = new Date(year, month - 1, day);\n    dt.setFullYear(year);\n    // do checks\n    if (month == null) return false;\n    if (String(dt) === 'Invalid Date') return false;\n    if ((dt.getMonth() + 1 !== month) || (dt.getDate() !== day) || (dt.getFullYear() !== year)) return false;\n    if (retDate === true) return dt; else return true;\n  }\n\n  function isTime(val, retTime) {\n    // Both formats 10:20pm and 22:20\n    if (val == null) return false;\n    var max, am, pm;\n    // -- process american format\n    val = String(val);\n    val = val.toUpperCase();\n    am = val.indexOf('AM') >= 0;\n    pm = val.indexOf('PM') >= 0;\n    var ampm = (pm || am);\n    if (ampm) max = 12; else max = 24;\n    val = val.replace('AM', '').replace('PM', '');\n    val = $.trim(val);\n    // ---\n    var tmp = val.split(':');\n    var h = parseInt(tmp[0] || 0), m = parseInt(tmp[1] || 0), s = parseInt(tmp[2] || 0);\n    // accept edge case: 3PM is a good timestamp, but 3 (without AM or PM) is NOT:\n    if ((!ampm || tmp.length !== 1) && tmp.length !== 2 && tmp.length !== 3) { return false; }\n    if (tmp[0] === '' || h < 0 || h > max || !this.isInt(tmp[0]) || tmp[0].length > 2) { return false; }\n    if (tmp.length > 1 && (tmp[1] === '' || m < 0 || m > 59 || !this.isInt(tmp[1]) || tmp[1].length !== 2)) { return false; }\n    if (tmp.length > 2 && (tmp[2] === '' || s < 0 || s > 59 || !this.isInt(tmp[2]) || tmp[2].length !== 2)) { return false; }\n    // check the edge cases: 12:01AM is ok, as is 12:01PM, but 24:01 is NOT ok while 24:00 is (midnight; equivalent to 00:00).\n    // meanwhile, there is 00:00 which is ok, but 0AM nor 0PM are okay, while 0:01AM and 0:00AM are.\n    if (!ampm && max === h && (m !== 0 || s !== 0)) { return false; }\n    if (ampm && tmp.length === 1 && h === 0) { return false; }\n\n    if (retTime === true) {\n      if (pm && h !== 12) h += 12;   // 12:00pm - is noon\n      if (am && h === 12) h += 12;   // 12:00am - is midnight\n      return {\n        hours: h,\n        minutes: m,\n        seconds: s\n      };\n    }\n    return true;\n  }\n\n  function isDateTime(val, format, retDate) {\n    if (typeof val.getFullYear === 'function') { // date object\n      if (retDate !== true) return true;\n      return val;\n    }\n    var intVal = parseInt(val);\n    if (intVal === val) {\n      if (intVal < 0) return false;\n      else if (retDate !== true) return true;\n      else return new Date(intVal);\n    }\n    var tmp = String(val).indexOf(' ');\n    if (tmp < 0) {\n      if (String(val).indexOf('T') < 0 || String(new Date(val)) == 'Invalid Date') return false;\n      else if (retDate !== true) return true;\n      else return new Date(val);\n    } else {\n      if (format == null) format = w2utils.settings.datetimeFormat;\n      var formats = format.split('|');\n      var values = [val.substr(0, tmp), val.substr(tmp).trim()];\n      formats[0] = formats[0].trim();\n      if (formats[1]) formats[1] = formats[1].trim();\n      // check\n      var tmp1 = w2utils.isDate(values[0], formats[0], true);\n      var tmp2 = w2utils.isTime(values[1], true);\n      if (tmp1 !== false && tmp2 !== false) {\n        if (retDate !== true) return true;\n        tmp1.setHours(tmp2.hours);\n        tmp1.setMinutes(tmp2.minutes);\n        tmp1.setSeconds(tmp2.seconds);\n        return tmp1;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  function age(dateStr) {\n    var d1;\n    if (dateStr === '' || dateStr == null) return '';\n    if (typeof dateStr.getFullYear === 'function') { // date object\n      d1 = dateStr;\n    } else if (parseInt(dateStr) == dateStr && parseInt(dateStr) > 0) {\n      d1 = new Date(parseInt(dateStr));\n    } else {\n      d1 = new Date(dateStr);\n    }\n    if (String(d1) === 'Invalid Date') return '';\n\n    var d2 = new Date();\n    var sec = (d2.getTime() - d1.getTime()) / 1000;\n    var amount = '';\n    var type = '';\n    if (sec < 0) {\n      amount = 0;\n      type = 'sec';\n    } else if (sec < 60) {\n      amount = Math.floor(sec);\n      type = 'sec';\n      if (sec < 0) { amount = 0; type = 'sec'; }\n    } else if (sec < 60 * 60) {\n      amount = Math.floor(sec / 60);\n      type = 'min';\n    } else if (sec < 24 * 60 * 60) {\n      amount = Math.floor(sec / 60 / 60);\n      type = 'hour';\n    } else if (sec < 30 * 24 * 60 * 60) {\n      amount = Math.floor(sec / 24 / 60 / 60);\n      type = 'day';\n    } else if (sec < 365 * 24 * 60 * 60) {\n      amount = Math.floor(sec / 30 / 24 / 60 / 60 * 10) / 10;\n      type = 'month';\n    } else if (sec < 365 * 4 * 24 * 60 * 60) {\n      amount = Math.floor(sec / 365 / 24 / 60 / 60 * 10) / 10;\n      type = 'year';\n    } else if (sec >= 365 * 4 * 24 * 60 * 60) {\n      // factor in leap year shift (only older then 4 years)\n      amount = Math.floor(sec / 365.25 / 24 / 60 / 60 * 10) / 10;\n      type = 'year';\n    }\n    return amount + ' ' + type + (amount > 1 ? 's' : '');\n  }\n\n  function interval(value) {\n    var ret = '';\n    if (value < 1000) {\n      ret = \"< 1 sec\";\n    } else if (value < 60000) {\n      ret = Math.floor(value / 1000) + \" secs\";\n    } else if (value < 3600000) {\n      ret = Math.floor(value / 60000) + \" mins\";\n    } else if (value < 86400000) {\n      ret = Math.floor(value / 3600000 * 10) / 10 + \" hours\";\n    } else if (value < 2628000000) {\n      ret = Math.floor(value / 86400000 * 10) / 10 + \" days\";\n    } else if (value < 3.1536e+10) {\n      ret = Math.floor(value / 2628000000 * 10) / 10 + \" months\";\n    } else {\n      ret = Math.floor(value / 3.1536e+9) / 10 + \" years\";\n    }\n    return ret;\n  }\n\n  function date(dateStr) {\n    if (dateStr === '' || dateStr == null || (typeof dateStr === 'object' && !dateStr.getMonth)) return '';\n    var d1 = new Date(dateStr);\n    if (w2utils.isInt(dateStr)) d1 = new Date(Number(dateStr)); // for unix timestamps\n    if (String(d1) === 'Invalid Date') return '';\n\n    var months = w2utils.settings.shortmonths;\n    var d2 = new Date(); // today\n    var d3 = new Date();\n    d3.setTime(d3.getTime() - 86400000); // yesterday\n\n    var dd1 = months[d1.getMonth()] + ' ' + d1.getDate() + ', ' + d1.getFullYear();\n    var dd2 = months[d2.getMonth()] + ' ' + d2.getDate() + ', ' + d2.getFullYear();\n    var dd3 = months[d3.getMonth()] + ' ' + d3.getDate() + ', ' + d3.getFullYear();\n\n    var time = (d1.getHours() - (d1.getHours() > 12 ? 12 : 0)) + ':' + (d1.getMinutes() < 10 ? '0' : '') + d1.getMinutes() + ' ' + (d1.getHours() >= 12 ? 'pm' : 'am');\n    var time2 = (d1.getHours() - (d1.getHours() > 12 ? 12 : 0)) + ':' + (d1.getMinutes() < 10 ? '0' : '') + d1.getMinutes() + ':' + (d1.getSeconds() < 10 ? '0' : '') + d1.getSeconds() + ' ' + (d1.getHours() >= 12 ? 'pm' : 'am');\n    var dsp = dd1;\n    if (dd1 === dd2) dsp = time;\n    if (dd1 === dd3) dsp = w2utils.lang('Yesterday');\n\n    return '<span title=\"' + dd1 + ' ' + time2 + '\">' + dsp + '</span>';\n  }\n\n  function formatSize(sizeStr) {\n    if (!w2utils.isFloat(sizeStr) || sizeStr === '') return '';\n    sizeStr = parseFloat(sizeStr);\n    if (sizeStr === 0) return 0;\n    var sizes = ['Bt', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB'];\n    var i = parseInt(Math.floor(Math.log(sizeStr) / Math.log(1024)));\n    return (Math.floor(sizeStr / Math.pow(1024, i) * 10) / 10).toFixed(i === 0 ? 0 : 1) + ' ' + (sizes[i] || '??');\n  }\n\n  function formatNumber(val, fraction, useGrouping) {\n    if (val == null || val === '' || typeof val === 'object') return '';\n    var options = {\n      minimumFractionDigits: fraction,\n      maximumFractionDigits: fraction,\n      useGrouping: useGrouping\n    };\n    if (fraction == null || fraction < 0) {\n      options.minimumFractionDigits = 0;\n      options.maximumFractionDigits = 20;\n    }\n\n    /*return parseFloat(val).toLocaleString(w2utils.settings.locale, options);*/\n    return parseFloat(val)\n  }\n\n  function formatDate(dateStr, format) { // IMPORTANT dateStr HAS TO BE valid JavaScript Date String\n    if (!format) format = this.settings.dateFormat;\n    if (dateStr === '' || dateStr == null || (typeof dateStr === 'object' && !dateStr.getMonth)) return '';\n\n    var dt = new Date(dateStr);\n    if (w2utils.isInt(dateStr)) dt = new Date(Number(dateStr)); // for unix timestamps\n    if (String(dt) === 'Invalid Date') return '';\n\n    var year = dt.getFullYear();\n    var month = dt.getMonth();\n    var date = dt.getDate();\n    return format.toLowerCase()\n      .replace('month', w2utils.settings.fullmonths[month])\n      .replace('mon', w2utils.settings.shortmonths[month])\n      .replace(/yyyy/g, ('000' + year).slice(-4))\n      .replace(/yyy/g, ('000' + year).slice(-4))\n      .replace(/yy/g, ('0' + year).slice(-2))\n      .replace(/(^|[^a-z$])y/g, '$1' + year)            // only y's that are not preceded by a letter\n      .replace(/mm/g, ('0' + (month + 1)).slice(-2))\n      .replace(/dd/g, ('0' + date).slice(-2))\n      .replace(/th/g, (date == 1 ? 'st' : 'th'))\n      .replace(/th/g, (date == 2 ? 'nd' : 'th'))\n      .replace(/th/g, (date == 3 ? 'rd' : 'th'))\n      .replace(/(^|[^a-z$])m/g, '$1' + (month + 1))     // only y's that are not preceded by a letter\n      .replace(/(^|[^a-z$])d/g, '$1' + date);           // only y's that are not preceded by a letter\n  }\n\n  function formatTime(dateStr, format) { // IMPORTANT dateStr HAS TO BE valid JavaScript Date String\n    var months = w2utils.settings.shortmonths;\n    var fullMonths = w2utils.settings.fullmonths;\n    if (!format) format = this.settings.timeFormat;\n    if (dateStr === '' || dateStr == null || (typeof dateStr === 'object' && !dateStr.getMonth)) return '';\n\n    var dt = new Date(dateStr);\n    if (w2utils.isInt(dateStr)) dt = new Date(Number(dateStr)); // for unix timestamps\n    if (w2utils.isTime(dateStr)) {\n      var tmp = w2utils.isTime(dateStr, true);\n      dt = new Date();\n      dt.setHours(tmp.hours);\n      dt.setMinutes(tmp.minutes);\n    }\n    if (String(dt) === 'Invalid Date') return '';\n\n    var type = 'am';\n    var hour = dt.getHours();\n    var h24 = dt.getHours();\n    var min = dt.getMinutes();\n    var sec = dt.getSeconds();\n    if (min < 10) min = '0' + min;\n    if (sec < 10) sec = '0' + sec;\n    if (format.indexOf('am') !== -1 || format.indexOf('pm') !== -1) {\n      if (hour >= 12) type = 'pm';\n      if (hour > 12) hour = hour - 12;\n      if (hour === 0) hour = 12;\n    }\n    return format.toLowerCase()\n      .replace('am', type)\n      .replace('pm', type)\n      .replace('hhh', (hour < 10 ? '0' + hour : hour))\n      .replace('hh24', (h24 < 10 ? '0' + h24 : h24))\n      .replace('h24', h24)\n      .replace('hh', hour)\n      .replace('mm', min)\n      .replace('mi', min)\n      .replace('ss', sec)\n      .replace(/(^|[^a-z$])h/g, '$1' + hour)    // only y's that are not preceded by a letter\n      .replace(/(^|[^a-z$])m/g, '$1' + min)     // only y's that are not preceded by a letter\n      .replace(/(^|[^a-z$])s/g, '$1' + sec);    // only y's that are not preceded by a letter\n  }\n\n  function formatDateTime(dateStr, format) {\n    var fmt;\n    if (dateStr === '' || dateStr == null || (typeof dateStr === 'object' && !dateStr.getMonth)) return '';\n    if (typeof format !== 'string') {\n      fmt = [this.settings.dateFormat, this.settings.timeFormat];\n    } else {\n      fmt = format.split('|');\n      fmt[0] = fmt[0].trim();\n      fmt[1] = (fmt.length > 1 ? fmt[1].trim() : this.settings.timeFormat);\n    }\n    // older formats support\n    if (fmt[1] === 'h12') fmt[1] = 'h:m pm';\n    if (fmt[1] === 'h24') fmt[1] = 'h24:m';\n    return this.formatDate(dateStr, fmt[0]) + ' ' + this.formatTime(dateStr, fmt[1]);\n  }\n\n  function stripTags(html) {\n    if (html == null) return html;\n    switch (typeof html) {\n      case 'number':\n        break;\n      case 'string':\n        html = String(html).replace(/<(?:[^>=]|='[^']*'|=\"[^\"]*\"|=[^'\"][^\\s>]*)*>/ig, \"\");\n        break;\n      case 'object':\n        // does not modify original object, but creates a copy\n        if (Array.isArray(html)) {\n          html = $.extend(true, [], html);\n          for (var i = 0; i < html.length; i++) html[i] = this.stripTags(html[i]);\n        } else {\n          html = $.extend(true, {}, html);\n          for (var i in html) html[i] = this.stripTags(html[i]);\n        }\n        break;\n    }\n    return html;\n  }\n\n  function encodeTags(html) {\n    if (html == null) return html;\n    switch (typeof html) {\n      case 'number':\n        break;\n      case 'string':\n        html = String(html).replace(/&/g, \"&amp;\").replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\n        break;\n      case 'object':\n        // does not modify original object, but creates a copy\n        if (Array.isArray(html)) {\n          html = $.extend(true, [], html);\n          for (var i = 0; i < html.length; i++) html[i] = this.encodeTags(html[i]);\n        } else {\n          html = $.extend(true, {}, html);\n          for (var i in html) html[i] = this.encodeTags(html[i]);\n        }\n        break;\n    }\n    return html;\n  }\n\n  function decodeTags(html) {\n    if (html == null) return html;\n    switch (typeof html) {\n      case 'number':\n        break;\n      case 'string':\n        html = String(html).replace(/&gt;/g, \">\").replace(/&lt;/g, \"<\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\");\n        break;\n      case 'object':\n        // does not modify original object, but creates a copy\n        if (Array.isArray(html)) {\n          html = $.extend(true, [], html);\n          for (var i = 0; i < html.length; i++) html[i] = this.decodeTags(html[i]);\n        } else {\n          html = $.extend(true, {}, html);\n          for (var i in html) html[i] = this.decodeTags(html[i]);\n        }\n        break;\n    }\n    return html;\n  }\n\n  function escapeId(id) {\n    if (id === '' || id == null) return '';\n    return String(id).replace(/([;&,\\.\\+\\*\\~'`:\"\\!\\^#$%@\\[\\]\\(\\)=<>\\|\\/? {}\\\\])/g, '\\\\$1');\n  }\n\n  function base64encode(input) {\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n    var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    input = utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n      output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n    }\n\n    function utf8_encode(string) {\n      string = String(string).replace(/\\r\\n/g, \"\\n\");\n      var utftext = \"\";\n\n      for (var n = 0; n < string.length; n++) {\n        var c = string.charCodeAt(n);\n        if (c < 128) {\n          utftext += String.fromCharCode(c);\n        }\n        else if ((c > 127) && (c < 2048)) {\n          utftext += String.fromCharCode((c >> 6) | 192);\n          utftext += String.fromCharCode((c & 63) | 128);\n        }\n        else {\n          utftext += String.fromCharCode((c >> 12) | 224);\n          utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n          utftext += String.fromCharCode((c & 63) | 128);\n        }\n      }\n      return utftext;\n    }\n\n    return output;\n  }\n\n  function base64decode(input) {\n    var output = \"\";\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n    var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n    while (i < input.length) {\n      enc1 = keyStr.indexOf(input.charAt(i++));\n      enc2 = keyStr.indexOf(input.charAt(i++));\n      enc3 = keyStr.indexOf(input.charAt(i++));\n      enc4 = keyStr.indexOf(input.charAt(i++));\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n      output = output + String.fromCharCode(chr1);\n      if (enc3 !== 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n      if (enc4 !== 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    }\n    output = utf8_decode(output);\n\n    function utf8_decode(utftext) {\n      var string = \"\";\n      var i = 0;\n      var c = 0, c2, c3;\n\n      while (i < utftext.length) {\n        c = utftext.charCodeAt(i);\n        if (c < 128) {\n          string += String.fromCharCode(c);\n          i++;\n        }\n        else if ((c > 191) && (c < 224)) {\n          c2 = utftext.charCodeAt(i + 1);\n          string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n          i += 2;\n        }\n        else {\n          c2 = utftext.charCodeAt(i + 1);\n          c3 = utftext.charCodeAt(i + 2);\n          string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n          i += 3;\n        }\n      }\n\n      return string;\n    }\n\n    return output;\n  }\n\n  function md5(input) {\n    /*\n     * Based on http://pajhome.org.uk/crypt/md5\n     */\n\n    var hexcase = 0;\n    var b64pad = \"\";\n\n    function __pj_crypt_hex_md5(s) {\n      return __pj_crypt_rstr2hex(__pj_crypt_rstr_md5(__pj_crypt_str2rstr_utf8(s)));\n    }\n    function __pj_crypt_b64_md5(s) {\n      return __pj_crypt_rstr2b64(__pj_crypt_rstr_md5(__pj_crypt_str2rstr_utf8(s)));\n    }\n    function __pj_crypt_any_md5(s, e) {\n      return __pj_crypt_rstr2any(__pj_crypt_rstr_md5(__pj_crypt_str2rstr_utf8(s)), e);\n    }\n    function __pj_crypt_hex_hmac_md5(k, d) {\n      return __pj_crypt_rstr2hex(__pj_crypt_rstr_hmac_md5(__pj_crypt_str2rstr_utf8(k), __pj_crypt_str2rstr_utf8(d)));\n    }\n    function __pj_crypt_b64_hmac_md5(k, d) {\n      return __pj_crypt_rstr2b64(__pj_crypt_rstr_hmac_md5(__pj_crypt_str2rstr_utf8(k), __pj_crypt_str2rstr_utf8(d)));\n    }\n    function __pj_crypt_any_hmac_md5(k, d, e) {\n      return __pj_crypt_rstr2any(__pj_crypt_rstr_hmac_md5(__pj_crypt_str2rstr_utf8(k), __pj_crypt_str2rstr_utf8(d)), e);\n    }\n\n    /*\n     * Calculate the MD5 of a raw string\n     */\n    function __pj_crypt_rstr_md5(s) {\n      return __pj_crypt_binl2rstr(__pj_crypt_binl_md5(__pj_crypt_rstr2binl(s), s.length * 8));\n    }\n\n    /*\n     * Calculate the HMAC-MD5, of a key and some data (raw strings)\n     */\n    function __pj_crypt_rstr_hmac_md5(key, data) {\n      var bkey = __pj_crypt_rstr2binl(key);\n      if (bkey.length > 16)\n        bkey = __pj_crypt_binl_md5(bkey, key.length * 8);\n\n      var ipad = Array(16), opad = Array(16);\n      for (var i = 0; i < 16; i++) {\n        ipad[i] = bkey[i] ^ 0x36363636;\n        opad[i] = bkey[i] ^ 0x5C5C5C5C;\n      }\n\n      var hash = __pj_crypt_binl_md5(ipad.concat(__pj_crypt_rstr2binl(data)), 512 + data.length * 8);\n      return __pj_crypt_binl2rstr(__pj_crypt_binl_md5(opad.concat(hash), 512 + 128));\n    }\n\n    /*\n     * Convert a raw string to a hex string\n     */\n    function __pj_crypt_rstr2hex(input) {\n      try {\n        hexcase\n      } catch (e) {\n        hexcase = 0;\n      }\n      var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n      var output = \"\";\n      var x;\n      for (var i = 0; i < input.length; i++) {\n        x = input.charCodeAt(i);\n        output += hex_tab.charAt((x >>> 4) & 0x0F)\n          + hex_tab.charAt(x & 0x0F);\n      }\n      return output;\n    }\n\n    /*\n     * Convert a raw string to a base-64 string\n     */\n    function __pj_crypt_rstr2b64(input) {\n      try {\n        b64pad\n      } catch (e) {\n        b64pad = '';\n      }\n      var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n      var output = \"\";\n      var len = input.length;\n      for (var i = 0; i < len; i += 3) {\n        var triplet = (input.charCodeAt(i) << 16)\n          | (i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0)\n          | (i + 2 < len ? input.charCodeAt(i + 2) : 0);\n        for (var j = 0; j < 4; j++) {\n          if (i * 8 + j * 6 > input.length * 8)\n            output += b64pad;\n          else\n            output += tab.charAt((triplet >>> 6 * (3 - j)) & 0x3F);\n        }\n      }\n      return output;\n    }\n\n    /*\n     * Convert a raw string to an arbitrary string encoding\n     */\n    function __pj_crypt_rstr2any(input, encoding) {\n      var divisor = encoding.length;\n      var i, j, q, x, quotient;\n\n      /* Convert to an array of 16-bit big-endian values, forming the dividend */\n      var dividend = Array(Math.ceil(input.length / 2));\n      for (i = 0; i < dividend.length; i++) {\n        dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n      }\n\n      /*\n       * Repeatedly perform a long division. The binary array forms the dividend,\n       * the length of the encoding is the divisor. Once computed, the quotient\n       * forms the dividend for the next step. All remainders are stored for later\n       * use.\n       */\n      var full_length = Math.ceil(input.length * 8 /\n        (Math.log(encoding.length) / Math.log(2)));\n      var remainders = Array(full_length);\n      for (j = 0; j < full_length; j++) {\n        quotient = Array();\n        x = 0;\n        for (i = 0; i < dividend.length; i++) {\n          x = (x << 16) + dividend[i];\n          q = Math.floor(x / divisor);\n          x -= q * divisor;\n          if (quotient.length > 0 || q > 0)\n            quotient[quotient.length] = q;\n        }\n        remainders[j] = x;\n        dividend = quotient;\n      }\n\n      /* Convert the remainders to the output string */\n      var output = \"\";\n      for (i = remainders.length - 1; i >= 0; i--)\n        output += encoding.charAt(remainders[i]);\n\n      return output;\n    }\n\n    /*\n     * Encode a string as utf-8.\n     * For efficiency, this assumes the input is valid utf-16.\n     */\n    function __pj_crypt_str2rstr_utf8(input) {\n      var output = \"\";\n      var i = -1;\n      var x, y;\n\n      while (++i < input.length) {\n        /* Decode utf-16 surrogate pairs */\n        x = input.charCodeAt(i);\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n        if (0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF) {\n          x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n          i++;\n        }\n\n        /* Encode output as utf-8 */\n        if (x <= 0x7F)\n          output += String.fromCharCode(x);\n        else if (x <= 0x7FF)\n          output += String.fromCharCode(0xC0 | ((x >>> 6) & 0x1F),\n            0x80 | (x & 0x3F));\n        else if (x <= 0xFFFF)\n          output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n            0x80 | ((x >>> 6) & 0x3F),\n            0x80 | (x & 0x3F));\n        else if (x <= 0x1FFFFF)\n          output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n            0x80 | ((x >>> 12) & 0x3F),\n            0x80 | ((x >>> 6) & 0x3F),\n            0x80 | (x & 0x3F));\n      }\n      return output;\n    }\n\n    /*\n     * Encode a string as utf-16\n     */\n    function __pj_crypt_str2rstr_utf16le(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length; i++)\n        output += String.fromCharCode(input.charCodeAt(i) & 0xFF,\n          (input.charCodeAt(i) >>> 8) & 0xFF);\n      return output;\n    }\n\n    function __pj_crypt_str2rstr_utf16be(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length; i++)\n        output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n          input.charCodeAt(i) & 0xFF);\n      return output;\n    }\n\n    /*\n     * Convert a raw string to an array of little-endian words\n     * Characters >255 have their high-byte silently ignored.\n     */\n    function __pj_crypt_rstr2binl(input) {\n      var output = Array(input.length >> 2);\n      for (var i = 0; i < output.length; i++)\n        output[i] = 0;\n      for (var i = 0; i < input.length * 8; i += 8)\n        output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n      return output;\n    }\n\n    /*\n     * Convert an array of little-endian words to a string\n     */\n    function __pj_crypt_binl2rstr(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length * 32; i += 8)\n        output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n      return output;\n    }\n\n    /*\n     * Calculate the MD5 of an array of little-endian words, and a bit length.\n     */\n    function __pj_crypt_binl_md5(x, len) {\n      /* append padding */\n      x[len >> 5] |= 0x80 << ((len) % 32);\n      x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n\n      for (var i = 0; i < x.length; i += 16) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n\n        a = __pj_crypt_md5_ff(a, b, c, d, x[i + 0], 7, -680876936);\n        d = __pj_crypt_md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n        c = __pj_crypt_md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n        b = __pj_crypt_md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n        a = __pj_crypt_md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n        d = __pj_crypt_md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n        c = __pj_crypt_md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n        b = __pj_crypt_md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n        a = __pj_crypt_md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n        d = __pj_crypt_md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n        c = __pj_crypt_md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n        b = __pj_crypt_md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n        a = __pj_crypt_md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n        d = __pj_crypt_md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n        c = __pj_crypt_md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n        b = __pj_crypt_md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n        a = __pj_crypt_md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n        d = __pj_crypt_md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n        c = __pj_crypt_md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n        b = __pj_crypt_md5_gg(b, c, d, a, x[i + 0], 20, -373897302);\n        a = __pj_crypt_md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n        d = __pj_crypt_md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n        c = __pj_crypt_md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n        b = __pj_crypt_md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n        a = __pj_crypt_md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n        d = __pj_crypt_md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n        c = __pj_crypt_md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n        b = __pj_crypt_md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n        a = __pj_crypt_md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n        d = __pj_crypt_md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n        c = __pj_crypt_md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n        b = __pj_crypt_md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n        a = __pj_crypt_md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n        d = __pj_crypt_md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n        c = __pj_crypt_md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n        b = __pj_crypt_md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n        a = __pj_crypt_md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n        d = __pj_crypt_md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n        c = __pj_crypt_md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n        b = __pj_crypt_md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n        a = __pj_crypt_md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n        d = __pj_crypt_md5_hh(d, a, b, c, x[i + 0], 11, -358537222);\n        c = __pj_crypt_md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n        b = __pj_crypt_md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n        a = __pj_crypt_md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n        d = __pj_crypt_md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n        c = __pj_crypt_md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n        b = __pj_crypt_md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n        a = __pj_crypt_md5_ii(a, b, c, d, x[i + 0], 6, -198630844);\n        d = __pj_crypt_md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n        c = __pj_crypt_md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n        b = __pj_crypt_md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n        a = __pj_crypt_md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n        d = __pj_crypt_md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n        c = __pj_crypt_md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n        b = __pj_crypt_md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n        a = __pj_crypt_md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n        d = __pj_crypt_md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n        c = __pj_crypt_md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n        b = __pj_crypt_md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n        a = __pj_crypt_md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n        d = __pj_crypt_md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n        c = __pj_crypt_md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n        b = __pj_crypt_md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n        a = __pj_crypt_safe_add(a, olda);\n        b = __pj_crypt_safe_add(b, oldb);\n        c = __pj_crypt_safe_add(c, oldc);\n        d = __pj_crypt_safe_add(d, oldd);\n      }\n      return Array(a, b, c, d);\n    }\n\n    /*\n     * These functions implement the four basic operations the algorithm uses.\n     */\n    function __pj_crypt_md5_cmn(q, a, b, x, s, t) {\n      return __pj_crypt_safe_add(__pj_crypt_bit_rol(__pj_crypt_safe_add(__pj_crypt_safe_add(a, q), __pj_crypt_safe_add(x, t)), s), b);\n    }\n    function __pj_crypt_md5_ff(a, b, c, d, x, s, t) {\n      return __pj_crypt_md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n    }\n    function __pj_crypt_md5_gg(a, b, c, d, x, s, t) {\n      return __pj_crypt_md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n    }\n    function __pj_crypt_md5_hh(a, b, c, d, x, s, t) {\n      return __pj_crypt_md5_cmn(b ^ c ^ d, a, b, x, s, t);\n    }\n    function __pj_crypt_md5_ii(a, b, c, d, x, s, t) {\n      return __pj_crypt_md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n    }\n\n    /*\n     * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n     * to work around bugs in some JS interpreters.\n     */\n    function __pj_crypt_safe_add(x, y) {\n      var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    /*\n     * Bitwise rotate a 32-bit number to the left.\n     */\n    function __pj_crypt_bit_rol(num, cnt) {\n      return (num << cnt) | (num >>> (32 - cnt));\n    }\n\n    return __pj_crypt_hex_md5(input);\n\n  }\n\n  function transition(div_old, div_new, type, callBack) {\n    var width = $(div_old).width();\n    var height = $(div_old).height();\n    var time = 0.5;\n\n    if (!div_old || !div_new) {\n      console.log('ERROR: Cannot do transition when one of the divs is null');\n      return;\n    }\n\n    div_old.parentNode.style.cssText += 'perspective: 900px; overflow: hidden;';\n    div_old.style.cssText += '; position: absolute; z-index: 1019; backface-visibility: hidden';\n    div_new.style.cssText += '; position: absolute; z-index: 1020; backface-visibility: hidden';\n\n    switch (type) {\n      case 'slide-left':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; transform: translate3d(' + width + 'px, 0, 0)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: translate3d(0, 0, 0)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: translate3d(-' + width + 'px, 0, 0)';\n        }, 1);\n        break;\n\n      case 'slide-right':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; transform: translate3d(-' + width + 'px, 0, 0)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: translate3d(0px, 0, 0)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: translate3d(' + width + 'px, 0, 0)';\n        }, 1);\n        break;\n\n      case 'slide-down':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; z-index: 1; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; z-index: 0; transform: translate3d(0, 0, 0)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: translate3d(0, 0, 0)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: translate3d(0, ' + height + 'px, 0)';\n        }, 1);\n        break;\n\n      case 'slide-up':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; transform: translate3d(0, ' + height + 'px, 0)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: translate3d(0, 0, 0)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: translate3d(0, 0, 0)';\n        }, 1);\n        break;\n\n      case 'flip-left':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: rotateY(0deg)';\n        div_new.style.cssText += 'overflow: hidden; transform: rotateY(-180deg)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: rotateY(0deg)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: rotateY(180deg)';\n        }, 1);\n        break;\n\n      case 'flip-right':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: rotateY(0deg)';\n        div_new.style.cssText += 'overflow: hidden; transform: rotateY(180deg)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: rotateY(0deg)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: rotateY(-180deg)';\n        }, 1);\n        break;\n\n      case 'flip-down':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: rotateX(0deg)';\n        div_new.style.cssText += 'overflow: hidden; transform: rotateX(180deg)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: rotateX(0deg)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: rotateX(-180deg)';\n        }, 1);\n        break;\n\n      case 'flip-up':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: rotateX(0deg)';\n        div_new.style.cssText += 'overflow: hidden; transform: rotateX(-180deg)';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: rotateX(0deg)';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: rotateX(180deg)';\n        }, 1);\n        break;\n\n      case 'pop-in':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(.8); opacity: 0;';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; transform: scale(1); opacity: 1;';\n          div_old.style.cssText += 'transition: ' + time + 's;';\n        }, 1);\n        break;\n\n      case 'pop-out':\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0); transform: scale(1); opacity: 1;';\n        div_new.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0); opacity: 0;';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; opacity: 1;';\n          div_old.style.cssText += 'transition: ' + time + 's; transform: scale(1.7); opacity: 0;';\n        }, 1);\n        break;\n\n      default:\n        // init divs\n        div_old.style.cssText += 'overflow: hidden; transform: translate3d(0, 0, 0)';\n        div_new.style.cssText += 'overflow: hidden; translate3d(0, 0, 0); opacity: 0;';\n        $(div_new).show();\n        // -- need a timing function because otherwise not working\n        window.setTimeout(function () {\n          div_new.style.cssText += 'transition: ' + time + 's; opacity: 1;';\n          div_old.style.cssText += 'transition: ' + time + 's';\n        }, 1);\n        break;\n    }\n\n    setTimeout(function () {\n      if (type === 'slide-down') {\n        $(div_old).css('z-index', '1019');\n        $(div_new).css('z-index', '1020');\n      }\n      if (div_new) {\n        $(div_new).css({ 'opacity': '1' }).css(w2utils.cssPrefix({\n          'transition': '',\n          'transform': ''\n        }));\n      }\n      if (div_old) {\n        $(div_old).css({ 'opacity': '1' }).css(w2utils.cssPrefix({\n          'transition': '',\n          'transform': ''\n        }));\n      }\n      if (typeof callBack === 'function') callBack();\n    }, time * 1000);\n  }\n\n  function lock(box, msg, spinner) {\n    var options = {};\n    if (typeof msg === 'object') {\n      options = msg;\n    } else {\n      options.msg = msg;\n      options.spinner = spinner;\n    }\n    if (!options.msg && options.msg !== 0) options.msg = '';\n    w2utils.unlock(box);\n    $(box).prepend(\n      '<div class=\"w2ui-lock\"></div>' +\n      '<div class=\"w2ui-lock-msg\"></div>'\n    );\n    var $lock = $(box).find('.w2ui-lock');\n    var mess = $(box).find('.w2ui-lock-msg');\n    if (!options.msg) mess.css({ 'background-color': 'transparent', 'border': '0px' });\n    if (options.spinner === true) options.msg = '<div class=\"w2ui-spinner\" ' + (!options.msg ? 'style=\"width: 35px; height: 35px\"' : '') + '></div>' + options.msg;\n    if (options.opacity != null) $lock.css('opacity', options.opacity);\n    if (typeof $lock.fadeIn === 'function') {\n      $lock.fadeIn(200);\n      mess.html(options.msg).fadeIn(200);\n    } else {\n      $lock.show();\n      mess.html(options.msg).show(0);\n    }\n  }\n\n  function unlock(box, speed) {\n    if (isInt(speed)) {\n      $(box).find('.w2ui-lock').fadeOut(speed);\n      setTimeout(function () {\n        $(box).find('.w2ui-lock').remove();\n        $(box).find('.w2ui-lock-msg').remove();\n      }, speed);\n    } else {\n      $(box).find('.w2ui-lock').remove();\n      $(box).find('.w2ui-lock-msg').remove();\n    }\n  }\n\n  /**\n  *  Used in w2popup, w2grid, w2form, w2layout\n  *  should be called with .call(...) method\n  */\n\n  function message(where, options) {\n    var obj = this, closeTimer, edata;\n    // var where.path    = 'w2popup';\n    // var where.title   = '.w2ui-popup-title';\n    // var where.body    = '.w2ui-box';\n    $().w2tag(); // hide all tags\n    if (!options) options = { width: 200, height: 100 };\n    if (options.on == null) $.extend(options, w2utils.event);\n    if (options.width == null) options.width = 200;\n    if (options.height == null) options.height = 100;\n    var pWidth = parseInt($(where.box).width());\n    var pHeight = parseInt($(where.box).height());\n    var titleHeight = parseInt($(where.box).find(where.title).css('height') || 0);\n    if (options.width > pWidth) options.width = pWidth - 10;\n    if (options.height > pHeight - titleHeight) options.height = pHeight - 10 - titleHeight;\n    options.originalWidth = options.width;\n    options.originalHeight = options.height;\n    if (parseInt(options.width) < 0) options.width = pWidth + options.width;\n    if (parseInt(options.width) < 10) options.width = 10;\n    if (parseInt(options.height) < 0) options.height = pHeight + options.height - titleHeight;\n    if (parseInt(options.height) < 10) options.height = 10;\n    if (options.hideOnClick == null) options.hideOnClick = false;\n    var poptions = $(where.box).data('options') || {};\n    if (options.width == null || options.width > poptions.width - 10) {\n      options.width = poptions.width - 10;\n    }\n    if (options.height == null || options.height > poptions.height - titleHeight - 5) {\n      options.height = poptions.height - titleHeight - 5; // need margin from bottom only\n    }\n    // negative value means margin\n    if (options.originalHeight < 0) options.height = pHeight + options.originalHeight - titleHeight;\n    if (options.originalWidth < 0) options.width = pWidth + options.originalWidth * 2; // x 2 because there is left and right margin\n    var head = $(where.box).find(where.title);\n\n    // if some messages are closing, insta close them\n    var $tmp = $(where.box).find('.w2ui-message.w2ui-closing');\n    if ($(where.box).find('.w2ui-message.w2ui-closing').length > 0) {\n      clearTimeout(closeTimer);\n      closeCB($tmp, $tmp.data('options') || {});\n    }\n    var msgCount = $(where.box).find('.w2ui-message').length;\n    // remove message\n    if ($.trim(options.html) === '' && $.trim(options.body) === '' && $.trim(options.buttons) === '') {\n      if (msgCount === 0) return; // no messages at all\n      var $msg = $(where.box).find('#w2ui-message' + (msgCount - 1));\n      var options = $msg.data('options') || {};\n      // before event\n      edata = options.trigger({ phase: 'before', type: 'close', target: 'self' });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      $msg.css(w2utils.cssPrefix({\n        'transition': '0.15s',\n        'transform': 'translateY(-' + options.height + 'px)'\n      })).addClass('w2ui-closing');\n      if (msgCount === 1) {\n        if (this.unlock) {\n          if (where.param) this.unlock(where.param, 150); else this.unlock(150);\n        }\n      } else {\n        $(where.box).find('#w2ui-message' + (msgCount - 2)).css('z-index', 1500);\n      }\n      closeTimer = setTimeout(function () { closeCB($msg, options); }, 150);\n\n    } else {\n\n      if ($.trim(options.body) !== '' || $.trim(options.buttons) !== '') {\n        options.html = '<div class=\"w2ui-message-body\">' + (options.body || '') + '</div>' +\n          '<div class=\"w2ui-message-buttons\">' + (options.buttons || '') + '</div>';\n      }\n      // hide previous messages\n      $(where.box).find('.w2ui-message').css('z-index', 1390);\n      head.data('old-z-index', head.css('z-index'));\n      head.css('z-index', 1501);\n      // add message\n      $(where.box).find(where.body)\n        .before('<div id=\"w2ui-message' + msgCount + '\" onmousedown=\"event.stopPropagation();\" ' +\n          '   class=\"w2ui-message\" style=\"display: none; z-index: 1500; ' +\n          (head.length === 0 ? 'top: 0px;' : 'top: ' + w2utils.getSize(head, 'height') + 'px;') +\n          (options.width != null ? 'width: ' + options.width + 'px; left: ' + ((pWidth - options.width) / 2) + 'px;' : 'left: 10px; right: 10px;') +\n          (options.height != null ? 'height: ' + options.height + 'px;' : 'bottom: 6px;') +\n          w2utils.cssPrefix('transition', '.3s', true) + '\"' +\n          (options.hideOnClick === true\n            ? where.param\n              ? 'onclick=\"' + where.path + '.message(\\'' + where.param + '\\');\"'\n              : 'onclick=\"' + where.path + '.message();\"'\n            : '') + '>' +\n          '</div>');\n      $(where.box).find('#w2ui-message' + msgCount)\n        .data('options', options)\n        .data('prev_focus', $(':focus'));\n      var display = $(where.box).find('#w2ui-message' + msgCount).css('display');\n      $(where.box).find('#w2ui-message' + msgCount).css(w2utils.cssPrefix({\n        'transform': (display === 'none' ? 'translateY(-' + options.height + 'px)' : 'translateY(0px)')\n      }));\n      if (display === 'none') {\n        $(where.box).find('#w2ui-message' + msgCount).show().html(options.html);\n        options.box = $(where.box).find('#w2ui-message' + msgCount);\n        // before event\n        edata = options.trigger({ phase: 'before', type: 'open', target: 'self' });\n        if (edata.isCancelled === true) {\n          head.css('z-index', head.data('old-z-index'));\n          $(where.box).find('#w2ui-message' + msgCount).remove();\n          return;\n        }\n        // timer needs to animation\n        setTimeout(function () {\n          $(where.box).find('#w2ui-message' + msgCount).css(w2utils.cssPrefix({\n            'transform': (display === 'none' ? 'translateY(0px)' : 'translateY(-' + options.height + 'px)')\n          }));\n        }, 1);\n        // timer for lock\n        if (msgCount === 0 && this.lock) {\n          if (where.param) this.lock(where.param); else this.lock();\n        }\n        setTimeout(function () {\n          // has to be on top of lock\n          $(where.box).find('#w2ui-message' + msgCount).css(w2utils.cssPrefix({ 'transition': '0s' }));\n          // event after\n          options.trigger($.extend(edata, { phase: 'after' }));\n        }, 350);\n      }\n    }\n\n    function closeCB($msg, options) {\n      if (edata == null) {\n        // before event\n        edata = options.trigger({ phase: 'before', type: 'open', target: 'self' });\n        if (edata.isCancelled === true) {\n          head.css('z-index', head.data('old-z-index'));\n          $(where.box).find('#w2ui-message' + msgCount).remove();\n          return;\n        }\n      }\n      var $focus = $msg.data('prev_focus');\n      $msg.remove();\n      if ($focus && $focus.length > 0) {\n        $focus.focus();\n      } else {\n        if (obj && obj.focus) obj.focus();\n      }\n      head.css('z-index', head.data('old-z-index'));\n      // event after\n      options.trigger($.extend(edata, { phase: 'after' }));\n    }\n  }\n\n  function getSize(el, type) {\n    var $el = $(el);\n    var bwidth = {\n      left: parseInt($el.css('border-left-width')) || 0,\n      right: parseInt($el.css('border-right-width')) || 0,\n      top: parseInt($el.css('border-top-width')) || 0,\n      bottom: parseInt($el.css('border-bottom-width')) || 0\n    };\n    var mwidth = {\n      left: parseInt($el.css('margin-left')) || 0,\n      right: parseInt($el.css('margin-right')) || 0,\n      top: parseInt($el.css('margin-top')) || 0,\n      bottom: parseInt($el.css('margin-bottom')) || 0\n    };\n    var pwidth = {\n      left: parseInt($el.css('padding-left')) || 0,\n      right: parseInt($el.css('padding-right')) || 0,\n      top: parseInt($el.css('padding-top')) || 0,\n      bottom: parseInt($el.css('padding-bottom')) || 0\n    };\n    switch (type) {\n      case 'top': return bwidth.top + mwidth.top + pwidth.top;\n      case 'bottom': return bwidth.bottom + mwidth.bottom + pwidth.bottom;\n      case 'left': return bwidth.left + mwidth.left + pwidth.left;\n      case 'right': return bwidth.right + mwidth.right + pwidth.right;\n      case 'width': return bwidth.left + bwidth.right + mwidth.left + mwidth.right + pwidth.left + pwidth.right + parseInt($el.width());\n      case 'height': return bwidth.top + bwidth.bottom + mwidth.top + mwidth.bottom + pwidth.top + pwidth.bottom + parseInt($el.height());\n      case '+width': return bwidth.left + bwidth.right + mwidth.left + mwidth.right + pwidth.left + pwidth.right;\n      case '+height': return bwidth.top + bwidth.bottom + mwidth.top + mwidth.bottom + pwidth.top + pwidth.bottom;\n    }\n    return 0;\n  }\n\n  function getStrWidth(str, styles) {\n    var w, html = '<div id=\"_tmp_width\" style=\"position: absolute; top: -900px;' + (styles || '') + '\">' +\n      encodeTags(str) +\n      '</div>';\n    $('body').append(html);\n    w = $('#_tmp_width').width();\n    $('#_tmp_width').remove();\n    return w;\n  }\n\n  function lang(phrase) {\n    var translation = this.settings.phrases[phrase];\n    if (translation == null) return phrase; else return translation;\n  }\n\n  function locale(locale, callBack) {\n    if (!locale) locale = 'en-us';\n\n    // if the locale is an object, not a string, than we assume it's a\n    if (typeof locale !== \"string\") {\n      w2utils.settings = $.extend(true, w2utils.settings, locale);\n      return;\n    }\n\n    if (locale.length === 5) locale = 'locale/' + locale + '.json';\n\n    // clear phrases from language before\n    w2utils.settings.phrases = {};\n\n    // load from the file\n    $.ajax({\n      url: locale,\n      type: \"GET\",\n      dataType: \"JSON\",\n      success: function (data, status, xhr) {\n        w2utils.settings = $.extend(true, w2utils.settings, data);\n        if (typeof callBack === 'function') callBack();\n      },\n      error: function (xhr, status, msg) {\n        console.log('ERROR: Cannot load locale ' + locale);\n      }\n    });\n  }\n\n  function scrollBarSize() {\n    if (tmp.scrollBarSize) return tmp.scrollBarSize;\n    var html =\n      '<div id=\"_scrollbar_width\" style=\"position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;\">' +\n      '    <div style=\"height: 120px\">1</div>' +\n      '</div>';\n    $('body').append(html);\n    tmp.scrollBarSize = 100 - $('#_scrollbar_width > div').width();\n    $('#_scrollbar_width').remove();\n    if (String(navigator.userAgent).indexOf('MSIE') >= 0) tmp.scrollBarSize = tmp.scrollBarSize / 2; // need this for IE9+\n    return tmp.scrollBarSize;\n  }\n\n  function checkName(params, component) { // was w2checkNameParam\n    if (!params || params.name == null) {\n      console.log('ERROR: The parameter \"name\" is required but not supplied in $().' + component + '().');\n      return false;\n    }\n    if (w2ui[params.name] != null) {\n      console.log('ERROR: The parameter \"name\" is not unique. There are other objects already created with the same name (obj: ' + params.name + ').');\n      return false;\n    }\n    if (!w2utils.isAlphaNumeric(params.name)) {\n      console.log('ERROR: The parameter \"name\" has to be alpha-numeric (a-z, 0-9, dash and underscore). ');\n      return false;\n    }\n    return true;\n  }\n\n  function checkUniqueId(id, items, itemsDecription, objName) { // was w2checkUniqueId\n    if (!$.isArray(items)) items = [items];\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === id) {\n        console.log('ERROR: The parameter \"id=' + id + '\" is not unique within the current ' + itemsDecription + '. (obj: ' + objName + ')');\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function parseRoute(route) {\n    var keys = [];\n    var path = route\n      .replace(/\\/\\(/g, '(?:/')\n      .replace(/\\+/g, '__plus__')\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n        keys.push({ name: key, optional: !!optional });\n        slash = slash || '';\n        return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n      })\n      .replace(/([\\/.])/g, '\\\\$1')\n      .replace(/__plus__/g, '(.+)')\n      .replace(/\\*/g, '(.*)');\n    return {\n      path: new RegExp('^' + path + '$', 'i'),\n      keys: keys\n    };\n  }\n\n  function cssPrefix(field, value, returnString) {\n    var css = {};\n    var newCSS = {};\n    var ret = '';\n    if (!$.isPlainObject(field)) {\n      css[field] = value;\n    } else {\n      css = field;\n      if (value === true) returnString = true;\n    }\n    for (var c in css) {\n      newCSS[c] = css[c];\n      newCSS['-webkit-' + c] = css[c];\n      newCSS['-moz-' + c] = css[c].replace('-webkit-', '-moz-');\n      newCSS['-ms-' + c] = css[c].replace('-webkit-', '-ms-');\n      newCSS['-o-' + c] = css[c].replace('-webkit-', '-o-');\n    }\n    if (returnString === true) {\n      for (var c in newCSS) {\n        ret += c + ': ' + newCSS[c] + '; ';\n      }\n    } else {\n      ret = newCSS;\n    }\n    return ret;\n  }\n\n  function getCursorPosition(input) {\n    if (input == null) return null;\n    var caretOffset = 0;\n    var doc = input.ownerDocument || input.document;\n    var win = doc.defaultView || doc.parentWindow;\n    var sel;\n    if (input.tagName && input.tagName.toUpperCase() === 'INPUT' && input.selectionStart) {\n      // standards browser\n      caretOffset = input.selectionStart;\n    } else {\n      if (win.getSelection) {\n        sel = win.getSelection();\n        if (sel.rangeCount > 0) {\n          var range = sel.getRangeAt(0);\n          var preCaretRange = range.cloneRange();\n          preCaretRange.selectNodeContents(input);\n          preCaretRange.setEnd(range.endContainer, range.endOffset);\n          caretOffset = preCaretRange.toString().length;\n        }\n      } else if ((sel = doc.selection) && sel.type !== \"Control\") {\n        var textRange = sel.createRange();\n        var preCaretTextRange = doc.body.createTextRange();\n        preCaretTextRange.moveToElementText(input);\n        preCaretTextRange.setEndPoint(\"EndToEnd\", textRange);\n        caretOffset = preCaretTextRange.text.length;\n      }\n    }\n    return caretOffset;\n  }\n\n  function setCursorPosition(input, pos, posEnd) {\n    var range = document.createRange();\n    var el, sel = window.getSelection();\n    if (input == null) return;\n    for (var i = 0; i < input.childNodes.length; i++) {\n      var tmp = $(input.childNodes[i]).text();\n      if (input.childNodes[i].tagName) {\n        tmp = $(input.childNodes[i]).html();\n        tmp = tmp.replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&amp;/g, '&')\n          .replace(/&quot;/g, '\"')\n          .replace(/&nbsp;/g, ' ');\n      }\n      if (pos <= tmp.length) {\n        el = input.childNodes[i];\n        if (el.childNodes && el.childNodes.length > 0) el = el.childNodes[0];\n        if (el.childNodes && el.childNodes.length > 0) el = el.childNodes[0];\n        break;\n      } else {\n        pos -= tmp.length;\n      }\n    }\n    if (el == null) return;\n    if (pos > el.length) pos = el.length;\n    range.setStart(el, pos);\n    if (posEnd) {\n      range.setEnd(el, posEnd);\n    } else {\n      range.collapse(true);\n    }\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  function testLocalStorage() {\n    // test if localStorage is available, see issue #1282\n    // original code: https://github.com/Modernizr/Modernizr/blob/master/feature-detects/storage/localstorage.js\n    var str = 'w2ui_test';\n    try {\n      localStorage.setItem(str, str);\n      localStorage.removeItem(str);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function parseColor(str) {\n    if (typeof str !== 'string') return null; else str = str.trim().toUpperCase();\n    if (str[0] === '#') str = str.substr(1);\n    var color = {};\n    if (str.length === 3) {\n      color = {\n        r: parseInt(str[0] + str[0], 16),\n        g: parseInt(str[1] + str[1], 16),\n        b: parseInt(str[2] + str[2], 16),\n        a: 1\n      }\n    } else if (str.length === 6) {\n      color = {\n        r: parseInt(str.substr(0, 2), 16),\n        g: parseInt(str.substr(2, 2), 16),\n        b: parseInt(str.substr(4, 2), 16),\n        a: 1\n      }\n    } else if (str.length === 8) {\n      color = {\n        r: parseInt(str.substr(0, 2), 16),\n        g: parseInt(str.substr(2, 2), 16),\n        b: parseInt(str.substr(4, 2), 16),\n        a: Math.round(parseInt(str.substr(6, 2), 16) / 255 * 100) / 100 // alpha channel 0-1\n      }\n    } else if (str.length > 4 && str.substr(0, 4) === 'RGB(') {\n      var tmp = str.replace('RGB', '').replace(/\\(/g, '').replace(/\\)/g, '').split(',');\n      color = {\n        r: parseInt(tmp[0], 10),\n        g: parseInt(tmp[1], 10),\n        b: parseInt(tmp[2], 10),\n        a: 1\n      }\n    } else if (str.length > 5 && str.substr(0, 5) === 'RGBA(') {\n      var tmp = str.replace('RGBA', '').replace(/\\(/g, '').replace(/\\)/g, '').split(',');\n      color = {\n        r: parseInt(tmp[0], 10),\n        g: parseInt(tmp[1], 10),\n        b: parseInt(tmp[2], 10),\n        a: parseFloat(tmp[3])\n      }\n    } else {\n      // word color\n      return null;\n    }\n    return color;\n  }\n\n  // h=0..360, s=0..100, v=0..100\n  function hsv2rgb(h, s, v, a) {\n    var r, g, b, i, f, p, q, t;\n    if (arguments.length === 1) {\n      s = h.s; v = h.v; a = h.a; h = h.h;\n    }\n    h = h / 360;\n    s = s / 100;\n    v = v / 100;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0: r = v, g = t, b = p; break;\n      case 1: r = q, g = v, b = p; break;\n      case 2: r = p, g = v, b = t; break;\n      case 3: r = p, g = q, b = v; break;\n      case 4: r = t, g = p, b = v; break;\n      case 5: r = v, g = p, b = q; break;\n    }\n    return {\n      r: Math.round(r * 255),\n      g: Math.round(g * 255),\n      b: Math.round(b * 255),\n      a: (a != null ? a : 1)\n    };\n  }\n\n  // r=0..255, g=0..255, b=0..255\n  function rgb2hsv(r, g, b, a) {\n    if (arguments.length === 1) {\n      g = r.g; b = r.b; a = r.a; r = r.r;\n    }\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\n      d = max - min,\n      h,\n      s = (max === 0 ? 0 : d / max),\n      v = max / 255;\n    switch (max) {\n      case min: h = 0; break;\n      case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\n      case g: h = (b - r) + d * 2; h /= 6 * d; break;\n      case b: h = (r - g) + d * 4; h /= 6 * d; break;\n    }\n    return {\n      h: Math.round(h * 360),\n      s: Math.round(s * 100),\n      v: Math.round(v * 100),\n      a: (a != null ? a : 1)\n    }\n  }\n\n  function tooltip(msg, options) {\n    var actions, showOn = 'mouseenter', hideOn = 'mouseleave'\n    options = options || {}\n    if (options.showOn) {\n      showOn = options.showOn\n      delete options.showOn\n    }\n    if (options.hideOn) {\n      hideOn = options.hideOn\n      delete options.hideOn\n    }\n    // base64 is needed to avoid '\"<> and other special chars conflicts\n    actions = 'on' + showOn + '=\"$(this).w2tag(w2utils.base64decode(\\'' + w2utils.base64encode(msg) + '\\'),'\n      + 'JSON.parse(w2utils.base64decode(\\'' + w2utils.base64encode(JSON.stringify(options)) + '\\')))\"'\n      + 'on' + hideOn + '=\"$(this).w2tag()\"'\n\n    return actions\n  }\n\n  /*! from litejs.com / MIT Licence\n      https://github.com/litejs/natural-compare-lite/blob/master/index.js */\n  /*\n   * @version    1.4.0\n   * @date       2015-10-26\n   * @stability  3 - Stable\n   * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)\n   * @license    MIT License\n   */\n  function naturalCompare(a, b) {\n    var i, codeA\n      , codeB = 1\n      , posA = 0\n      , posB = 0\n      , alphabet = String.alphabet;\n\n    function getCode(str, pos, code) {\n      if (code) {\n        for (i = pos; code = getCode(str, i), code < 76 && code > 65;) ++i;\n        return +str.slice(pos - 1, i);\n      }\n      code = alphabet && alphabet.indexOf(str.charAt(pos));\n      return code > -1 ? code + 76 : ((code = str.charCodeAt(pos) || 0), code < 45 || code > 127) ? code\n        : code < 46 ? 65               // -\n          : code < 48 ? code - 1\n            : code < 58 ? code + 18        // 0-9\n              : code < 65 ? code - 11\n                : code < 91 ? code + 11        // A-Z\n                  : code < 97 ? code - 37\n                    : code < 123 ? code + 5        // a-z\n                      : code - 63;\n    }\n\n\n    if ((a += \"\") != (b += \"\")) for (; codeB;) {\n      codeA = getCode(a, posA++);\n      codeB = getCode(b, posB++);\n\n      if (codeA < 76 && codeB < 76 && codeA > 66 && codeB > 66) {\n        codeA = getCode(a, posA, posA);\n        codeB = getCode(b, posB, posA = i);\n        posB = i;\n      }\n\n      if (codeA != codeB) return (codeA < codeB) ? -1 : 1;\n    }\n    return 0;\n  }\n})(jQuery);\n\n/***********************************************************\n*  Formatters object\n*  --- Primariy used in grid\n*\n*********************************************************/\n\nw2utils.formatters = {\n\n  'number': function (value, params) {\n    if (parseInt(params) > 20) params = 20;\n    if (parseInt(params) < 0) params = 0;\n    if (value == null || value === '') return '';\n    return w2utils.formatNumber(parseFloat(value), params, true);\n  },\n\n  'float': function (value, params) {\n    return w2utils.formatters['number'](value, params);\n  },\n\n  'int': function (value, params) {\n    return w2utils.formatters['number'](value, 0);\n  },\n\n  'money': function (value, params) {\n    if (value == null || value === '') return '';\n    var data = w2utils.formatNumber(Number(value), w2utils.settings.currencyPrecision || 2);\n    return (w2utils.settings.currencyPrefix || '') + data + (w2utils.settings.currencySuffix || '');\n  },\n\n  'currency': function (value, params) {\n    return w2utils.formatters['money'](value, params);\n  },\n\n  'percent': function (value, params) {\n    if (value == null || value === '') return '';\n    return w2utils.formatNumber(value, params || 1) + '%';\n  },\n\n  'size': function (value, params) {\n    if (value == null || value === '') return '';\n    return w2utils.formatSize(parseInt(value));\n  },\n\n  'date': function (value, params) {\n    if (params === '') params = w2utils.settings.dateFormat;\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, params, true);\n    if (dt === false) dt = w2utils.isDate(value, params, true);\n    return '<span title=\"' + dt + '\">' + w2utils.formatDate(dt, params) + '</span>';\n  },\n\n  'datetime': function (value, params) {\n    if (params === '') params = w2utils.settings.datetimeFormat;\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, params, true);\n    if (dt === false) dt = w2utils.isDate(value, params, true);\n    return '<span title=\"' + dt + '\">' + w2utils.formatDateTime(dt, params) + '</span>';\n  },\n\n  'time': function (value, params) {\n    if (params === '') params = w2utils.settings.timeFormat;\n    if (params === 'h12') params = 'hh:mi pm';\n    if (params === 'h24') params = 'h24:mi';\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, params, true);\n    if (dt === false) dt = w2utils.isDate(value, params, true);\n    return '<span title=\"' + dt + '\">' + w2utils.formatTime(value, params) + '</span>';\n  },\n\n  'timestamp': function (value, params) {\n    if (params === '') params = w2utils.settings.datetimeFormat;\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, params, true);\n    if (dt === false) dt = w2utils.isDate(value, params, true);\n    return dt.toString ? dt.toString() : '';\n  },\n\n  'gmt': function (value, params) {\n    if (params === '') params = w2utils.settings.datetimeFormat;\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, params, true);\n    if (dt === false) dt = w2utils.isDate(value, params, true);\n    return dt.toUTCString ? dt.toUTCString() : '';\n  },\n\n  'age': function (value, params) {\n    if (value == null || value === 0 || value === '') return '';\n    var dt = w2utils.isDateTime(value, null, true);\n    if (dt === false) dt = w2utils.isDate(value, null, true);\n    return '<span title=\"' + dt + '\">' + w2utils.age(value) + (params ? (' ' + params) : '') + '</span>';\n  },\n\n  'interval': function (value, params) {\n    if (value == null || value === 0 || value === '') return '';\n    return w2utils.interval(value) + (params ? (' ' + params) : '');\n  },\n\n  'toggle': function (value, params) {\n    return (value ? 'Yes' : '');\n  },\n\n  'password': function (value, params) {\n    var ret = \"\";\n    for (var i = 0; i < value.length; i++) {\n      ret += \"*\";\n    }\n    return ret;\n  }\n};\n\n/***********************************************************\n*  Generic Event Object\n*  --- This object is reused across all other\n*  --- widgets in w2ui.\n*\n*********************************************************/\n\nw2utils.event = {\n\n  on: function (edata, handler) {\n    var $ = jQuery;\n    var scope;\n    // allow 'eventName.scope' syntax\n    if (typeof edata === 'string' && edata.indexOf('.') !== -1) {\n      var tmp = edata.split('.');\n      edata = tmp[0];\n      scope = tmp[1];\n    }\n    // allow 'eventName:after' syntax\n    if (typeof edata === 'string' && edata.indexOf(':') !== -1) {\n      var tmp = edata.split(':');\n      if (['complete', 'done'].indexOf(edata[1]) !== -1) edata[1] = 'after';\n      edata = {\n        type: tmp[0],\n        execute: tmp[1]\n      };\n      if (scope) edata.scope = scope\n    }\n    if (!$.isPlainObject(edata)) edata = { type: edata, scope: scope };\n    edata = $.extend({ type: null, execute: 'before', target: null, onComplete: null }, edata);\n    // errors\n    if (!edata.type) { console.log('ERROR: You must specify event type when calling .on() method of ' + this.name); return; }\n    if (!handler) { console.log('ERROR: You must specify event handler function when calling .on() method of ' + this.name); return; }\n    if (!$.isArray(this.handlers)) this.handlers = [];\n    this.handlers.push({ edata: edata, handler: handler });\n    return this; // needed for chaining\n  },\n\n  off: function (edata, handler) {\n    var $ = jQuery;\n    var scope;\n    // allow 'eventName.scope' syntax\n    if (typeof edata === 'string' && edata.indexOf('.') !== -1) {\n      var tmp = edata.split('.');\n      edata = tmp[0];\n      scope = tmp[1];\n      if (edata === '') edata = '*'\n    }\n    // allow 'eventName:after' syntax\n    if (typeof edata === 'string' && edata.indexOf(':') !== -1) {\n      var tmp = edata.split(':');\n      if (['complete', 'done'].indexOf(edata[1]) !== -1) edata[1] = 'after';\n      edata = {\n        type: tmp[0],\n        execute: tmp[1]\n      };\n    }\n    if (!$.isPlainObject(edata)) edata = { type: edata };\n    edata = $.extend({}, { type: null, execute: null, target: null, onComplete: null }, edata);\n    // errors\n    if (!edata.type && !scope) { console.log('ERROR: You must specify event type when calling .off() method of ' + this.name); return; }\n    if (!handler) { handler = null; }\n    // remove handlers\n    var newHandlers = [];\n    for (var h = 0, len = this.handlers.length; h < len; h++) {\n      var t = this.handlers[h];\n      if ((t.edata.type === edata.type || edata.type === '*' || (t.edata.scope != null && edata.type == '')) &&\n        (t.edata.target === edata.target || edata.target == null) &&\n        (t.edata.execute === edata.execute || edata.execute == null) &&\n        ((t.handler === handler && handler != null) || (scope != null && t.edata.scope == scope))) {\n        // match\n      } else {\n        newHandlers.push(t);\n      }\n    }\n    this.handlers = newHandlers;\n    return this;\n  },\n\n  trigger: function (edata) {\n    var $ = jQuery;\n    var edata = $.extend({ type: null, phase: 'before', target: null, doneHandlers: [] }, edata, {\n      isStopped: false,\n      isCancelled: false,\n      done: function (handler) { this.doneHandlers.push(handler); },\n      preventDefault: function () { this.isCancelled = true; },\n      stopPropagation: function () { this.isStopped = true; }\n    });\n    if (edata.phase === 'before') edata.onComplete = null;\n    var args, fun, tmp;\n    if (edata.target == null) edata.target = null;\n    if (!$.isArray(this.handlers)) this.handlers = [];\n    // process events in REVERSE order\n    for (var h = this.handlers.length - 1; h >= 0; h--) {\n      var item = this.handlers[h];\n      if (item != null && (item.edata.type === edata.type || item.edata.type === '*') &&\n        (item.edata.target === edata.target || item.edata.target == null) &&\n        (item.edata.execute === edata.phase || item.edata.execute === '*' || item.edata.phase === '*')) {\n        edata = $.extend({}, item.edata, edata);\n        // check handler arguments\n        args = [];\n        tmp = new RegExp(/\\((.*?)\\)/).exec(item.handler);\n        if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n        if (args.length === 2) {\n          item.handler.call(this, edata.target, edata); // old way for back compatibility\n        } else {\n          item.handler.call(this, edata); // new way\n        }\n        if (edata.isStopped === true || edata.stop === true) return edata; // back compatibility edata.stop === true\n      }\n    }\n    // main object events\n    var funName = 'on' + edata.type.substr(0, 1).toUpperCase() + edata.type.substr(1);\n    if (edata.phase === 'before' && typeof this[funName] === 'function') {\n      fun = this[funName];\n      // check handler arguments\n      args = [];\n      tmp = new RegExp(/\\((.*?)\\)/).exec(fun);\n      if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n      if (args.length === 2) {\n        fun.call(this, edata.target, edata); // old way for back compatibility\n      } else {\n        fun.call(this, edata); // new way\n      }\n      if (edata.isStopped === true || edata.stop === true) return edata; // back compatibility edata.stop === true\n    }\n    // item object events\n    if (edata.object != null && edata.phase === 'before' &&\n      typeof edata.object[funName] === 'function') {\n      fun = edata.object[funName];\n      // check handler arguments\n      args = [];\n      tmp = new RegExp(/\\((.*?)\\)/).exec(fun);\n      if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n      if (args.length === 2) {\n        fun.call(this, edata.target, edata); // old way for back compatibility\n      } else {\n        fun.call(this, edata); // new way\n      }\n      if (edata.isStopped === true || edata.stop === true) return edata;\n    }\n    // execute onComplete\n    if (edata.phase === 'after') {\n      if (typeof edata.onComplete === 'function') edata.onComplete.call(this, edata);\n      for (var i = 0; i < edata.doneHandlers.length; i++) {\n        if (typeof edata.doneHandlers[i] === 'function') {\n          edata.doneHandlers[i].call(this, edata);\n        }\n      }\n    }\n    return edata;\n  }\n};\n\n/***********************************************************\n*  Commonly used plugins\n*  --- used primarily in grid and form\n*\n*********************************************************/\n\n(function ($) {\n\n  $.fn.w2render = function (name) {\n    if ($(this).length > 0) {\n      if (typeof name === 'string' && w2ui[name]) w2ui[name].render($(this)[0]);\n      if (typeof name === 'object') name.render($(this)[0]);\n    }\n  };\n\n  $.fn.w2destroy = function (name) {\n    if (!name && this.length > 0) name = this.attr('name');\n    if (typeof name === 'string' && w2ui[name]) w2ui[name].destroy();\n    if (typeof name === 'object') name.destroy();\n  };\n\n  $.fn.w2marker = function () {\n    var str = Array.prototype.slice.call(arguments, 0);\n    if (Array.isArray(str[0])) str = str[0];\n    if (str.length === 0 || !str[0]) { // remove marker\n      return $(this).each(clearMarkedText);\n    } else { // add marker\n      return $(this).each(function (index, el) {\n        clearMarkedText(index, el);\n        for (var s = 0; s < str.length; s++) {\n          var tmp = str[s];\n          if (typeof tmp !== 'string') tmp = String(tmp);\n          // escape regex special chars\n          tmp = tmp.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\").replace(/&/g, '&amp;').replace(/</g, '&gt;').replace(/>/g, '&lt;');\n          var regex = new RegExp(tmp + '(?!([^<]+)?>)', \"gi\"); // only outside tags\n          el.innerHTML = el.innerHTML.replace(regex, replaceValue);\n        }\n        function replaceValue(matched) { // mark new\n          return '<span class=\"w2ui-marker\">' + matched + '</span>';\n        }\n      });\n    }\n\n    function clearMarkedText(index, el) {\n      while (el.innerHTML.indexOf('<span class=\"w2ui-marker\">') !== -1) {\n        el.innerHTML = el.innerHTML.replace(/\\<span class=\\\"w2ui\\-marker\\\"\\>((.|\\n|\\r)*)\\<\\/span\\>/ig, '$1'); // unmark\n      }\n    }\n  };\n\n  // -- w2tag - there can be multiple on screen at a time\n\n  $.fn.w2tag = function (text, options) {\n    // only one argument\n    if (arguments.length === 1 && typeof text === 'object') {\n      options = text;\n      if (options.html != null) text = options.html;\n    }\n    // default options\n    options = $.extend({\n      id: null,     // id for the tag, otherwise input id is used\n      auto: null,     // if auto true, then tag will show on mouseEnter and hide on mouseLeave\n      html: text,     // or html\n      position: 'right|top',  // can be left, right, top, bottom\n      align: 'none',   // can be none, left, right (only works for potision: top | bottom)\n      left: 0,        // delta for left coordinate\n      top: 0,        // delta for top coordinate\n      maxWidth: null,     // max width\n      style: '',       // adition style for the tag\n      css: {},       // add css for input when tag is shown\n      className: '',       // add class bubble\n      inputClass: '',       // add class for input when tag is shown\n      onShow: null,     // callBack when shown\n      onHide: null,     // callBack when hidden\n      hideOnKeyPress: true,     // hide tag if key pressed\n      hideOnFocus: false,    // hide tag on focus\n      hideOnBlur: false,    // hide tag on blur\n      hideOnClick: false,    // hide tag on document click\n      hideOnChange: true\n    }, options);\n    if (options.name != null && options.id == null) options.id = options.name;\n\n    // for backward compatibility\n    if (options['class'] !== '' && options.inputClass === '') options.inputClass = options['class'];\n\n    // remove all tags\n    if ($(this).length === 0) {\n      $('.w2ui-tag').each(function (index, el) {\n        var tag = $(el).data('w2tag');\n        if (tag) tag.hide();\n      });\n      return;\n    }\n    if (options.auto === true || options.showOn != null || options.hideOn != null) {\n      if (arguments.length == 0 || !text) {\n        return $(this).each(function (index, el) {\n          $(el).off('.w2tooltip')\n        })\n      } else {\n        return $(this).each(function (index, el) {\n          var showOn = 'mouseenter', hideOn = 'mouseleave'\n          if (options.showOn) {\n            showOn = String(options.showOn).toLowerCase()\n            delete options.showOn\n          }\n          if (options.hideOn) {\n            hideOn = String(options.hideOn).toLowerCase()\n            delete options.hideOn\n          }\n          if (!options.potision) { options.position = 'top|bottom' }\n          $(el)\n            .off('.w2tooltip')\n            .on(showOn + '.w2tooltip', function () {\n              options.auto = false;\n              $(this).w2tag(text, options)\n            })\n            .on(hideOn + '.w2tooltip', function () {\n              $(this).w2tag()\n            })\n        })\n      }\n    } else {\n      return $(this).each(function (index, el) {\n        // main object\n        var tag;\n        var origID = (options.id ? options.id : el.id);\n        if (origID == '') { // search for an id\n          origID = $(el).find('input').attr('id');\n        }\n        if (!origID) {\n          origID = 'noid';\n        }\n        var tmpID = w2utils.escapeId(origID);\n        if ($(this).data('w2tag') != null) {\n          tag = $(this).data('w2tag');\n          $.extend(tag.options, options);\n        } else {\n          tag = {\n            id: origID,\n            attachedTo: el,          // element attached to\n            box: $('#w2ui-tag-' + tmpID), // tag itself\n            options: $.extend({}, options),\n            // methods\n            init: init,      // attach events\n            hide: hide,      // hide tag\n            getPos: getPos,    // gets position of tag\n            isMoved: isMoved,   // if called, will adjust position\n            // internal\n            tmp: {}         // for temp variables\n          };\n        }\n        // show or hide tag\n        if (text === '' || text == null) {\n          tag.hide();\n        } else if (tag.box.length !== 0) {\n          // if already present\n          tag.box.find('.w2ui-tag-body')\n            .css(tag.options.css)\n            .attr('style', tag.options.style)\n            .addClass(tag.options.className)\n            .html(tag.options.html);\n        } else {\n          tag.tmp.originalCSS = '';\n          if ($(tag.attachedTo).length > 0) tag.tmp.originalCSS = $(tag.attachedTo)[0].style.cssText;\n          var tagStyles = 'white-space: nowrap;'\n          if (tag.options.maxWidth && w2utils.getStrWidth(text) > tag.options.maxWidth) {\n            tagStyles = 'width: ' + tag.options.maxWidth + 'px'\n          }\n          // insert\n          $('body').append(\n            '<div onclick=\"event.stopPropagation()\" style=\"display: none;\" id=\"w2ui-tag-' + tag.id + '\" ' +\n            '       class=\"w2ui-tag ' + ($(tag.attachedTo).parents('.w2ui-popup, .w2ui-overlay-popup, .w2ui-message').length > 0 ? 'w2ui-tag-popup' : '') + '\">' +\n            '   <div style=\"margin: -2px 0px 0px -2px; ' + tagStyles + '\">' +\n            '      <div class=\"w2ui-tag-body ' + tag.options.className + '\" style=\"' + (tag.options.style || '') + '\">' + text + '</div>' +\n            '   </div>' +\n            '</div>');\n          tag.box = $('#w2ui-tag-' + tmpID);\n          $(tag.attachedTo).data('w2tag', tag); // make available to element tag attached to\n          setTimeout(init, 1);\n        }\n        return;\n\n        function init() {\n          tag.box.css('display', 'block');\n          if (!tag || !tag.box || !$(tag.attachedTo).offset()) return;\n          var pos = tag.getPos();\n          tag.box.css({\n            opacity: '1',\n            left: pos.left + 'px',\n            top: pos.top + 'px'\n          })\n            .data('w2tag', tag)\n            .find('.w2ui-tag-body').addClass(pos['posClass']);\n          tag.tmp.pos = pos.left + 'x' + pos.top;\n\n          $(tag.attachedTo)\n            .off('.w2tag')\n            .css(tag.options.css)\n            .addClass(tag.options.inputClass);\n\n\n          if (tag.options.hideOnKeyPress) {\n            $(tag.attachedTo).on('keypress.w2tag', tag.hide);\n          }\n          if (tag.options.hideOnFocus) {\n            $(tag.attachedTo).on('focus.w2tag', tag.hide);\n          }\n          if (options.hideOnChange) {\n            if (el.nodeName === 'INPUT') {\n              $(el).on('change.w2tag', tag.hide);\n            } else {\n              $(el).find('input').on('change.w2tag', tag.hide);\n            }\n          }\n          if (tag.options.hideOnBlur) {\n            $(tag.attachedTo).on('blur.w2tag', tag.hide);\n          }\n          if (tag.options.hideOnClick) {\n            $('body').on('click.w2tag' + (tag.id || ''), tag.hide);\n          }\n          if (typeof tag.options.onShow === 'function') {\n            tag.options.onShow();\n          }\n          isMoved();\n        }\n\n        // bind event to hide it\n        function hide() {\n          if (tag.box.length <= 0) return;\n          if (tag.tmp.timer) clearTimeout(tag.tmp.timer);\n          tag.box.remove();\n          if (tag.options.hideOnClick) {\n            $('body').off('.w2tag' + (tag.id || ''));\n          }\n          $(tag.attachedTo).off('.w2tag')\n            .removeClass(tag.options.inputClass)\n            .removeData('w2tag');\n          // restore original CSS\n          if ($(tag.attachedTo).length > 0) {\n            $(tag.attachedTo)[0].style.cssText = tag.tmp.originalCSS;\n          }\n          if (typeof tag.options.onHide === 'function') {\n            tag.options.onHide();\n          }\n        }\n\n        function isMoved(instant) {\n          // monitor if destroyed\n          var offset = $(tag.attachedTo).offset();\n          if ($(tag.attachedTo).length === 0 || (offset.left === 0 && offset.top === 0) || tag.box.find('.w2ui-tag-body').length === 0) {\n            tag.hide();\n            return;\n          }\n          var pos = getPos();\n          if (tag.tmp.pos !== pos.left + 'x' + pos.top) {\n            tag.box\n              .css(w2utils.cssPrefix({ 'transition': (instant ? '0s' : '.2s') }))\n              .css({\n                left: pos.left + 'px',\n                top: pos.top + 'px'\n              });\n            tag.tmp.pos = pos.left + 'x' + pos.top;\n          }\n          if (tag.tmp.timer) clearTimeout(tag.tmp.timer);\n          tag.tmp.timer = setTimeout(isMoved, 100);\n        }\n\n        function getPos() {\n          var offset = $(tag.attachedTo).offset();\n          var posClass = 'w2ui-tag-right';\n          var posLeft = parseInt(offset.left + tag.attachedTo.offsetWidth + (tag.options.left ? tag.options.left : 0));\n          var posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0));\n          var tagBody = tag.box.find('.w2ui-tag-body');\n          var width = tagBody[0].offsetWidth;\n          var height = tagBody[0].offsetHeight;\n          if (typeof tag.options.position === 'string' && tag.options.position.indexOf('|') !== -1) {\n            tag.options.position = tag.options.position.split('|');\n          }\n          if (tag.options.position === 'top') {\n            posClass = 'w2ui-tag-top';\n            posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - 14;\n            posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0)) - height - 10;\n          } else if (tag.options.position === 'bottom') {\n            posClass = 'w2ui-tag-bottom';\n            posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - 14;\n            posTop = parseInt(offset.top + tag.attachedTo.offsetHeight + (tag.options.top ? tag.options.top : 0)) + 10;\n          } else if (tag.options.position === 'left') {\n            posClass = 'w2ui-tag-left';\n            posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - width - 20;\n            posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0));\n          } else if (Array.isArray(tag.options.position)) {\n            // try to fit the tag on screen in the order defined in the array\n            var maxWidth = window.innerWidth;\n            var maxHeight = window.innerHeight;\n            for (var i = 0; i < tag.options.position.length; i++) {\n              var pos = tag.options.position[i];\n              if (pos === 'right') {\n                posClass = 'w2ui-tag-right';\n                posLeft = parseInt(offset.left + tag.attachedTo.offsetWidth + (tag.options.left ? tag.options.left : 0));\n                posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0));\n                if (posLeft + width <= maxWidth) break;\n              } else if (pos === 'left') {\n                posClass = 'w2ui-tag-left';\n                posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - width - 20;\n                posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0));\n                if (posLeft >= 0) break;\n              } else if (pos === 'top') {\n                posClass = 'w2ui-tag-top';\n                posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - 14;\n                posTop = parseInt(offset.top + (tag.options.top ? tag.options.top : 0)) - height - 10;\n                if (posLeft + width <= maxWidth && posTop >= 0) break;\n              } else if (pos === 'bottom') {\n                posClass = 'w2ui-tag-bottom';\n                posLeft = parseInt(offset.left + (tag.options.left ? tag.options.left : 0)) - 14;\n                posTop = parseInt(offset.top + tag.attachedTo.offsetHeight + (tag.options.top ? tag.options.top : 0)) + 10;\n                if (posLeft + width <= maxWidth && posTop + height <= maxHeight) break;\n              }\n            }\n            if (tagBody.data('posClass') !== posClass) {\n              tagBody.removeClass('w2ui-tag-right w2ui-tag-left w2ui-tag-top w2ui-tag-bottom')\n                .addClass(posClass)\n                .data('posClass', posClass);\n            }\n          }\n          return { left: posLeft, top: posTop, posClass: posClass };\n        }\n      })\n    }\n  }\n\n  // w2overlay - appears under the element, there can be only one at a time\n\n  $.fn.w2overlay = function (html, options) {\n    var obj = this;\n    var name = '';\n    var defaults = {\n      name: null,              // it not null, then allows multiple concurrent overlays\n      html: '',                // html text to display\n      align: 'none',            // can be none, left, right, both\n      left: 0,                 // offset left\n      top: 0,                 // offset top\n      tipLeft: 30,                // tip offset left\n      noTip: false,             // if true - no tip will be displayed\n      selectable: false,\n      width: 0,                 // fixed width\n      height: 0,                 // fixed height\n      maxWidth: null,              // max width if any\n      maxHeight: null,              // max height if any\n      contextMenu: false,             // if true, it will be opened at mouse position\n      pageX: null,\n      pageY: null,\n      originalEvent: null,\n      style: '',                // additional style for main div\n      'class': '',                // additional class name for main div\n      overlayStyle: '',\n      onShow: null,              // event on show\n      onHide: null,              // event on hide\n      openAbove: null,              // show above control (if not, then as best needed)\n      tmp: {}\n    };\n    if (arguments.length === 1) {\n      if (typeof html === 'object') {\n        options = html;\n      } else {\n        options = { html: html };\n      }\n    }\n    if (arguments.length === 2) options.html = html;\n    if (!$.isPlainObject(options)) options = {};\n    options = $.extend({}, defaults, options);\n    if (options.name) name = '-' + options.name;\n    // hide\n    var tmp_hide;\n    if (this.length === 0 || options.html === '' || options.html == null) {\n      if ($('#w2ui-overlay' + name).length > 0) {\n        tmp_hide = $('#w2ui-overlay' + name)[0].hide;\n        if (typeof tmp_hide === 'function') tmp_hide();\n      } else {\n        $('#w2ui-overlay' + name).remove();\n      }\n      return $(this);\n    }\n    // hide previous if any\n    if ($('#w2ui-overlay' + name).length > 0) {\n      tmp_hide = $('#w2ui-overlay' + name)[0].hide;\n      $(document).off('.w2overlay' + name);\n      if (typeof tmp_hide === 'function') tmp_hide();\n    }\n    if (obj.length > 0 && (obj[0].tagName == null || obj[0].tagName.toUpperCase() === 'BODY')) options.contextMenu = true;\n    if (options.contextMenu && options.originalEvent) {\n      options.pageX = options.originalEvent.pageX;\n      options.pageY = options.originalEvent.pageY;\n    }\n    if (options.contextMenu && (options.pageX == null || options.pageY == null)) {\n      console.log('ERROR: to display menu at mouse location, pass options.pageX and options.pageY.');\n    }\n    var data_str = ''\n    if (options.data) {\n      Object.keys(options.data).forEach(function (item) {\n        data_str += 'data-' + item + '=\"' + options.data[item] + '\"'\n      })\n    }\n    // append\n    $('body').append(\n      '<div id=\"w2ui-overlay' + name + '\" style=\"display: none; left: 0px; top: 0px; ' + options.overlayStyle + '\" ' + data_str +\n      '        class=\"w2ui-reset w2ui-overlay ' + ($(this).parents('.w2ui-popup, .w2ui-overlay-popup, .w2ui-message').length > 0 ? 'w2ui-overlay-popup' : '') + '\">' +\n      '    <style></style>' +\n      '    <div style=\"min-width: 100%; ' + options.style + '\" class=\"' + options['class'] + '\"></div>' +\n      '</div>'\n    );\n    // init\n    var div1 = $('#w2ui-overlay' + name);\n    var div2 = div1.find(' > div');\n    div2.html(options.html);\n    // pick bg color of first div\n    var bc = div2.css('background-color');\n    if (bc != null && bc !== 'rgba(0, 0, 0, 0)' && bc !== 'transparent') div1.css({ 'background-color': bc, 'border-color': bc });\n\n    var offset = $(obj).offset() || {};\n    div1.data('element', obj.length > 0 ? obj[0] : null)\n      .data('options', options)\n      .data('position', offset.left + 'x' + offset.top)\n      .fadeIn('fast')\n      .on('click', function (event) {\n        $('#w2ui-overlay' + name).data('keepOpen', true);\n        // if there is label for input, it will produce 2 click events\n        if (event.target.tagName.toUpperCase() === 'LABEL') event.stopPropagation();\n      })\n      .on('mousedown', function (event) {\n        var tmp = event.target.tagName.toUpperCase();\n        if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(tmp) === -1 && !options.selectable) {\n          event.preventDefault();\n        }\n      });\n    div1[0].hide = hide;\n    div1[0].resize = resize;\n\n    // need time to display\n    setTimeout(function () {\n      $(document).off('.w2overlay' + name).on('click.w2overlay' + name, hide);\n      if (typeof options.onShow === 'function') options.onShow();\n      resize();\n    }, 10);\n\n    monitor();\n    return $(this);\n\n    // monitor position\n    function monitor() {\n      var tmp = $('#w2ui-overlay' + name);\n      if (tmp.data('element') !== obj[0]) return; // it if it different overlay\n      if (tmp.length === 0) return;\n      var offset = $(obj).offset() || {};\n      var pos = offset.left + 'x' + offset.top;\n      if (tmp.data('position') !== pos) {\n        hide();\n      } else {\n        setTimeout(monitor, 250);\n      }\n    }\n\n    // click anywhere else hides the drop down\n    function hide(event) {\n      if (event && event.button !== 0) return; // only for left click button\n      var div1 = $('#w2ui-overlay' + name);\n      // Allow clicking inside other overlays which belong to the elements inside this overlay\n      if (event && $($(event.target).closest('.w2ui-overlay').data('element')).closest('.w2ui-overlay')[0] === div1[0]) return;\n      if (div1.data('keepOpen') === true) {\n        div1.removeData('keepOpen');\n        return;\n      }\n      var result;\n      if (typeof options.onHide === 'function') result = options.onHide();\n      if (result === false) return;\n      div1.remove();\n      $(document).off('.w2overlay' + name);\n      clearInterval(div1.data('timer'));\n    }\n\n    function resize() {\n      var div1 = $('#w2ui-overlay' + name);\n      var div2 = div1.find(' > div');\n      var menu = $('#w2ui-overlay' + name + ' div.w2ui-menu');\n      var pos = {};\n      if (menu.length > 0) {\n        menu.css('overflow-y', 'hidden');\n        pos.scrollTop = menu.scrollTop();\n        pos.scrollLeft = menu.scrollLeft();\n      }\n      // if goes over the screen, limit height and width\n      if (div1.length > 0) {\n        div2.height('auto').width('auto');\n        // width/height\n        var overflowX = false;\n        var overflowY = false;\n        var h = div2.height();\n        var w = div2.width();\n        if (options.width && options.width < w) w = options.width;\n        if (w < 30) w = 30;\n        // if content of specific height\n        if (options.tmp.contentHeight) {\n          h = parseInt(options.tmp.contentHeight);\n          div2.height(h);\n          setTimeout(function () {\n            var $div = div2.find('div.w2ui-menu');\n            if (h > $div.height()) {\n              div2.find('div.w2ui-menu').css('overflow-y', 'hidden');\n            }\n          }, 1);\n          setTimeout(function () {\n            var $div = div2.find('div.w2ui-menu');\n            if ($div.css('overflow-y') !== 'auto') $div.css('overflow-y', 'auto');\n          }, 10);\n        }\n        if (options.tmp.contentWidth && options.align !== 'both') {\n          w = parseInt(options.tmp.contentWidth);\n          div2.width(w);\n          setTimeout(function () {\n            if (w > div2.find('div.w2ui-menu > table').width()) {\n              div2.find('div.w2ui-menu > table').css('overflow-x', 'hidden');\n            }\n          }, 1);\n          setTimeout(function () {\n            div2.find('div.w2ui-menu > table').css('overflow-x', 'auto');\n          }, 10);\n        } else {\n          div2.find('div.w2ui-menu').css('width', '100%');\n        }\n        // adjust position\n        var boxLeft = options.left;\n        var boxWidth = options.width;\n        var tipLeft = options.tipLeft;\n        // alignment\n        switch (options.align) {\n          case 'both':\n            boxLeft = 17;\n            if (options.width === 0) options.width = w2utils.getSize($(obj), 'width');\n            if (options.maxWidth && options.width > options.maxWidth) options.width = options.maxWidth;\n            break;\n          case 'left':\n            boxLeft = 17;\n            break;\n          case 'right':\n            boxLeft = w2utils.getSize($(obj), 'width') - w + 10;\n            tipLeft = w - 40;\n            break;\n        }\n        if (w === 30 && !boxWidth) boxWidth = 30; else boxWidth = (options.width ? options.width : 'auto');\n        var tmp = (w - 17) / 2;\n        if (boxWidth !== 'auto') tmp = (boxWidth - 17) / 2;\n        if (tmp < 25) {\n          boxLeft = 25 - tmp;\n          tipLeft = Math.floor(tmp);\n        }\n        // Y coord\n        var X, Y, offsetTop;\n        if (options.contextMenu) { // context menu\n          X = options.pageX + 8;\n          Y = options.pageY - 0;\n          offsetTop = options.pageY;\n        } else {\n          var offset = obj.offset() || {};\n          X = ((offset.left > 25 ? offset.left : 25) + boxLeft);\n          Y = (offset.top + w2utils.getSize(obj, 'height') + options.top + 7);\n          offsetTop = offset.top;\n        }\n        div1.css({\n          left: X + 'px',\n          top: Y + 'px',\n          'min-width': boxWidth,\n          'min-height': (options.height ? options.height : 'auto')\n        });\n        // $(window).height() - has a problem in FF20\n        var offset = div2.offset() || {};\n        var maxHeight = window.innerHeight + $(document).scrollTop() - offset.top - 7;\n        var maxWidth = window.innerWidth + $(document).scrollLeft() - offset.left - 7;\n        if (options.contextMenu) { // context menu\n          maxHeight = window.innerHeight + $(document).scrollTop() - options.pageY - 15;\n          maxWidth = window.innerWidth + $(document).scrollLeft() - options.pageX;\n        }\n\n        if (((maxHeight > -50 && maxHeight < 210) || options.openAbove === true) && options.openAbove !== false) {\n          var tipOffset;\n          // show on top\n          if (options.contextMenu) { // context menu\n            maxHeight = options.pageY - 7;\n            tipOffset = 5;\n          } else {\n            maxHeight = offset.top - $(document).scrollTop() - 7;\n            tipOffset = 24;\n          }\n          if (options.maxHeight && maxHeight > options.maxHeight) maxHeight = options.maxHeight;\n          if (h > maxHeight) {\n            overflowY = true;\n            div2.height(maxHeight).width(w).css({ 'overflow-y': 'auto' });\n            h = maxHeight;\n          }\n          div1.addClass('bottom-arrow');\n          div1.css('top', (offsetTop - h - tipOffset + options.top) + 'px');\n          div1.find('>style').html(\n            '#w2ui-overlay' + name + ':before { margin-left: ' + parseInt(tipLeft) + 'px; }' +\n            '#w2ui-overlay' + name + ':after { margin-left: ' + parseInt(tipLeft) + 'px; }'\n          );\n        } else {\n          // show under\n          if (options.maxHeight && maxHeight > options.maxHeight) maxHeight = options.maxHeight;\n          if (h > maxHeight) {\n            overflowY = true;\n            div2.height(maxHeight).width(w).css({ 'overflow-y': 'auto' });\n          }\n          div1.addClass('top-arrow');\n          div1.find('>style').html(\n            '#w2ui-overlay' + name + ':before { margin-left: ' + parseInt(tipLeft) + 'px; }' +\n            '#w2ui-overlay' + name + ':after { margin-left: ' + parseInt(tipLeft) + 'px; }'\n          );\n        }\n        // check width\n        w = div2.width();\n        maxWidth = window.innerWidth + $(document).scrollLeft() - offset.left - 7;\n        if (options.maxWidth && maxWidth > options.maxWidth) maxWidth = options.maxWidth;\n        if (w > maxWidth && options.align !== 'both') {\n          options.align = 'right';\n          setTimeout(function () { resize(); }, 1);\n        }\n        // don't show tip\n        if (options.contextMenu || options.noTip) { // context menu\n          div1.find('>style').html(\n            '#w2ui-overlay' + name + ':before { display: none; }' +\n            '#w2ui-overlay' + name + ':after { display: none; }'\n          );\n        }\n        // check scroll bar (needed to avoid horizontal scrollbar)\n        if (overflowY && options.align !== 'both') div2.width(w + w2utils.scrollBarSize() + 2);\n      }\n      if (menu.length > 0) {\n        menu.css('overflow-y', 'auto');\n        menu.scrollTop(pos.scrollTop);\n        menu.scrollLeft(pos.scrollLeft);\n      }\n    }\n  };\n\n  $.fn.w2menu = function (menu, options) {\n    /*\n    ITEM STRUCTURE\n        item : {\n            id       : null,\n            text     : '',\n            style    : '',\n            img      : '',\n            icon     : '',\n            count    : '',\n            tooltip  : '',\n            hidden   : false,\n            checked  : null,\n            disabled : false\n            ...\n        }\n    */\n    // if items is a function\n    if (options && typeof options.items === 'function') {\n      options.items = options.items();\n    }\n    var defaults = {\n      type: 'normal',    // can be normal, radio, check\n      index: null,        // current selected\n      items: [],\n      render: null,\n      msgNoItems: 'No items',\n      onSelect: null,\n      hideOnRemove: false,\n      tmp: {}\n    };\n    var ret;\n    var obj = this;\n    var name = '';\n    if (menu === 'refresh') {\n      // if not show - call blur\n      if ($.fn.w2menuOptions && $.fn.w2menuOptions.name) name = '-' + $.fn.w2menuOptions.name;\n      if (options.name) name = '-' + options.name;\n      if ($('#w2ui-overlay' + name).length > 0) {\n        options = $.extend($.fn.w2menuOptions, options);\n        var scrTop = $('#w2ui-overlay' + name + ' div.w2ui-menu').scrollTop();\n        $('#w2ui-overlay' + name + ' div.w2ui-menu').html(getMenuHTML());\n        $('#w2ui-overlay' + name + ' div.w2ui-menu').scrollTop(scrTop);\n        mresize();\n      } else {\n        $(this).w2menu(options);\n      }\n    } else if (menu === 'refresh-index') {\n      var $menu = $('#w2ui-overlay' + name + ' div.w2ui-menu');\n      var cur = $menu.find('tr[index=' + options.index + ']');\n      var scrTop = $menu.scrollTop();\n      $menu.find('tr.w2ui-selected').removeClass('w2ui-selected'); // clear all\n      cur.addClass('w2ui-selected'); // select current\n      // scroll into view\n      if (cur.length > 0) {\n        var top = cur[0].offsetTop - 5; // 5 is margin top\n        var height = $menu.height();\n        $menu.scrollTop(scrTop);\n        if (top < scrTop || top + cur.height() > scrTop + height) {\n          $menu.animate({ 'scrollTop': top - (height - cur.height() * 2) / 2 }, 200, 'linear');\n        }\n      }\n      mresize();\n    } else {\n      if (arguments.length === 1) options = menu; else options.items = menu;\n      if (typeof options !== 'object') options = {};\n      options = $.extend({}, defaults, options);\n      $.fn.w2menuOptions = options;\n      if (options.name) name = '-' + options.name;\n      if (typeof options.select === 'function' && typeof options.onSelect !== 'function') options.onSelect = options.select;\n      if (typeof options.remove === 'function' && typeof options.onRemove !== 'function') options.onRemove = options.remove;\n      if (typeof options.onRender === 'function' && typeof options.render !== 'function') options.render = options.onRender;\n      // since only one overlay can exist at a time\n      $.fn.w2menuClick = function (event, index, parentIndex) {\n        var keepOpen = false;\n        var $tr = $(event.target).closest('tr');\n        if (event.shiftKey || event.metaKey || event.ctrlKey) {\n          keepOpen = true;\n        }\n        if (parentIndex == null) {\n          items = options.items\n        } else {\n          items = options.items[parentIndex].items\n        }\n        if ($(event.target).hasClass('remove')) {\n          if (typeof options.onRemove === 'function') {\n            options.onRemove({\n              index: index,\n              parentIndex: parentIndex,\n              item: items[index],\n              keepOpen: keepOpen,\n              originalEvent: event\n            });\n          }\n          keepOpen = !options.hideOnRemove;\n          $(event.target).closest('tr').remove();\n          mresize();\n        } else if ($tr.hasClass('has-sub-menu')) {\n          keepOpen = true;\n          if ($tr.hasClass('expanded')) {\n            items[index].expanded = false;\n            $tr.removeClass('expanded').addClass('collapsed').next().hide();\n          } else {\n            items[index].expanded = true;\n            $tr.addClass('expanded').removeClass('collapsed').next().show();\n          }\n          mresize();\n        } else if (typeof options.onSelect === 'function') {\n          var tmp = items;\n          if (typeof items == 'function') {\n            tmp = items(options.items[parentIndex])\n          }\n          if (tmp[index].keepOpen != null) {\n            keepOpen = tmp[index].keepOpen\n          }\n          options.onSelect({\n            index: index,\n            parentIndex: parentIndex,\n            item: tmp[index],\n            keepOpen: keepOpen,\n            originalEvent: event\n          });\n        }\n        // -- hide\n        if (items[index] == null || items[index].keepOpen !== true) {\n          var div = $('#w2ui-overlay' + name);\n          div.removeData('keepOpen');\n          if (div.length > 0 && typeof div[0].hide === 'function' && !keepOpen) {\n            div[0].hide();\n          }\n        }\n      };\n      $.fn.w2menuDown = function (event, index, parentIndex) {\n        var items;\n        var $el = $(event.target).closest('tr');\n        var tmp = $($el.get(0)).find('.w2ui-icon');\n        if (parentIndex == null) {\n          items = options.items\n        } else {\n          items = options.items[parentIndex].items\n        }\n        var item = items[index];\n        if ((options.type === 'check' || options.type === 'radio') && item.group !== false\n          && !$(event.target).hasClass('remove')\n          && !$(event.target).closest('tr').hasClass('has-sub-menu')) {\n          item.checked = !item.checked;\n          if (item.checked) {\n            if (options.type === 'radio') {\n              tmp.parents('table').find('.w2ui-icon') // should not be closest, but parents\n                .removeClass('w2ui-icon-check')\n                .addClass('w2ui-icon-empty');\n            }\n            if (options.type === 'check' && item.group != null) {\n              items.forEach(function (sub, ind) {\n                if (sub.id == item.id) return;\n                if (sub.group === item.group && sub.checked) {\n                  tmp.closest('table').find('tr[index=' + ind + '] .w2ui-icon')\n                    .removeClass('w2ui-icon-check')\n                    .addClass('w2ui-icon-empty');\n                  items[ind].checked = false;\n                }\n              });\n            }\n            tmp.removeClass('w2ui-icon-empty').addClass('w2ui-icon-check');\n          } else if (options.type === 'check' && item.group == null && item.group !== false) {\n            tmp.removeClass('w2ui-icon-check').addClass('w2ui-icon-empty');\n          }\n        }\n        // highlight record\n        $el.parent().find('tr').removeClass('w2ui-selected');\n        $el.addClass('w2ui-selected');\n      };\n      var html = '';\n      if (options.search) {\n        html +=\n          '<div style=\"position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;\">' +\n          '    <div class=\"w2ui-icon icon-search\" style=\"position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;\"></div>' +\n          '    <input id=\"menu-search\" type=\"text\" style=\"width: 100%; outline: none; padding-left: 20px;\" onclick=\"event.stopPropagation();\"/>' +\n          '</div>';\n        options.style += ';background-color: #ECECEC';\n        options.index = 0;\n        for (var i = 0; i < options.items.length; i++) options.items[i].hidden = false;\n      }\n      html += (options.topHTML || '') +\n        '<div class=\"w2ui-menu\" style=\"top: ' + (options.search ? 40 : 0) + 'px;' + (options.menuStyle || '') + '\">' +\n        getMenuHTML() +\n        '</div>';\n      ret = $(this).w2overlay(html, options);\n      setTimeout(function () {\n        $('#w2ui-overlay' + name + ' #menu-search')\n          .on('keyup', change)\n          .on('keydown', function (event) {\n            // cancel tab key\n            if (event.keyCode === 9) { event.stopPropagation(); event.preventDefault(); }\n          });\n        if (options.search) {\n          if (['text', 'password'].indexOf($(obj)[0].type) !== -1 || $(obj)[0].tagName.toUpperCase() === 'TEXTAREA') return;\n          $('#w2ui-overlay' + name + ' #menu-search').focus();\n        }\n        mresize();\n      }, 250);\n      mresize();\n      // map functions\n      var div = $('#w2ui-overlay' + name);\n      if (div.length > 0) {\n        div[0].mresize = mresize;\n        div[0].change = change;\n      }\n    }\n    return ret;\n\n    function mresize() {\n      setTimeout(function () {\n        // show selected\n        $('#w2ui-overlay' + name + ' tr.w2ui-selected').removeClass('w2ui-selected');\n        var cur = $('#w2ui-overlay' + name + ' tr[index=' + options.index + ']');\n        var scrTop = $('#w2ui-overlay' + name + ' div.w2ui-menu').scrollTop();\n        cur.addClass('w2ui-selected');\n        if (options.tmp) {\n          options.tmp.contentHeight = $('#w2ui-overlay' + name + ' table').height() + (options.search ? 50 : 10)\n            + (parseInt($('#w2ui-overlay' + name + ' .w2ui-menu').css('top')) || 0) // it menu is moved with menuStyle\n            + (parseInt($('#w2ui-overlay' + name + ' .w2ui-menu').css('bottom')) || 0); // it menu is moved with menuStyle\n          options.tmp.contentWidth = $('#w2ui-overlay' + name + ' table').width();\n        }\n        if ($('#w2ui-overlay' + name).length > 0) $('#w2ui-overlay' + name)[0].resize();\n        // scroll into view\n        if (cur.length > 0) {\n          var top = cur[0].offsetTop - 5; // 5 is margin top\n          var el = $('#w2ui-overlay' + name + ' div.w2ui-menu');\n          var height = el.height();\n          $('#w2ui-overlay' + name + ' div.w2ui-menu').scrollTop(scrTop);\n          if (top < scrTop || top + cur.height() > scrTop + height) {\n            $('#w2ui-overlay' + name + ' div.w2ui-menu').animate({ 'scrollTop': top - (height - cur.height() * 2) / 2 }, 200, 'linear');\n          }\n        }\n      }, 1);\n    }\n\n    function change(event) {\n      var search = this.value;\n      var key = event.keyCode;\n      var cancel = false;\n      switch (key) {\n        case 13: // enter\n          $('#w2ui-overlay' + name).remove();\n          $.fn.w2menuClick(event, options.index);\n          break;\n        case 9:  // tab\n        case 27: // escape\n          $('#w2ui-overlay' + name).remove();\n          $.fn.w2menuClick(event, -1);\n          break;\n        case 38: // up\n          options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n          options.index--;\n          while (options.index > 0 && options.items[options.index].hidden) options.index--;\n          if (options.index === 0 && options.items[options.index].hidden) {\n            while (options.items[options.index] && options.items[options.index].hidden) options.index++;\n          }\n          if (options.index < 0) options.index = 0;\n          cancel = true;\n          break;\n        case 40: // down\n          options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n          options.index++;\n          while (options.index < options.items.length - 1 && options.items[options.index].hidden) options.index++;\n          if (options.index === options.items.length - 1 && options.items[options.index].hidden) {\n            while (options.items[options.index] && options.items[options.index].hidden) options.index--;\n          }\n          if (options.index >= options.items.length) options.index = options.items.length - 1;\n          cancel = true;\n          break;\n      }\n      // filter\n      if (!cancel) {\n        var shown = 0;\n        for (var i = 0; i < options.items.length; i++) {\n          var item = options.items[i];\n          var prefix = '';\n          var suffix = '';\n          if (['is', 'begins with'].indexOf(options.match) !== -1) prefix = '^';\n          if (['is', 'ends with'].indexOf(options.match) !== -1) suffix = '$';\n          try {\n            var re = new RegExp(prefix + search + suffix, 'i');\n            if (re.test(item.text) || item.text === '...') item.hidden = false; else item.hidden = true;\n          } catch (e) { }\n          // do not show selected items\n          if (obj.type === 'enum' && $.inArray(item.id, ids) !== -1) item.hidden = true;\n          if (item.hidden !== true) shown++;\n        }\n        options.index = 0;\n        while (options.index < options.items.length - 1 && options.items[options.index].hidden) options.index++;\n        if (shown <= 0) options.index = -1;\n      }\n      $(obj).w2menu('refresh', options);\n      mresize();\n    }\n\n    function getMenuHTML(items, subMenu, expanded, parentIndex) {\n      if (options.spinner) {\n        return '<table><tbody><tr><td style=\"padding: 5px 10px 13px 10px; text-align: center\">' +\n          '    <div class=\"w2ui-spinner\" style=\"width: 18px; height: 18px; position: relative; top: 5px;\"></div> ' +\n          '    <div style=\"display: inline-block; padding: 3px; color: #999;\">' + w2utils.lang('Loading...') + '</div>' +\n          '</td></tr></tbody></table>';\n      }\n      var count = 0;\n      var menu_html = '<table cellspacing=\"0\" cellpadding=\"0\" class=\"' + (subMenu ? ' sub-menu' : '') + '\"><tbody>';\n      var img = null, icon = null;\n      if (items == null) items = options.items;\n      if (!Array.isArray(items)) items = []\n      for (var f = 0; f < items.length; f++) {\n        var mitem = items[f];\n        if (typeof mitem === 'string') {\n          mitem = { id: mitem, text: mitem };\n        } else {\n          if (mitem.text != null && mitem.id == null) mitem.id = mitem.text;\n          if (mitem.text == null && mitem.id != null) mitem.text = mitem.id;\n          if (mitem.caption != null) mitem.text = mitem.caption;\n          img = mitem.img;\n          icon = mitem.icon;\n          if (img == null) img = null; // img might be undefined\n          if (icon == null) icon = null; // icon might be undefined\n        }\n        if (['radio', 'check'].indexOf(options.type) != -1 && !Array.isArray(mitem.items) && mitem.group !== false) {\n          if (mitem.checked === true) icon = 'w2ui-icon-check'; else icon = 'w2ui-icon-empty';\n        }\n        if (mitem.hidden !== true) {\n          var imgd = '';\n          var txt = mitem.text;\n          var subMenu_dsp = '';\n          if (typeof options.render === 'function') txt = options.render(mitem, options);\n          if (typeof txt == 'function') txt = txt(mitem, options)\n          if (img) imgd = '<td class=\"menu-icon\"><div class=\"w2ui-tb-image w2ui-icon ' + img + '\"></div></td>';\n          if (icon) imgd = '<td class=\"menu-icon\" align=\"center\"><span class=\"w2ui-icon ' + icon + '\"></span></td>';\n          // render only if non-empty\n          if (mitem.type !== 'break' && txt != null && txt !== '' && String(txt).substr(0, 2) != '--') {\n            var bg = (count % 2 === 0 ? 'w2ui-item-even' : 'w2ui-item-odd');\n            if (options.altRows !== true) bg = '';\n            var colspan = 1;\n            if (imgd === '') colspan++;\n            if (mitem.count == null && mitem.hotkey == null && mitem.remove !== true && mitem.items == null) colspan++;\n            if (mitem.tooltip == null && mitem.hint != null) mitem.tooltip = mitem.hint; // for backward compatibility\n            var count_dsp = '';\n            if (mitem.remove === true) {\n              count_dsp = '<span class=\"remove\">X</span>'\n            } else if (mitem.items != null) {\n              var _items = []\n              if (typeof mitem.items == 'function') {\n                _items = mitem.items(mitem)\n              } else if (Array.isArray(mitem.items)) {\n                _items = mitem.items\n              }\n              count_dsp = '<span></span>'\n              subMenu_dsp = '<tr style=\"' + (mitem.expanded ? '' : 'display: none') + '\">' +\n                '     <td colspan=\"3\">' + getMenuHTML(_items, true, !mitem.expanded, f) + '</td>' +\n                '<tr>';\n            } else {\n              if (mitem.count != null) count_dsp += '<span>' + mitem.count + '</span>'\n              if (mitem.hotkey != null) count_dsp += '<span class=\"hotkey\">' + mitem.hotkey + '</span>'\n            }\n            menu_html +=\n              '<tr index=\"' + f + '\" style=\"' + (mitem.style ? mitem.style : '') + '\" ' + (mitem.tooltip ? 'title=\"' + w2utils.lang(mitem.tooltip) + '\"' : '') +\n              ' class=\"' + bg\n              + (options.index === f ? ' w2ui-selected' : '')\n              + (mitem.disabled === true ? ' w2ui-disabled' : '')\n              + (subMenu_dsp !== '' ? ' has-sub-menu' + (mitem.expanded ? ' expanded' : ' collapsed') : '')\n              + '\"' +\n              '        onmousedown=\"if (' + (mitem.disabled === true ? 'true' : 'false') + ') return;' +\n              '               jQuery.fn.w2menuDown(event, ' + f + ',  ' + parentIndex + ');\"' +\n              '        onclick=\"event.stopPropagation(); ' +\n              '               if (' + (mitem.disabled === true ? 'true' : 'false') + ') return;' +\n              '               jQuery.fn.w2menuClick(event, ' + f + ',  ' + parentIndex + ');\">' +\n              (subMenu ? '<td></td>' : '') + imgd +\n              '   <td class=\"menu-text\" colspan=\"' + colspan + '\">' + w2utils.lang(txt) + '</td>' +\n              '   <td class=\"menu-count\">' + count_dsp + '</td>' +\n              '</tr>' + subMenu_dsp;\n            count++;\n          } else {\n            // horizontal line\n            var divText = txt.replace(/^-+/g, '')\n            menu_html += '<tr><td colspan=\"3\" class=\"menu-divider ' + (divText != '' ? 'divider-text' : '') + '\">' +\n              '   <div class=\"line\">' + divText + '</div>' +\n              '   <div class=\"text\">' + divText + '</div>' +\n              '</td></tr>';\n          }\n        }\n        items[f] = mitem;\n      }\n      if (count === 0 && options.msgNoItems) {\n        menu_html += '<tr><td style=\"padding: 13px; color: #999; text-align: center\">' + options.msgNoItems + '</div></td></tr>';\n      }\n      menu_html += \"</tbody></table>\";\n      return menu_html;\n    }\n  };\n\n  $.fn.w2color = function (options, callBack) {\n    var obj = this;\n    var $el = $(this);\n    var el = $el[0];\n    // no need to init\n    if ($el.data('skipInit')) {\n      $el.removeData('skipInit');\n      return;\n    }\n    // needed for keyboard navigation\n    var index = [-1, -1];\n    if ($.fn.w2colorPalette == null) {\n      $.fn.w2colorPalette = [\n        ['000000', '333333', '555555', '777777', '888888', '999999', 'AAAAAA', 'CCCCCC', 'DDDDDD', 'EEEEEE', 'F7F7F7', 'FFFFFF'],\n        ['FF011B', 'FF9838', 'FFC300', 'FFFD59', '86FF14', '14FF7A', '2EFFFC', '2693FF', '006CE7', '9B24F4', 'FF21F5', 'FF0099'],\n        ['FFEAEA', 'FCEFE1', 'FCF4DC', 'FFFECF', 'EBFFD9', 'D9FFE9', 'E0FFFF', 'E8F4FF', 'ECF4FC', 'EAE6F4', 'FFF5FE', 'FCF0F7'],\n        ['F4CCCC', 'FCE5CD', 'FFF1C2', 'FFFDA1', 'D5FCB1', 'B5F7D0', 'BFFFFF', 'D6ECFF', 'CFE2F3', 'D9D1E9', 'FFE3FD', 'FFD9F0'],\n        ['EA9899', 'F9CB9C', 'FFE48C', 'F7F56F', 'B9F77E', '84F0B1', '83F7F7', 'B5DAFF', '9FC5E8', 'B4A7D6', 'FAB9F6', 'FFADDE'],\n        ['E06666', 'F6B26B', 'DEB737', 'E0DE51', '8FDB48', '52D189', '4EDEDB', '76ACE3', '6FA8DC', '8E7CC3', 'E07EDA', 'F26DBD'],\n        ['CC0814', 'E69138', 'AB8816', 'B5B20E', '6BAB30', '27A85F', '1BA8A6', '3C81C7', '3D85C6', '674EA7', 'A14F9D', 'BF4990'],\n        ['99050C', 'B45F17', '80650E', '737103', '395E14', '10783D', '13615E', '094785', '0A5394', '351C75', '780172', '782C5A']\n      ];\n    }\n    var pal = $.fn.w2colorPalette;\n    if (typeof options === 'string') options = {\n      color: options,\n      transparent: true\n    };\n    if (options.onSelect == null && callBack != null) options.onSelect = callBack;\n    // add remove transarent color\n    if (options.transparent && pal[0][1] == '333333') {\n      pal[0].splice(1, 1);\n      pal[0].push('');\n    }\n    if (!options.transparent && pal[0][1] != '333333') {\n      pal[0].splice(1, 0, '333333');\n      pal[0].pop();\n    }\n    if (options.color) options.color = String(options.color).toUpperCase();\n    if (typeof options.color === 'string' && options.color.substr(0, 1) === '#') options.color = options.color.substr(1);\n    if (options.fireChange == null) options.fireChange = true;\n\n    if ($('#w2ui-overlay').length === 0) {\n      $(el).w2overlay(getColorHTML(options), options);\n    } else { // only refresh contents\n      $('#w2ui-overlay .w2ui-colors').parent().html(getColorHTML(options));\n      $('#w2ui-overlay').show();\n    }\n    // bind events\n    $('#w2ui-overlay .w2ui-color')\n      .off('.w2color')\n      .on('mousedown.w2color', function (event) {\n        var color = $(event.originalEvent.target).attr('name'); // should not have #\n        index = $(event.originalEvent.target).attr('index').split(':');\n        if (el.tagName.toUpperCase() === 'INPUT') {\n          if (options.fireChange) $(el).change();\n          $(el).next().find('>div').css('background-color', color);\n        } else {\n          $(el).data('_color', color);\n        }\n        if (typeof options.onSelect === 'function') options.onSelect(color);\n      })\n      .on('mouseup.w2color', function () {\n        setTimeout(function () {\n          if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide();\n        }, 10);\n      });\n    $('#w2ui-overlay .color-original')\n      .off('.w2color')\n      .on('click.w2color', function (event) {\n        // restore original color\n        var tmp = w2utils.parseColor($(event.target).css('background-color'));\n        if (tmp != null) {\n          rgb = tmp;\n          hsv = w2utils.rgb2hsv(rgb);\n          setColor(hsv);\n          updateSlides();\n          refreshPalette();\n        }\n      });\n    $('#w2ui-overlay input')\n      .off('.w2color')\n      .on('mousedown.w2color', function (event) {\n        $('#w2ui-overlay').data('keepOpen', true);\n        setTimeout(function () { $('#w2ui-overlay').data('keepOpen', true); }, 10);\n        event.stopPropagation();\n      })\n      .on('change.w2color', function () {\n        var $el = $(this);\n        var val = parseFloat($el.val());\n        var max = parseFloat($el.attr('max'));\n        if (isNaN(val)) val = 0;\n        if (max > 1) val = parseInt(val);\n        if (max > 0 && val > max) {\n          $el.val(max);\n          val = max;\n        }\n        if (val < 0) {\n          $el.val(0);\n          val = 0;\n        }\n        var name = $el.attr('name');\n        var color = {};\n        if (['r', 'g', 'b', 'a'].indexOf(name) !== -1) {\n          rgb[name] = val;\n          hsv = w2utils.rgb2hsv(rgb);\n        } else if (['h', 's', 'v'].indexOf(name) !== -1) {\n          color[name] = val;\n        }\n        setColor(color);\n        updateSlides();\n        refreshPalette();\n      });\n    // advanced color events\n    var initial;\n    var hsv, rgb = w2utils.parseColor(options.color);\n    if (rgb == null) {\n      rgb = { r: 140, g: 150, b: 160, a: 1 };\n      hsv = w2utils.rgb2hsv(rgb);\n    }\n    hsv = w2utils.rgb2hsv(rgb);\n\n    var setColor = function (color, silent) {\n      if (color.h != null) hsv.h = color.h;\n      if (color.s != null) hsv.s = color.s;\n      if (color.v != null) hsv.v = color.v;\n      if (color.a != null) { rgb.a = color.a; hsv.a = color.a; }\n      rgb = w2utils.hsv2rgb(hsv);\n      // console.log(rgb)\n      var newColor = 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + rgb.a + ')';\n      var cl = [\n        Number(rgb.r).toString(16).toUpperCase(),\n        Number(rgb.g).toString(16).toUpperCase(),\n        Number(rgb.b).toString(16).toUpperCase(),\n        (Math.round(Number(rgb.a) * 255)).toString(16).toUpperCase()\n      ];\n      cl.forEach(function (item, ind) { if (item.length === 1) cl[ind] = '0' + item; });\n      newColor = cl[0] + cl[1] + cl[2] + cl[3];\n      if (rgb.a === 1) {\n        newColor = cl[0] + cl[1] + cl[2];\n      }\n      $('#w2ui-overlay .color-preview').css('background-color', '#' + newColor);\n      $('#w2ui-overlay input').each(function (index, el) {\n        if (el.name) {\n          if (rgb[el.name] != null) el.value = rgb[el.name];\n          if (hsv[el.name] != null) el.value = hsv[el.name];\n          if (el.name === 'a') el.value = rgb.a;\n        }\n      });\n      if (!silent) {\n        if (el.tagName.toUpperCase() === 'INPUT') {\n          $(el).val(newColor).data('skipInit', true);\n          if (options.fireChange) $(el).change();\n          $(el).next().find('>div').css('background-color', '#' + newColor);\n        } else {\n          $(el).data('_color', newColor);\n        }\n        if (typeof options.onSelect === 'function') options.onSelect(newColor);\n      } else {\n        $('#w2ui-overlay .color-original').css('background-color', '#' + newColor);\n      }\n    }\n    var updateSlides = function () {\n      var $el1 = $('#w2ui-overlay .palette .value1');\n      var $el2 = $('#w2ui-overlay .rainbow .value2');\n      var $el3 = $('#w2ui-overlay .alpha .value2');\n      var offset1 = parseInt($el1.width()) / 2;\n      var offset2 = parseInt($el2.width()) / 2;\n      $el1.css({ 'left': hsv.s * 150 / 100 - offset1, 'top': (100 - hsv.v) * 125 / 100 - offset1 });\n      $el2.css('left', hsv.h / (360 / 150) - offset2);\n      $el3.css('left', rgb.a * 150 - offset2);\n    }\n    var refreshPalette = function () {\n      var cl = w2utils.hsv2rgb(hsv.h, 100, 100);\n      var rgb = cl.r + ',' + cl.g + ',' + cl.b;\n      $('#w2ui-overlay .palette').css('background-image',\n        'linear-gradient(90deg, rgba(' + rgb + ',0) 0%, rgba(' + rgb + ',1) 100%)');\n    }\n    var mouseDown = function (event) {\n      var $el = $(this).find('.value1, .value2');\n      var offset = parseInt($el.width()) / 2;\n      if ($el.hasClass('move-x')) $el.css({ left: (event.offsetX - offset) + 'px' });\n      if ($el.hasClass('move-y')) $el.css({ top: (event.offsetY - offset) + 'px' });\n      initial = {\n        $el: $el,\n        x: event.pageX,\n        y: event.pageY,\n        width: $el.parent().width(),\n        height: $el.parent().height(),\n        left: parseInt($el.css('left')),\n        top: parseInt($el.css('top'))\n      };\n      mouseMove(event);\n      $('body').off('.w2color')\n        .on(mMove, mouseMove)\n        .on(mUp, mouseUp);\n    };\n    var mouseUp = function (event) {\n      $('body').off('.w2color');\n    };\n    var mouseMove = function (event) {\n      var $el = initial.$el;\n      var divX = event.pageX - initial.x;\n      var divY = event.pageY - initial.y;\n      var newX = initial.left + divX;\n      var newY = initial.top + divY;\n      var offset = parseInt($el.width()) / 2;\n      if (newX < -offset) newX = -offset;\n      if (newY < -offset) newY = -offset;\n      if (newX > initial.width - offset) newX = initial.width - offset;\n      if (newY > initial.height - offset) newY = initial.height - offset\n      if ($el.hasClass('move-x')) $el.css({ left: newX + 'px' });\n      if ($el.hasClass('move-y')) $el.css({ top: newY + 'px' });\n\n      // move\n      var name = $el.parent().attr('name');\n      var x = parseInt($el.css('left')) + offset;\n      var y = parseInt($el.css('top')) + offset;\n      if (name === 'palette') {\n        setColor({\n          s: Math.round(x / initial.width * 100),\n          v: Math.round(100 - (y / initial.height * 100))\n        });\n      }\n      if (name === 'rainbow') {\n        var h = Math.round(360 / 150 * x);\n        setColor({ h: h });\n        refreshPalette();\n      }\n      if (name === 'alpha') {\n        setColor({ a: parseFloat(Number(x / 150).toFixed(2)) });\n      }\n    }\n    if ($.fn._colorAdvanced === true || options.advanced === true) {\n      $('#w2ui-overlay .w2ui-color-tabs :nth-child(2)').click();\n      $('#w2ui-overlay').removeData('keepOpen');\n    }\n    setColor({}, true);\n    refreshPalette();\n    updateSlides();\n\n    // Events of iOS\n    var mDown = 'mousedown.w2color';\n    var mUp = 'mouseup.w2color';\n    var mMove = 'mousemove.w2color';\n    if (w2utils.isIOS) {\n      mDown = 'touchstart.w2color';\n      mUp = 'touchend.w2color';\n      mMove = 'touchmove.w2color  ';\n    }\n    $('#w2ui-overlay .palette')\n      .off('.w2color')\n      .on('mousedown.w2color', mouseDown);\n    $('#w2ui-overlay .rainbow')\n      .off('.w2color')\n      .on('mousedown.w2color', mouseDown);\n    $('#w2ui-overlay .alpha')\n      .off('.w2color')\n      .on('mousedown.w2color', mouseDown);\n\n    // keyboard navigation\n    el.nav = function (direction) {\n      switch (direction) {\n        case 'up':\n          index[0]--;\n          break;\n        case 'down':\n          index[0]++;\n          break;\n        case 'right':\n          index[1]++;\n          break;\n        case 'left':\n          index[1]--;\n          break;\n      }\n      if (index[0] < 0) index[0] = 0;\n      if (index[0] > pal.length - 2) index[0] = pal.length - 2;\n      if (index[1] < 0) index[1] = 0;\n      if (index[1] > pal[0].length - 1) index[1] = pal[0].length - 1;\n\n      color = pal[index[0]][index[1]];\n      $(el).data('_color', color);\n      return color;\n    };\n\n    function getColorHTML(options) {\n      var color = options.color, bor;\n      var html = '<div class=\"w2ui-colors\" onmousedown=\"jQuery(this).parents(\\'.w2ui-overlay\\').data(\\'keepOpen\\', true)\">' +\n        '<div class=\"w2ui-color-palette\">' +\n        '<table cellspacing=\"5\"><tbody>';\n      for (var i = 0; i < pal.length; i++) {\n        html += '<tr>';\n        for (var j = 0; j < pal[i].length; j++) {\n          if (pal[i][j] === 'FFFFFF') bor = ';border: 1px solid #efefef'; else bor = '';\n          html += '<td>' +\n            '    <div class=\"w2ui-color ' + (pal[i][j] === '' ? 'w2ui-no-color' : '') + '\" style=\"background-color: #' + pal[i][j] + bor + ';\" ' +\n            '       name=\"' + pal[i][j] + '\" index=\"' + i + ':' + j + '\">' + (options.color == pal[i][j] ? '&#149;' : '&#160;') +\n            '    </div>' +\n            '</td>';\n          if (options.color == pal[i][j]) index = [i, j];\n        }\n        html += '</tr>';\n        if (i < 2) html += '<tr><td style=\"height: 8px\" colspan=\"8\"></td></tr>';\n      }\n      html += '</tbody></table>' +\n        '</div>';\n      if (true) {\n        html += '<div class=\"w2ui-color-advanced\" style=\"display: none\">' +\n          '   <div class=\"color-info\">' +\n          '       <div class=\"color-preview-bg\"><div class=\"color-preview\"></div><div class=\"color-original\"></div></div>' +\n          '       <div class=\"color-part\">' +\n          '           <span>H</span> <input name=\"h\" maxlength=\"3\" max=\"360\" tabindex=\"101\">' +\n          '           <span>R</span> <input name=\"r\" maxlength=\"3\" max=\"255\" tabindex=\"104\">' +\n          '       </div>' +\n          '       <div class=\"color-part\">' +\n          '           <span>S</span> <input name=\"s\" maxlength=\"3\" max=\"100\" tabindex=\"102\">' +\n          '           <span>G</span> <input name=\"g\" maxlength=\"3\" max=\"255\" tabindex=\"105\">' +\n          '       </div>' +\n          '       <div class=\"color-part\">' +\n          '           <span>V</span> <input name=\"v\" maxlength=\"3\" max=\"100\" tabindex=\"103\">' +\n          '           <span>B</span> <input name=\"b\" maxlength=\"3\" max=\"255\" tabindex=\"106\">' +\n          '       </div>' +\n          '       <div class=\"color-part\" style=\"margin: 30px 0px 0px 2px\">' +\n          '           <span style=\"width: 40px\">Opacity</span> ' +\n          '           <input name=\"a\" maxlength=\"5\" max=\"1\" style=\"width: 32px !important\" tabindex=\"107\">' +\n          '       </div>' +\n          '   </div>' +\n          '   <div class=\"palette\" name=\"palette\">' +\n          '       <div class=\"palette-bg\"></div>' +\n          '       <div class=\"value1 move-x move-y\"></div>' +\n          '   </div>' +\n          '   <div class=\"rainbow\" name=\"rainbow\">' +\n          '       <div class=\"value2 move-x\"></div>' +\n          '   </div>' +\n          '   <div class=\"alpha\" name=\"alpha\">' +\n          '       <div class=\"alpha-bg\"></div>' +\n          '       <div class=\"value2 move-x\"></div>' +\n          '   </div>' +\n          '</div>';\n      }\n      html += '<div class=\"w2ui-color-tabs\">' +\n        '   <div class=\"w2ui-color-tab selected\" onclick=\"jQuery(this).addClass(\\'selected\\').next().removeClass(\\'selected\\').parents(\\'.w2ui-overlay\\').find(\\'.w2ui-color-advanced\\').hide().parent().find(\\'.w2ui-color-palette\\').show(); jQuery.fn._colorAdvanced = false; jQuery(\\'#w2ui-overlay\\')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-colors\"></span></div>' +\n        '   <div class=\"w2ui-color-tab\" onclick=\"jQuery(this).addClass(\\'selected\\').prev().removeClass(\\'selected\\').parents(\\'.w2ui-overlay\\').find(\\'.w2ui-color-advanced\\').show().parent().find(\\'.w2ui-color-palette\\').hide(); jQuery.fn._colorAdvanced = true; jQuery(\\'#w2ui-overlay\\')[0].resize()\"><span class=\"w2ui-icon w2ui-icon-settings\"></span></div>' +\n        '   <div style=\"padding: 8px; text-align: right;\">' + (typeof options.html == 'string' ? options.html : '') + '</div>' +\n        '</div>' +\n        '</div>' +\n        '<div style=\"clear: both; height: 0\"></div>';\n      return html;\n    }\n  };\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2grid        - grid widget\n*        - $().w2grid    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2toolbar, w2fields\n*\n* == TODO ==\n*   - column autosize based on largest content\n*   - reorder columns/records\n*   - problem with .set() and arrays, array get extended too, but should be replaced\n*   - after edit stay on the same record option\n*   - if supplied array of ids, get should return array of records\n*   - allow functions in routeData (also add routeData to list/enum)\n*   - implement global routeData and all elements read from there\n*   - send parsed URL to the event if there is routeData\n*   - if you set searchData or sortData and call refresh() it should work\n*   - add selectType: 'none' so that no selection can be make but with mouse\n*   - reorder records with frozen columns\n*   - focus/blur for selectType = cell not display grayed out selection\n*   - frozen columns\n        - load more only on the right side\n        - scrolling on frozen columns is not working only on regular columns\n*   - copy or large number of records is slow\n*   - reusable search component (see https://github.com/vitmalina/w2ui/issues/914#issuecomment-107340524)\n*   - allow enum in inline edit (see https://github.com/vitmalina/w2ui/issues/911#issuecomment-107341193)\n*   - if record has no recid, then it should be index in the aray (should not be 0)\n*\n* == KNOWN ISSUES ==\n*   - bug: vs_start = 100 and more then 500 records, when scrolling empty sets\n*   - row drag and drop has bugs\n*   - Shift-click/Ctrl-click/Ctrl-Shift-Click selection is not as robust as it should be\n*\n* == 1.5 changes\n*   - $('#grid').w2grid() - if called w/o argument then it returns grid object\n*   - added statusRange     : true,\n*           statusBuffered  : false,\n*           statusRecordID  : true,\n*           statusSelection : true,\n*           statusResponse  : true,\n*           statusSort      : true,\n*           statusSearch    : true,\n*   - change selectAll() and selectNone() - return time it took\n*   - added vs_start and vs_extra\n*   - added update(cells) - updates only data in the grid (or cells)\n*   - add to docs onColumnDragStart, onColumnDragEnd\n*   - onSelect and onSelect should fire 1 time for selects with shift or selectAll(), selectNone()\n*   - record.w2ui.style[field_name]\n*   - use column field for style: { 1: 'color: red' }\n*   - added focus(), blur(), onFocus, onBlur\n*   - search.simple - if false, will not show up in simple search\n*   - search.operator - default operator to use with search field\n*   - search.operators - array of operators for the search\n*   - search.hidden - could not be cleared by the user\n*   - search.value - only for hidden searches\n*   - if .search(val) - search all fields\n*   - refactor reorderRow (not finished)\n*   - return JSON can now have summary array\n*   - frozen columns\n*   - added selectionSave, selectionRestore - for internal use\n*   - added additional search filter options for int, float, date, time\n*   - added getLineHTML\n*   - added lineNumberWidth\n*   - add searches.style\n*   - getColumn without params returns fields of all columns\n*   - getSearch without params returns fields of all searches\n*   - added column.tooltip\n*   - added hasFocus, refactored w2utils.keyboard\n*   - do not clear selection when clicked and it was not in focus\n*   - added record.w2ui.colspan\n*   - editable area extends with typing\n*   - removed onSubmit and onDeleted - now it uses onSave and onDelete\n*   - column.seachable - can be an object, which will create search\n*   - added null, not null filters\n*   - update(cells) - added argument cells\n*   - scrollIntoView(..., ..., instant) - added third argument\n*   - added onResizeDblClick\n*   - added onColumnDblClick\n*   - implemented showBubble\n*   - added show.searchAll\n*   - added show.searchHiddenMsg\n*   - added w2grid.operators\n*   - added w2grid.operatorsMap\n*   - move events into prototype\n*   - move rec.summary, rec.style, rec.editable -> into rec.w2ui.summary, rec.w2ui.style, rec.w2ui.editable\n*   - record: {\n        recid\n        field1\n        ...\n        fieldN\n        w2ui: {\n            colspan: { field: 5, ...}\n            editable: true/false\n            hideCheckBox: true/false,\n            changes: {\n                field: chagned_value,\n                ....\n            },\n            children: [\n                // similar to records array\n                // can have sub children\n            ]\n            parent_recid: (internally set, id of the parent record, when children are copied to records array)\n            summary: true/false\n            style: 'string' - for entire row OR { field: 'string', ...} - per field\n            class: 'string' - for entire row OR { field: 'string', ...} - per field\n        }\n    }\n*   - added this.show.toolbarInput\n*   - disableCVS\n*   - added nestedFields: use field name containing dots as separator to look into objects\n*   - grid.message\n*   - added noReset option to localSort()\n*   - onColumnSelect\n*   - need to update PHP example\n*   - added scrollToColumn(field)\n*   - textSearch: 'begins' (default), 'contains', 'is', ...\n*   - added refreshBody\n*   - added response.total = -1 (or not present) to indicate that number of records is unknown\n*   - message(.., callBack) - added callBack\n*   - grid.msgEmpty\n*   - field.render(..., data) -- added last argument which is what grid thinks should be there\n*   - field.render can return { html, class, style } as an object\n*   - onSearchOpen (onSearch will have mutli and reset flags)\n*   - added httpHeaders\n*   - col.editable can be a function which will be called with the same args as col.render()\n*   - col.clipboardCopy - display icon to copy to clipboard\n*   - clipboardCopy - new function on grid level\n*   - getCellEditable(index, col_ind) -- return an 'editable' descriptor if cell is really editable\n*   - added stateId\n*   - rec.w2ui.class (and rec.w2ui.class { fname: '...' })\n*   - columnTooltip\n*   - expendable grids are still working\n*   - added search.type = 'color'\n*   - added getFirst\n*   - added stateColProps\n*   - added stateColDefaults\n*   - deprecated search.caption -> search.label\n*   - deprecated column.caption -> column.text\n*   - deprecated columnGroup.caption -> columnGroup.text\n*   - moved a lot of properties into prototype\n*   - showExtraOnSearch\n*   - added sortMap, searchMap\n*   - added column.hideable\n*   - added updateColumn\n*   - column.info {\n        icon    : string|function|object,\n        style   : string|function|object,\n        render  : function,\n        fields  : array|object,\n        showOn  : 'mouseover|mouseenter|...',\n        hideOn  : 'mouseout|mouseleave|...',\n        options : {} - will be passed to w2tag (for example options.potions = 'top')\n    }\n*   - added msgDeleteBtn\n*   - grid.toolbar.item batch\n*   - order.column\n*   - fixed select/unselect, not it can take array of ids\n*   - menuClick - changed parameters\n*   - column.text can be a function\n*   - columnGroup.text can be a function\n*\n************************************************************************/\n\n(function ($) {\n  var w2grid = function (options) {\n\n    // public properties\n    this.name = null;\n    this.box = null;     // HTML element that hold this element\n    this.columns = [];       // { field, text, size, attr, render, hidden, gridMinWidth, editable }\n    this.columnGroups = [];       // { span: int, text: 'string', master: true/false }\n    this.records = [];       // { recid: int(requied), field1: 'value1', ... fieldN: 'valueN', style: 'string',  changes: object }\n    this.summary = [];       // arry of summary records, same structure as records array\n    this.searches = [];       // { type, label, field, inTag, outTag, hidden }\n    this.sortMap = {};       // remap sort Fields\n    this.toolbar = {};       // if not empty object; then it is toolbar object\n    this.ranges = [];\n    this.menu = [];\n    this.searchData = [];\n    this.sortData = [];\n    this.total = 0;        // server total\n    this.recid = null;     // field from records to be used as recid\n\n    // internal\n    this.last = {\n      field: '',\n      label: '',\n      logic: 'OR',\n      search: '',\n      searchIds: [],\n      selection: {\n        indexes: [],\n        columns: {}\n      },\n      multi: false,\n      scrollTop: 0,\n      scrollLeft: 0,\n      colStart: 0,    // for column virtual scrolling\n      colEnd: 0,\n      sortData: null,\n      sortCount: 0,\n      xhr: null,\n      loaded: false,\n      range_start: null,\n      range_end: null,\n      sel_ind: null,\n      sel_col: null,\n      sel_type: null,\n      edit_col: null,\n      isSafari: (/^((?!chrome|android).)*safari/i).test(navigator.userAgent)\n    }\n    $.extend(true, this, w2obj.grid);\n    this.show = $.extend(true, {}, w2grid.prototype.show);\n    this.postData = $.extend(true, {}, w2grid.prototype.postData);\n    this.routeData = $.extend(true, {}, w2grid.prototype.routeData);\n    this.httpHeaders = $.extend(true, {}, w2grid.prototype.httpHeaders);\n    this.buttons = $.extend(true, {}, w2grid.prototype.buttons);\n    this.operators = $.extend(true, {}, w2grid.prototype.operators);\n    this.operatorsMap = $.extend(true, {}, w2grid.prototype.operatorsMap);\n    this.stateColProps = $.extend(true, {}, w2grid.prototype.stateColProps);\n    this.stateColDefaults = $.extend(true, {}, w2grid.prototype.stateColDefaults);\n\n    $.extend(true, this, options);\n  }\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2grid = function (method) {\n    if ($.isPlainObject(method)) {\n      // check name parameter\n      if (!w2utils.checkName(method, 'w2grid')) return;\n      // remember items\n      var columns = method.columns;\n      var columnGroups = method.columnGroups;\n      var records = method.records;\n      var searches = method.searches;\n      var searchData = method.searchData;\n      var sortData = method.sortData;\n      // extend items\n      var object = new w2grid(method);\n      $.extend(object, { records: [], columns: [], searches: [], sortData: [], searchData: [], handlers: [] });\n\n      // reassign variables\n      var p;\n      if (columns) for (p = 0; p < columns.length; p++)      object.columns[p] = $.extend(true, {}, columns[p]);\n      if (columnGroups) for (p = 0; p < columnGroups.length; p++) object.columnGroups[p] = $.extend(true, {}, columnGroups[p]);\n      if (searches) for (p = 0; p < searches.length; p++)     object.searches[p] = $.extend(true, {}, searches[p]);\n      if (searchData) for (p = 0; p < searchData.length; p++)   object.searchData[p] = $.extend(true, {}, searchData[p]);\n      if (sortData) for (p = 0; p < sortData.length; p++)     object.sortData[p] = $.extend(true, {}, sortData[p]);\n\n      // check if there are records without recid\n      if (records) for (var r = 0; r < records.length; r++) {\n        if (records[r][object.recid] != null) {\n          records[r].recid = records[r][object.recid];\n        }\n        if (records[r].recid == null) {\n          console.log('ERROR: Cannot add records without recid. (obj: ' + object.name + ')');\n          return;\n        }\n        object.records[r] = $.extend(true, {}, records[r]);\n      }\n      // add searches\n      for (var i = 0; i < object.columns.length; i++) {\n        var col = object.columns[i];\n        var search = col.searchable;\n        if (search == null || search === false || object.getSearch(col.field) != null) continue;\n        if ($.isPlainObject(search)) {\n          object.addSearch($.extend({ field: col.field, label: col.text, type: 'text' }, search));\n        } else {\n          var stype = col.searchable, attr = '';\n          if (col.searchable === true) { stype = 'text'; attr = 'size=\"20\"'; }\n          object.addSearch({ field: col.field, label: col.text, type: stype, attr: attr });\n        }\n      }\n      // register new object\n      w2ui[object.name] = object;\n      // init toolbar\n      object.initToolbar();\n      object.updateToolbar();\n      // render if necessary\n      if ($(this).length !== 0) {\n        object.render($(this)[0]);\n      }\n      return object;\n\n    } else {\n      var obj = w2ui[$(this).attr('name')];\n      if (!obj) return null;\n      if (arguments.length > 0) {\n        if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n        return this;\n      } else {\n        return obj;\n      }\n    }\n  }\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2grid.prototype = {\n    header: '',\n    url: '',\n    limit: 100,\n    offset: 0,        // how many records to skip (for infinite scroll) when pulling from server\n    postData: {},\n    routeData: {},\n    httpHeaders: {},\n    show: {\n      header: false,\n      toolbar: false,\n      footer: false,\n      columnHeaders: true,\n      lineNumbers: false,\n      orderColumn: false,\n      expandColumn: false,\n      selectColumn: false,\n      emptyRecords: true,\n      toolbarReload: true,\n      toolbarColumns: true,\n      toolbarSearch: true,\n      toolbarInput: true,\n      toolbarAdd: false,\n      toolbarEdit: false,\n      toolbarDelete: false,\n      toolbarSave: false,\n      searchAll: true,\n      searchHiddenMsg: false,\n      statusRange: true,\n      statusBuffered: false,\n      statusRecordID: true,\n      statusSelection: true,\n      statusResponse: true,\n      statusSort: false,\n      statusSearch: false,\n      recordTitles: true,\n      selectionBorder: true,\n      skipRecords: true,\n      saveRestoreState: true\n    },\n    stateId: null,       // Custom state name for stateSave, stateRestore and stateReset\n    hasFocus: false,\n    autoLoad: true,       // for infinite scroll\n    fixedBody: true,       // if false; then grid grows with data\n    recordHeight: 24,         // should be in prototype\n    lineNumberWidth: null,\n    keyboard: true,\n    selectType: 'row',      // can be row|cell\n    multiSearch: true,\n    multiSelect: true,\n    multiSort: true,\n    reorderColumns: false,\n    reorderRows: false,\n    showExtraOnSearch: 0,          // show extra records before and after on search\n    markSearch: true,\n    columnTooltip: 'top|bottom',   // can be normal, top, bottom, left, right\n    disableCVS: false,      // disable Column Virtual Scroll\n    textSearch: 'begins',   // default search type for text\n    nestedFields: true,       // use field name containing dots as separator to look into object\n    vs_start: 150,\n    vs_extra: 15,\n    style: '',\n    method: null,       // if defined, then overwrited ajax method\n    dataType: null,       // if defined, then overwrited w2utils.settings.dataType\n    parser: null,\n\n    // these column properties will be saved in stateSave()\n    stateColProps: {\n      text: false,\n      field: true,\n      size: true,\n      min: false,\n      max: false,\n      gridMinWidth: false,\n      sizeCorrected: false,\n      sizeCalculated: true,\n      sizeOriginal: true,\n      sizeType: true,\n      hidden: true,\n      sortable: false,\n      searchable: false,\n      clipboardCopy: false,\n      resizable: false,\n      hideable: false,\n      attr: false,\n      style: false,\n      render: false,\n      title: false,\n      editable: false,\n      frozen: true,\n      info: false,\n    },\n\n    // these are the stateSave() fallback values if the property to save is not a property of the column object\n    stateColDefaults: {\n      text: '',     // column text\n      field: '',     // field name to map column to a record\n      size: null,   // size of column in px or %\n      min: 20,     // minimum width of column in px\n      max: null,   // maximum width of column in px\n      gridMinWidth: null,   // minimum width of the grid when column is visible\n      sizeCorrected: null,   // read only, corrected size (see explanation below)\n      sizeCalculated: null,   // read only, size in px (see explanation below)\n      sizeOriginal: null,\n      sizeType: null,\n      hidden: false,  // indicates if column is hidden\n      sortable: false,  // indicates if column is sortable\n      searchable: false,  // indicates if column is searchable, bool/string: int,float,date,...\n      clipboardCopy: false,\n      resizable: true,   // indicates if column is resizable\n      hideable: true,   // indicates if column can be hidden\n      attr: '',     // string that will be inside the <td ... attr> tag\n      style: '',     // additional style for the td tag\n      render: null,   // string or render function\n      title: null,   // string or function for the title property for the column cells\n      editable: {},     // editable object if column fields are editable\n      frozen: false,  // indicates if the column is fixed to the left\n      info: null    // info bubble, can be bool/object\n    },\n\n    msgDelete: 'Are you sure you want to delete NN records?',\n    msgDeleteBtn: 'Delete',\n    msgNotJSON: 'Returned data is not in valid JSON format.',\n    msgAJAXerror: 'AJAX error. See console for more details.',\n    msgRefresh: 'Refreshing...',\n    msgNeedReload: 'Your remote data source record count has changed, reloading from the first record.',\n    msgEmpty: '', // if not blank, then it is message when server returns no records\n\n    buttons: {\n      'reload': { type: 'button', id: 'w2ui-reload', icon: 'w2ui-icon-reload', tooltip: 'Reload data in the list' },\n      'columns': { type: 'drop', id: 'w2ui-column-on-off', icon: 'w2ui-icon-columns', tooltip: 'Show/hide columns', arrow: false, html: '' },\n      'search': {\n        type: 'html', id: 'w2ui-search',\n        html: '<div class=\"w2ui-icon icon-search-down w2ui-search-down\" ' +\n          'onclick=\"var grid = w2ui[jQuery(this).parents(\\'div.w2ui-grid\\').attr(\\'name\\')]; grid.searchShowFields()\"></div>'\n      },\n      'search-go': { type: 'drop', id: 'w2ui-search-advanced', icon: 'w2ui-icon-search', text: 'Search', tooltip: 'Open Search Fields' },\n      'add': { type: 'button', id: 'w2ui-add', text: 'Add New', tooltip: 'Add new record', icon: 'w2ui-icon-plus' },\n      'edit': { type: 'button', id: 'w2ui-edit', text: 'Edit', tooltip: 'Edit selected record', icon: 'w2ui-icon-pencil', disabled: true },\n      'delete': { type: 'button', id: 'w2ui-delete', text: 'Delete', tooltip: 'Delete selected records', icon: 'w2ui-icon-cross', disabled: true },\n      'save': { type: 'button', id: 'w2ui-save', text: 'Save', tooltip: 'Save changed records', icon: 'w2ui-icon-check' }\n    },\n\n    operators: { // for search fields\n      \"text\": ['is', 'begins', 'contains', 'ends'],\n      \"number\": ['=', 'between', '>', '<', '>=', '<='],\n      \"date\": ['is', 'between', { oper: 'less', text: 'before' }, { oper: 'more', text: 'after' }],\n      \"list\": ['is'],\n      \"hex\": ['is', 'between'],\n      \"color\": ['is', 'begins', 'contains', 'ends'],\n      \"enum\": ['in', 'not in']\n      // -- all possible\n      // \"text\"    : ['is', 'begins', 'contains', 'ends'],\n      // \"number\"  : ['is', 'between', 'less:less than', 'more:more than', 'null:is null', 'not null:is not null'],\n      // \"list\"    : ['is', 'null:is null', 'not null:is not null'],\n      // \"enum\"    : ['in', 'not in', 'null:is null', 'not null:is not null']\n    },\n\n    operatorsMap: {\n      \"text\": \"text\",\n      \"int\": \"number\",\n      \"float\": \"number\",\n      \"money\": \"number\",\n      \"currency\": \"number\",\n      \"percent\": \"number\",\n      \"hex\": \"hex\",\n      \"alphanumeric\": \"text\",\n      \"color\": \"color\",\n      \"date\": \"date\",\n      \"time\": \"date\",\n      \"datetime\": \"date\",\n      \"list\": \"list\",\n      \"combo\": \"text\",\n      \"enum\": \"enum\",\n      \"file\": \"enum\",\n      \"select\": \"list\",\n      \"radio\": \"list\",\n      \"checkbox\": \"list\",\n      \"toggle\": \"list\"\n    },\n\n    // events\n    onAdd: null,\n    onEdit: null,\n    onRequest: null,        // called on any server event\n    onLoad: null,\n    onDelete: null,\n    onSave: null,\n    onSelect: null,\n    onUnselect: null,\n    onClick: null,\n    onDblClick: null,\n    onContextMenu: null,\n    onMenuClick: null,        // when context menu item selected\n    onColumnClick: null,\n    onColumnDblClick: null,\n    onColumnResize: null,\n    onColumnAutoResize: null,\n    onSort: null,\n    onSearch: null,\n    onSearchOpen: null,\n    onChange: null,        // called when editable record is changed\n    onRestore: null,        // called when editable record is restored\n    onExpand: null,\n    onCollapse: null,\n    onError: null,\n    onKeydown: null,\n    onToolbar: null,        // all events from toolbar\n    onColumnOnOff: null,\n    onCopy: null,\n    onPaste: null,\n    onSelectionExtend: null,\n    onEditField: null,\n    onRender: null,\n    onRefresh: null,\n    onReload: null,\n    onResize: null,\n    onDestroy: null,\n    onStateSave: null,\n    onStateRestore: null,\n    onFocus: null,\n    onBlur: null,\n    onReorderRow: null,\n\n    add: function (record, first) {\n      if (!$.isArray(record)) record = [record];\n      var added = 0;\n      for (var i = 0; i < record.length; i++) {\n        var rec = record[i];\n        if (rec[this.recid] != null) {\n          rec.recid = rec[this.recid];\n        }\n        if (rec.recid == null) {\n          console.log('ERROR: Cannot add record without recid. (obj: ' + this.name + ')');\n          continue;\n        }\n        if (rec.w2ui && rec.w2ui.summary === true) {\n          if (first) this.summary.unshift(rec); else this.summary.push(rec);\n        } else {\n          if (first) this.records.unshift(rec); else this.records.push(rec);\n        }\n        added++;\n      }\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (!url) {\n        this.total = this.records.length;\n        this.localSort(false, true);\n        this.localSearch();\n        // do not call this.refresh(), this is unnecessary, heavy, and messes with the toolbar.\n        this.refreshBody();\n        this.resizeRecords();\n        return added;\n      }\n      this.refresh(); // ??  should it be reload?\n      return added;\n    },\n\n    find: function (obj, returnIndex) {\n      if (obj == null) obj = {};\n      var recs = [];\n      var hasDots = false;\n      // check if property is nested - needed for speed\n      for (var o in obj) if (String(o).indexOf('.') != -1) hasDots = true;\n      // look for an item\n      for (var i = 0; i < this.records.length; i++) {\n        var match = true;\n        for (var o in obj) {\n          var val = this.records[i][o];\n          if (hasDots && String(o).indexOf('.') != -1) val = this.parseField(this.records[i], o);\n          if (obj[o] == 'not-null') {\n            if (val == null || val === '') match = false;\n          } else {\n            if (obj[o] != val) match = false;\n          }\n        }\n        if (match && returnIndex !== true) recs.push(this.records[i].recid);\n        if (match && returnIndex === true) recs.push(i);\n      }\n      return recs;\n    },\n\n    set: function (recid, record, noRefresh) { // does not delete existing, but overrides on top of it\n      if ((typeof recid == 'object') && (recid !== null)) {\n        noRefresh = record;\n        record = recid;\n        recid = null;\n      }\n      // update all records\n      if (recid == null) {\n        for (var i = 0; i < this.records.length; i++) {\n          $.extend(true, this.records[i], record); // recid is the whole record\n        }\n        if (noRefresh !== true) this.refresh();\n      } else { // find record to update\n        var ind = this.get(recid, true);\n        if (ind == null) return false;\n        var isSummary = (this.records[ind] && this.records[ind].recid == recid ? false : true);\n        if (isSummary) {\n          $.extend(true, this.summary[ind], record);\n        } else {\n          $.extend(true, this.records[ind], record);\n        }\n        if (noRefresh !== true) this.refreshRow(recid, ind); // refresh only that record\n      }\n      return true;\n    },\n\n    get: function (recid, returnIndex) {\n      // search records\n      if ($.isArray(recid)) {\n        var recs = [];\n        for (var i = 0; i < recid.length; i++) {\n          var v = this.get(recid[i], returnIndex);\n          if (v !== null)\n            recs.push(v);\n        }\n        return recs;\n      } else {\n        // get() must be fast, implements a cache to bypass loop over all records\n        // most of the time.\n        var idCache = this.last.idCache;\n        if (!idCache) {\n          this.last.idCache = idCache = {};\n        }\n        var i = idCache[recid];\n        if (typeof (i) === \"number\") {\n          if (i >= 0 && i < this.records.length && this.records[i].recid == recid) {\n            if (returnIndex === true) return i; else return this.records[i];\n          }\n          // summary indexes are stored as negative numbers, try them now.\n          i = ~i;\n          if (i >= 0 && i < this.summary.length && this.summary[i].recid == recid) {\n            if (returnIndex === true) return i; else return this.summary[i];\n          }\n          // wrong index returned, clear cache\n          this.last.idCache = idCache = {};\n        }\n        for (var i = 0; i < this.records.length; i++) {\n          if (this.records[i].recid == recid) {\n            idCache[recid] = i;\n            if (returnIndex === true) return i; else return this.records[i];\n          }\n        }\n        // search summary\n        for (var i = 0; i < this.summary.length; i++) {\n          if (this.summary[i].recid == recid) {\n            idCache[recid] = ~i;\n            if (returnIndex === true) return i; else return this.summary[i];\n          }\n        }\n        return null;\n      }\n    },\n\n    getFirst: function () {\n      if (this.records.length == 0) return null;\n      var recid = this.records[0].recid;\n      var tmp = this.last.searchIds;\n      if (this.searchData.length > 0) {\n        if (Array.isArray(tmp) && tmp.length > 0) {\n          recid = this.records[tmp[0]].recid;\n        } else {\n          recid = null;\n        }\n      }\n      return recid;\n    },\n\n    remove: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.records.length - 1; r >= 0; r--) {\n          if (this.records[r].recid == arguments[a]) { this.records.splice(r, 1); removed++; }\n        }\n        for (var r = this.summary.length - 1; r >= 0; r--) {\n          if (this.summary[r].recid == arguments[a]) { this.summary.splice(r, 1); removed++; }\n        }\n      }\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (!url) {\n        this.localSort(false, true);\n        this.localSearch();\n      }\n      this.refresh();\n      return removed;\n    },\n\n    addColumn: function (before, columns) {\n      var added = 0;\n      if (arguments.length == 1) {\n        columns = before;\n        before = this.columns.length;\n      } else {\n        if (typeof before == 'string') before = this.getColumn(before, true);\n        if (before == null) before = this.columns.length;\n      }\n      if (!$.isArray(columns)) columns = [columns];\n      for (var i = 0; i < columns.length; i++) {\n        this.columns.splice(before, 0, columns[i]);\n        // if column is searchable, add search field\n        if (columns[i].searchable) {\n          var stype = columns[i].searchable;\n          var attr = '';\n          if (columns[i].searchable === true) { stype = 'text'; attr = 'size=\"20\"'; }\n          this.addSearch({ field: columns[i].field, label: columns[i].label, type: stype, attr: attr });\n        }\n        before++;\n        added++;\n      }\n      this.refresh();\n      return added;\n    },\n\n    removeColumn: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.columns.length - 1; r >= 0; r--) {\n          if (this.columns[r].field == arguments[a]) {\n            if (this.columns[r].searchable) this.removeSearch(arguments[a]);\n            this.columns.splice(r, 1);\n            removed++;\n          }\n        }\n      }\n      this.refresh();\n      return removed;\n    },\n\n    getColumn: function (field, returnIndex) {\n      // no arguments - return fields of all columns\n      if (arguments.length === 0) {\n        var ret = [];\n        for (var i = 0; i < this.columns.length; i++) ret.push(this.columns[i].field);\n        return ret;\n      }\n      // find column\n      for (var i = 0; i < this.columns.length; i++) {\n        if (this.columns[i].field == field) {\n          if (returnIndex === true) return i; else return this.columns[i];\n        }\n      }\n      return null;\n    },\n\n    updateColumn: function (names, updates) {\n      var obj = this;\n      var effected = 0;\n      names = (Array.isArray(names) ? names : [names]);\n      names.forEach(function (colName) {\n        obj.columns.forEach(function (col) {\n          if (col.field == colName) {\n            var _updates = $.extend(true, {}, updates);\n            Object.keys(_updates).forEach(function (key) {\n              // if it is a function\n              if (typeof _updates[key] == 'function') {\n                _updates[key] = _updates[key](col);\n              }\n              if (col[key] != _updates[key]) effected++\n            })\n            $.extend(true, col, _updates)\n          }\n        })\n      });\n      if (effected > 0) {\n        this.refresh(); // need full refresh due to colgroups not resiging properly\n      }\n      return effected;\n    },\n\n    toggleColumn: function () {\n      return this.updateColumn(Array.from(arguments), { hidden: function (col) { return !col.hidden } });\n    },\n\n    showColumn: function () {\n      return this.updateColumn(Array.from(arguments), { hidden: false });\n    },\n\n    hideColumn: function () {\n      return this.updateColumn(Array.from(arguments), { hidden: true });\n    },\n\n    addSearch: function (before, search) {\n      var added = 0;\n      if (arguments.length == 1) {\n        search = before;\n        before = this.searches.length;\n      } else {\n        if (typeof before == 'string') before = this.getSearch(before, true);\n        if (before == null) before = this.searches.length;\n      }\n      if (!$.isArray(search)) search = [search];\n      for (var i = 0; i < search.length; i++) {\n        this.searches.splice(before, 0, search[i]);\n        before++;\n        added++;\n      }\n      this.searchClose();\n      return added;\n    },\n\n    removeSearch: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.searches.length - 1; r >= 0; r--) {\n          if (this.searches[r].field == arguments[a]) { this.searches.splice(r, 1); removed++; }\n        }\n      }\n      this.searchClose();\n      return removed;\n    },\n\n    getSearch: function (field, returnIndex) {\n      // no arguments - return fields of all searches\n      if (arguments.length === 0) {\n        var ret = [];\n        for (var i = 0; i < this.searches.length; i++) ret.push(this.searches[i].field);\n        return ret;\n      }\n      // find search\n      for (var i = 0; i < this.searches.length; i++) {\n        if (this.searches[i].field == field) {\n          if (returnIndex === true) return i; else return this.searches[i];\n        }\n      }\n      return null;\n    },\n\n    toggleSearch: function () {\n      var effected = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.searches.length - 1; r >= 0; r--) {\n          if (this.searches[r].field == arguments[a]) {\n            this.searches[r].hidden = !this.searches[r].hidden;\n            effected++;\n          }\n        }\n      }\n      this.searchClose();\n      return effected;\n    },\n\n    showSearch: function () {\n      var shown = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.searches.length - 1; r >= 0; r--) {\n          if (this.searches[r].field == arguments[a] && this.searches[r].hidden !== false) {\n            this.searches[r].hidden = false;\n            shown++;\n          }\n        }\n      }\n      this.searchClose();\n      return shown;\n    },\n\n    hideSearch: function () {\n      var hidden = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        for (var r = this.searches.length - 1; r >= 0; r--) {\n          if (this.searches[r].field == arguments[a] && this.searches[r].hidden !== true) {\n            this.searches[r].hidden = true;\n            hidden++;\n          }\n        }\n      }\n      this.searchClose();\n      return hidden;\n    },\n\n    getSearchData: function (field) {\n      for (var i = 0; i < this.searchData.length; i++) {\n        if (this.searchData[i].field == field) return this.searchData[i];\n      }\n      return null;\n    },\n\n    localSort: function (silent, noResetRefresh) {\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (url) {\n        console.log('ERROR: grid.localSort can only be used on local data source, grid.url should be empty.');\n        return;\n      }\n      if ($.isEmptyObject(this.sortData)) return;\n      var time = (new Date()).getTime();\n      var obj = this;\n      // process date fields\n      obj.selectionSave();\n      obj.prepareData();\n      if (!noResetRefresh) {\n        obj.reset();\n      }\n      // process sortData\n      for (var i = 0; i < this.sortData.length; i++) {\n        var column = this.getColumn(this.sortData[i].field);\n        if (!column) return;\n        if (typeof column.render == 'string') {\n          if (['date', 'age'].indexOf(column.render.split(':')[0]) != -1) {\n            this.sortData[i]['field_'] = column.field + '_';\n          }\n          if (['time'].indexOf(column.render.split(':')[0]) != -1) {\n            this.sortData[i]['field_'] = column.field + '_';\n          }\n        }\n      }\n\n      // prepare paths and process sort\n      preparePaths();\n      this.records.sort(function (a, b) {\n        return compareRecordPaths(a, b);\n      });\n      cleanupPaths();\n\n      obj.selectionRestore(noResetRefresh);\n      time = (new Date()).getTime() - time;\n      if (silent !== true && obj.show.statusSort) {\n        setTimeout(function () {\n          obj.status(w2utils.lang('Sorting took') + ' ' + time / 1000 + ' ' + w2utils.lang('sec'));\n        }, 10);\n      }\n      return time;\n\n      // grab paths before sorting for efficiency and because calling obj.get()\n      // while sorting 'obj.records' is unsafe, at least on webkit\n      function preparePaths() {\n        for (var i = 0; i < obj.records.length; i++) {\n          var rec = obj.records[i];\n          if (rec.w2ui && rec.w2ui.parent_recid != null) {\n            rec.w2ui._path = getRecordPath(rec);\n          }\n        }\n      }\n\n      // cleanup and release memory allocated by preparePaths()\n      function cleanupPaths() {\n        for (var i = 0; i < obj.records.length; i++) {\n          var rec = obj.records[i];\n          if (rec.w2ui && rec.w2ui.parent_recid != null) {\n            rec.w2ui._path = null;\n          }\n        }\n      }\n\n      // compare two paths, from root of tree to given records\n      function compareRecordPaths(a, b) {\n        if ((!a.w2ui || a.w2ui.parent_recid == null) && (!b.w2ui || b.w2ui.parent_recid == null)) {\n          return compareRecords(a, b);    // no tree, fast path\n        }\n        var pa = getRecordPath(a);\n        var pb = getRecordPath(b);\n        for (var i = 0; i < Math.min(pa.length, pb.length); i++) {\n          var diff = compareRecords(pa[i], pb[i]);\n          if (diff !== 0) return diff;     // different subpath\n        }\n        if (pa.length > pb.length) return 1;\n        if (pa.length < pb.length) return -1;\n        console.log('ERROR: two paths should not be equal.');\n        return 0;\n      }\n\n      // return an array of all records from root to and including 'rec'\n      function getRecordPath(rec) {\n        if (!rec.w2ui || rec.w2ui.parent_recid == null) return [rec];\n        if (rec.w2ui._path)\n          return rec.w2ui._path;\n        // during actual sort, we should never reach this point\n        var subrec = obj.get(rec.w2ui.parent_recid);\n        if (!subrec) {\n          console.log('ERROR: no parent record: ' + rec.w2ui.parent_recid);\n          return [rec];\n        }\n        return (getRecordPath(subrec).concat(rec));\n      }\n\n      // compare two records according to sortData and finally recid\n      function compareRecords(a, b) {\n        if (a === b) return 0; // optimize, same object\n        for (var i = 0; i < obj.sortData.length; i++) {\n          var fld = obj.sortData[i].field;\n          var sortFld = (obj.sortData[i].field_) ? obj.sortData[i].field_ : fld;\n          var aa = a[sortFld];\n          var bb = b[sortFld];\n          if (String(fld).indexOf('.') != -1) {\n            aa = obj.parseField(a, sortFld);\n            bb = obj.parseField(b, sortFld);\n          }\n          var col = obj.getColumn(fld);\n          if (col && col.editable != null) { // for drop editable fields and drop downs\n            if ($.isPlainObject(aa) && aa.text) aa = aa.text;\n            if ($.isPlainObject(bb) && bb.text) bb = bb.text;\n          }\n          var ret = compareCells(aa, bb, i, obj.sortData[i].direction, col.sortMode || 'default');\n          if (ret !== 0) return ret;\n        }\n        // break tie for similar records,\n        // required to have consistent ordering for tree paths\n        var ret = compareCells(a.recid, b.recid, -1, 'asc');\n        return ret;\n      }\n\n      // compare two values, aa and bb, producing consistent ordering\n      function compareCells(aa, bb, i, direction, sortMode) {\n        // if both objects are strictly equal, we're done\n        if (aa === bb)\n          return 0;\n        // all nulls, empty and undefined on bottom\n        if ((aa == null || aa === \"\") && (bb != null && bb !== \"\"))\n          return 1;\n        if ((aa != null && aa !== \"\") && (bb == null || bb === \"\"))\n          return -1;\n        var dir = (direction.toLowerCase() === 'asc') ? 1 : -1;\n        // for different kind of objects, sort by object type\n        if (typeof aa != typeof bb)\n          return (typeof aa > typeof bb) ? dir : -dir;\n        // for different kind of classes, sort by classes\n        if (aa.constructor.name != bb.constructor.name)\n          return (aa.constructor.name > bb.constructor.name) ? dir : -dir;\n        // if we're dealing with non-null objects, call valueOf().\n        // this mean that Date() or custom objects will compare properly.\n        if (aa && typeof aa == 'object')\n          aa = aa.valueOf();\n        if (bb && typeof bb == 'object')\n          bb = bb.valueOf();\n        // if we're still dealing with non-null objects that have\n        // a useful Object => String conversion, convert to string.\n        var defaultToString = {}.toString;\n        if (aa && typeof aa == 'object' && aa.toString != defaultToString)\n          aa = String(aa);\n        if (bb && typeof bb == 'object' && bb.toString != defaultToString)\n          bb = String(bb);\n        // do case-insensitive string comparison\n        if (typeof aa == 'string')\n          aa = $.trim(aa.toLowerCase());\n        if (typeof bb == 'string')\n          bb = $.trim(bb.toLowerCase());\n\n        switch (sortMode) {\n          case 'natural':\n            sortMode = w2utils.naturalCompare;\n            break;\n        }\n\n        if (typeof sortMode == 'function') {\n          return sortMode(aa, bb) * dir;\n        }\n\n        // compare both objects\n        if (aa > bb)\n          return dir;\n        if (aa < bb)\n          return -dir;\n        return 0;\n      }\n    },\n\n    localSearch: function (silent) {\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (url) {\n        console.log('ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.');\n        return;\n      }\n      var time = (new Date()).getTime();\n      var obj = this;\n      var defaultToString = {}.toString;\n      var duplicateMap = {};\n      this.total = this.records.length;\n      // mark all records as shown\n      this.last.searchIds = [];\n      // prepare date/time fields\n      this.prepareData();\n      // hide records that did not match\n      if (this.searchData.length > 0 && !url) {\n        this.total = 0;\n        for (var i = 0; i < this.records.length; i++) {\n          var rec = this.records[i];\n          var match = searchRecord(rec);\n          if (match) {\n            if (rec && rec.w2ui) addParent(rec.w2ui.parent_recid);\n            if (this.showExtraOnSearch > 0) {\n              var before = this.showExtraOnSearch;\n              var after = this.showExtraOnSearch;\n              if (i < before) before = i;\n              if (i + after > this.records.length) after = this.records.length - i;\n              if (before > 0) {\n                for (var j = i - before; j < i; j++) {\n                  if (this.last.searchIds.indexOf(j) < 0)\n                    this.last.searchIds.push(j);\n                }\n              }\n              if (this.last.searchIds.indexOf(i) < 0) this.last.searchIds.push(i);\n              if (after > 0) {\n                for (var j = (i + 1); j <= (i + after); j++) {\n                  if (this.last.searchIds.indexOf(j) < 0) this.last.searchIds.push(j);\n                }\n              }\n            } else {\n              this.last.searchIds.push(i);\n            }\n          }\n        }\n        this.total = this.last.searchIds.length;\n      }\n      time = (new Date()).getTime() - time;\n      if (silent !== true && obj.show.statusSearch) {\n        setTimeout(function () {\n          obj.status(w2utils.lang('Search took') + ' ' + time / 1000 + ' ' + w2utils.lang('sec'));\n        }, 10);\n      }\n      return time;\n\n      // check if a record (or one of its closed children) matches the search data\n      function searchRecord(rec) {\n        var fl = 0;\n        var orEqual = false;\n        for (var j = 0; j < obj.searchData.length; j++) {\n          var sdata = obj.searchData[j];\n          var search = obj.getSearch(sdata.field);\n          if (sdata == null) continue;\n          if (search == null) search = { field: sdata.field, type: sdata.type };\n          var val1b = obj.parseField(rec, search.field);\n          var val1 = (val1b !== null && val1b !== undefined &&\n            (typeof val1b != \"object\" || val1b.toString != defaultToString)) ?\n            String(val1b).toLowerCase() : \"\";  // do not match a bogus string\n          if (sdata.value != null) {\n            if (!$.isArray(sdata.value)) {\n              var val2 = String(sdata.value).toLowerCase();\n            } else {\n              var val2 = sdata.value[0];\n              var val3 = sdata.value[1];\n            }\n          }\n          switch (sdata.operator) {\n            case '=':\n            case 'is':\n              if (obj.parseField(rec, search.field) == sdata.value) fl++; // do not hide record\n              else if (search.type == 'date') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatDate(tmp, 'yyyy-mm-dd');\n                var val2 = w2utils.formatDate(w2utils.isDate(val2, w2utils.settings.dateFormat, true), 'yyyy-mm-dd');\n                if (val1 == val2) fl++;\n              }\n              else if (search.type == 'time') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatTime(tmp, 'hh24:mi');\n                var val2 = w2utils.formatTime(val2, 'hh24:mi');\n                if (val1 == val2) fl++;\n              }\n              else if (search.type == 'datetime') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatDateTime(tmp, 'yyyy-mm-dd|hh24:mm:ss');\n                var val2 = w2utils.formatDateTime(w2utils.isDateTime(val2, w2utils.settings.datetimeFormat, true), 'yyyy-mm-dd|hh24:mm:ss');\n                if (val1 == val2) fl++;\n              }\n              break;\n            case 'between':\n              if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n                if (parseFloat(obj.parseField(rec, search.field)) >= parseFloat(val2) && parseFloat(obj.parseField(rec, search.field)) <= parseFloat(val3)) fl++;\n              }\n              else if (search.type == 'date') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.isDate(tmp, w2utils.settings.dateFormat, true);\n                var val2 = w2utils.isDate(val2, w2utils.settings.dateFormat, true);\n                var val3 = w2utils.isDate(val3, w2utils.settings.dateFormat, true);\n                if (val3 != null) val3 = new Date(val3.getTime() + 86400000); // 1 day\n                if (val1 >= val2 && val1 < val3) fl++;\n              }\n              else if (search.type == 'time') {\n                var val1 = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val2 = w2utils.isTime(val2, true);\n                var val3 = w2utils.isTime(val3, true);\n                val2 = (new Date()).setHours(val2.hours, val2.minutes, val2.seconds ? val2.seconds : 0, 0);\n                val3 = (new Date()).setHours(val3.hours, val3.minutes, val3.seconds ? val3.seconds : 0, 0);\n                if (val1 >= val2 && val1 < val3) fl++;\n              }\n              else if (search.type == 'datetime') {\n                var val1 = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val2 = w2utils.isDateTime(val2, w2utils.settings.datetimeFormat, true);\n                var val3 = w2utils.isDateTime(val3, w2utils.settings.datetimeFormat, true);\n                if (val3) val3 = new Date(val3.getTime() + 86400000); // 1 day\n                if (val1 >= val2 && val1 < val3) fl++;\n              }\n              break;\n            case '<=':\n              orEqual = true\n            case '<':\n            case 'less':\n              if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n                var val1 = parseFloat(obj.parseField(rec, search.field));\n                var val2 = parseFloat(sdata.value);\n                if (val1 < val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'date') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.isDate(tmp, w2utils.settings.dateFormat, true);\n                var val2 = w2utils.isDate(val2, w2utils.settings.dateFormat, true);\n                if (val1 < val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'time') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatTime(tmp, 'hh24:mi');\n                var val2 = w2utils.formatTime(val2, 'hh24:mi');\n                if (val1 < val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'datetime') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatDateTime(tmp, 'yyyy-mm-dd|hh24:mm:ss');\n                var val2 = w2utils.formatDateTime(w2utils.isDateTime(val2, w2utils.settings.datetimeFormat, true), 'yyyy-mm-dd|hh24:mm:ss');\n                if (val1.length == val2.length && (val1 < val2 || (orEqual && val1 === val2))) fl++;\n              }\n              break;\n            case '>=':\n              orEqual = true\n            case '>':\n            case 'more':\n              if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n                var val1 = parseFloat(obj.parseField(rec, search.field));\n                var val2 = parseFloat(sdata.value);\n                if (val1 > val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'date') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.isDate(tmp, w2utils.settings.dateFormat, true);\n                var val2 = w2utils.isDate(val2, w2utils.settings.dateFormat, true);\n                if (val1 > val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'time') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatTime(tmp, 'hh24:mi');\n                var val2 = w2utils.formatTime(val2, 'hh24:mi');\n                if (val1 > val2 || (orEqual && val1 === val2)) fl++;\n              }\n              else if (search.type == 'datetime') {\n                var tmp = (obj.parseField(rec, search.field + '_') instanceof Date ? obj.parseField(rec, search.field + '_') : obj.parseField(rec, search.field));\n                var val1 = w2utils.formatDateTime(tmp, 'yyyy-mm-dd|hh24:mm:ss');\n                var val2 = w2utils.formatDateTime(w2utils.isDateTime(val2, w2utils.settings.datetimeFormat, true), 'yyyy-mm-dd|hh24:mm:ss');\n                if (val1.length == val2.length && (val1 > val2 || (orEqual && val1 === val2))) fl++;\n              }\n              break;\n            case 'in':\n              var tmp = sdata.value;\n              if (sdata.svalue) tmp = sdata.svalue;\n              if ((tmp.indexOf(w2utils.isFloat(val1b) ? parseFloat(val1b) : val1b) !== -1) || tmp.indexOf(val1) !== -1) fl++;\n              break;\n            case 'not in':\n              var tmp = sdata.value;\n              if (sdata.svalue) tmp = sdata.svalue;\n              if (!((tmp.indexOf(w2utils.isFloat(val1b) ? parseFloat(val1b) : val1b) !== -1) || tmp.indexOf(val1) !== -1)) fl++;\n              break;\n            case 'begins':\n            case 'begins with': // need for back compatib.\n              if (val1.indexOf(val2) === 0) fl++; // do not hide record\n              break;\n            case 'contains':\n              if (val1.indexOf(val2) >= 0) fl++; // do not hide record\n              break;\n            case 'null':\n              if (obj.parseField(rec, search.field) == null) fl++; // do not hide record\n              break;\n            case 'not null':\n              if (obj.parseField(rec, search.field) != null) fl++; // do not hide record\n              break;\n            case 'ends':\n            case 'ends with': // need for back compatib.\n              var lastIndex = val1.lastIndexOf(val2);\n              if (lastIndex !== -1 && lastIndex == val1.length - val2.length) fl++; // do not hide record\n              break;\n          }\n        }\n        if ((obj.last.logic == 'OR' && fl !== 0) ||\n          (obj.last.logic == 'AND' && fl == obj.searchData.length))\n          return true;\n        if (rec.w2ui && rec.w2ui.children && rec.w2ui.expanded !== true) {\n          // there are closed children, search them too.\n          for (var r = 0; r < rec.w2ui.children.length; r++) {\n            var subRec = rec.w2ui.children[r];\n            if (searchRecord(subRec))\n              return true;\n          }\n        }\n        return false;\n      }\n\n      // add parents nodes recursively\n      function addParent(recid) {\n        if (recid === undefined)\n          return;\n        if (duplicateMap[recid])\n          return; // already visited\n        duplicateMap[recid] = true;\n        var i = obj.get(recid, true);\n        if (i == null)\n          return;\n        if ($.inArray(i, obj.last.searchIds) != -1)\n          return;\n        var rec = obj.records[i];\n        if (rec && rec.w2ui)\n          addParent(rec.w2ui.parent_recid);\n        obj.last.searchIds.push(i);\n      }\n    },\n\n    getRangeData: function (range, extra) {\n      var rec1 = this.get(range[0].recid, true);\n      var rec2 = this.get(range[1].recid, true);\n      var col1 = range[0].column;\n      var col2 = range[1].column;\n\n      var res = [];\n      if (col1 == col2) { // one row\n        for (var r = rec1; r <= rec2; r++) {\n          var record = this.records[r];\n          var dt = record[this.columns[col1].field] || null;\n          if (extra !== true) {\n            res.push(dt);\n          } else {\n            res.push({ data: dt, column: col1, index: r, record: record });\n          }\n        }\n      } else if (rec1 == rec2) { // one line\n        var record = this.records[rec1];\n        for (var i = col1; i <= col2; i++) {\n          var dt = record[this.columns[i].field] || null;\n          if (extra !== true) {\n            res.push(dt);\n          } else {\n            res.push({ data: dt, column: i, index: rec1, record: record });\n          }\n        }\n      } else {\n        for (var r = rec1; r <= rec2; r++) {\n          var record = this.records[r];\n          res.push([]);\n          for (var i = col1; i <= col2; i++) {\n            var dt = record[this.columns[i].field];\n            if (extra !== true) {\n              res[res.length - 1].push(dt);\n            } else {\n              res[res.length - 1].push({ data: dt, column: i, index: r, record: record });\n            }\n          }\n        }\n      }\n      return res;\n    },\n\n    addRange: function (ranges) {\n      var added = 0;\n      if (this.selectType == 'row') return added;\n      if (!$.isArray(ranges)) ranges = [ranges];\n      // if it is selection\n      for (var i = 0; i < ranges.length; i++) {\n        if (typeof ranges[i] != 'object') ranges[i] = { name: 'selection' };\n        if (ranges[i].name == 'selection') {\n          if (this.show.selectionBorder === false) continue;\n          var sel = this.getSelection();\n          if (sel.length === 0) {\n            this.removeRange('selection');\n            continue;\n          } else {\n            var first = sel[0];\n            var last = sel[sel.length - 1];\n          }\n        } else { // other range\n          var first = ranges[i].range[0];\n          var last = ranges[i].range[1];\n        }\n        if (first) {\n          var rg = {\n            name: ranges[i].name,\n            range: [{ recid: first.recid, column: first.column }, { recid: last.recid, column: last.column }],\n            style: ranges[i].style || ''\n          };\n          // add range\n          var ind = false;\n          for (var j = 0; j < this.ranges.length; j++) if (this.ranges[j].name == ranges[i].name) { ind = j; break; }\n          if (ind !== false) {\n            this.ranges[ind] = rg;\n          } else {\n            this.ranges.push(rg);\n          }\n          added++;\n        }\n      }\n      this.refreshRanges();\n      return added;\n    },\n\n    removeRange: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var name = arguments[a];\n        $('#grid_' + this.name + '_' + name).remove();\n        $('#grid_' + this.name + '_f' + name).remove();\n        for (var r = this.ranges.length - 1; r >= 0; r--) {\n          if (this.ranges[r].name == name) {\n            this.ranges.splice(r, 1);\n            removed++;\n          }\n        }\n      }\n      return removed;\n    },\n\n    refreshRanges: function () {\n      if (this.ranges.length === 0) return;\n      var obj = this;\n      var time = (new Date()).getTime();\n      var rec1 = $('#grid_' + this.name + '_frecords');\n      var rec2 = $('#grid_' + this.name + '_records');\n      for (var i = 0; i < this.ranges.length; i++) {\n        var rg = this.ranges[i];\n        var first = rg.range[0];\n        var last = rg.range[1];\n        if (first.index == null) first.index = this.get(first.recid, true);\n        if (last.index == null) last.index = this.get(last.recid, true);\n        var td1 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(first.recid) + ' td[col=\"' + first.column + '\"]');\n        var td2 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(last.recid) + ' td[col=\"' + last.column + '\"]');\n        var td1f = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(first.recid) + ' td[col=\"' + first.column + '\"]');\n        var td2f = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(last.recid) + ' td[col=\"' + last.column + '\"]');\n        var _lastColumn = last.column;\n        // adjustment due to column virtual scroll\n        if (first.column < this.last.colStart && last.column > this.last.colStart) {\n          td1 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(first.recid) + ' td[col=\"start\"]');\n        }\n        if (first.column < this.last.colEnd && last.column > this.last.colEnd) {\n          _lastColumn = '\"end\"';\n          td2 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(last.recid) + ' td[col=\"end\"]');\n        }\n        // if virtual scrolling kicked in\n        var index_top = parseInt($('#grid_' + this.name + '_rec_top').next().attr('index'));\n        var index_bottom = parseInt($('#grid_' + this.name + '_rec_bottom').prev().attr('index'));\n        var index_ftop = parseInt($('#grid_' + this.name + '_frec_top').next().attr('index'));\n        var index_fbottom = parseInt($('#grid_' + this.name + '_frec_bottom').prev().attr('index'));\n        if (td1.length === 0 && first.index < index_top && last.index > index_top) {\n          td1 = $('#grid_' + this.name + '_rec_top').next().find('td[col=' + first.column + ']');\n        }\n        if (td2.length === 0 && last.index > index_bottom && first.index < index_bottom) {\n          td2 = $('#grid_' + this.name + '_rec_bottom').prev().find('td[col=' + _lastColumn + ']');\n        }\n        if (td1f.length === 0 && first.index < index_ftop && last.index > index_ftop) { // frozen\n          td1f = $('#grid_' + this.name + '_frec_top').next().find('td[col=' + first.column + ']');\n        }\n        if (td2f.length === 0 && last.index > index_fbottom && first.index < index_fbottom) {  // frozen\n          td2f = $('#grid_' + this.name + '_frec_bottom').prev().find('td[col=' + last.column + ']');\n        }\n\n        // do not show selection cell if it is editable\n        var edit = $(this.box).find('#grid_' + this.name + '_editable');\n        var tmp = edit.find('.w2ui-input');\n        var tmp1 = tmp.attr('recid');\n        var tmp2 = tmp.attr('column');\n        if (rg.name == 'selection' && rg.range[0].recid == tmp1 && rg.range[0].column == tmp2) continue;\n\n        // frozen regular columns range\n        var $range = $('#grid_' + this.name + '_f' + rg.name);\n        if (td1f.length > 0 || td2f.length > 0) {\n          if ($range.length === 0) {\n            rec1.append('<div id=\"grid_' + this.name + '_f' + rg.name + '\" class=\"w2ui-selection\" style=\"' + rg.style + '\">' +\n              (rg.name == 'selection' ? '<div id=\"grid_' + this.name + '_resizer\" class=\"w2ui-selection-resizer\"></div>' : '') +\n              '</div>');\n            $range = $('#grid_' + this.name + '_f' + rg.name);\n          } else {\n            $range.attr('style', rg.style);\n            $range.find('.w2ui-selection-resizer').show();\n          }\n          if (td2f.length === 0) {\n            td2f = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(last.recid) + ' td:last-child');\n            if (td2f.length === 0) td2f = $('#grid_' + this.name + '_frec_bottom td:first-child');\n            $range.css('border-right', '0px');\n            $range.find('.w2ui-selection-resizer').hide();\n          }\n          if (first.recid != null && last.recid != null && td1f.length > 0 && td2f.length > 0) {\n            var _left = (td1f.position().left - 0 + rec1.scrollLeft());\n            var _top = (td1f.position().top - 0 + rec1.scrollTop());\n            $range.show().css({\n              left: (_left > 0 ? _left : 0) + 'px',\n              top: (_top > 0 ? _top : 0) + 'px',\n              width: (td2f.position().left - td1f.position().left + td2f.width() + 2) + 'px',\n              height: (td2f.position().top - td1f.position().top + td2f.height() + 1) + 'px'\n            });\n          } else {\n            $range.hide();\n          }\n        } else {\n          $range.hide();\n        }\n        // regular columns range\n        var $range = $('#grid_' + this.name + '_' + rg.name);\n        if (td1.length > 0 || td2.length > 0) {\n          if ($range.length === 0) {\n            rec2.append('<div id=\"grid_' + this.name + '_' + rg.name + '\" class=\"w2ui-selection\" style=\"' + rg.style + '\">' +\n              (rg.name == 'selection' ? '<div id=\"grid_' + this.name + '_resizer\" class=\"w2ui-selection-resizer\"></div>' : '') +\n              '</div>');\n            $range = $('#grid_' + this.name + '_' + rg.name);\n          } else {\n            $range.attr('style', rg.style);\n          }\n          if (td1.length === 0) {\n            td1 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(first.recid) + ' td:first-child');\n            if (td1.length === 0) td1 = $('#grid_' + this.name + '_rec_top td:first-child');\n          }\n          if (td2f.length !== 0) {\n            $range.css('border-left', '0px');\n          }\n          if (first.recid != null && last.recid != null && td1.length > 0 && td2.length > 0) {\n            var _left = (td1.position().left - 0 + rec2.scrollLeft());\n            var _top = (td1.position().top - 0 + rec2.scrollTop());\n            $range.show().css({\n              left: (_left > 0 ? _left : 0) + 'px',\n              top: (_top > 0 ? _top : 0) + 'px',\n              width: (td2.position().left - td1.position().left + td2.width() + 2) + 'px',\n              height: (td2.position().top - td1.position().top + td2.height() + 1) + 'px'\n            });\n          } else {\n            $range.hide();\n          }\n        } else {\n          $range.hide();\n        }\n      }\n\n      // add resizer events\n      $(this.box).find('.w2ui-selection-resizer')\n        .off('mousedown').on('mousedown', mouseStart)\n        .off('dblclick').on('dblclick', function (event) {\n          var edata = obj.trigger({ phase: 'before', type: 'resizerDblClick', target: obj.name, originalEvent: event });\n          if (edata.isCancelled === true) return;\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        });\n      var edata = { phase: 'before', type: 'selectionExtend', target: obj.name, originalRange: null, newRange: null };\n\n      return (new Date()).getTime() - time;\n\n      function mouseStart(event) {\n        var sel = obj.getSelection();\n        obj.last.move = {\n          type: 'expand',\n          x: event.screenX,\n          y: event.screenY,\n          divX: 0,\n          divY: 0,\n          recid: sel[0].recid,\n          column: sel[0].column,\n          originalRange: [{ recid: sel[0].recid, column: sel[0].column }, { recid: sel[sel.length - 1].recid, column: sel[sel.length - 1].column }],\n          newRange: [{ recid: sel[0].recid, column: sel[0].column }, { recid: sel[sel.length - 1].recid, column: sel[sel.length - 1].column }]\n        };\n        $(document)\n          .off('.w2ui-' + obj.name)\n          .on('mousemove.w2ui-' + obj.name, mouseMove)\n          .on('mouseup.w2ui-' + obj.name, mouseStop);\n        // do not blur grid\n        event.preventDefault();\n      }\n\n      function mouseMove(event) {\n        var mv = obj.last.move;\n        if (!mv || mv.type != 'expand') return;\n        mv.divX = (event.screenX - mv.x);\n        mv.divY = (event.screenY - mv.y);\n        // find new cell\n        var recid, column;\n        var tmp = event.originalEvent.target;\n        if (tmp.tagName.toUpperCase() != 'TD') tmp = $(tmp).parents('td')[0];\n        if ($(tmp).attr('col') != null) column = parseInt($(tmp).attr('col'));\n        tmp = $(tmp).parents('tr')[0];\n        recid = $(tmp).attr('recid');\n        // new range\n        if (mv.newRange[1].recid == recid && mv.newRange[1].column == column) return;\n        var prevNewRange = $.extend({}, mv.newRange);\n        mv.newRange = [{ recid: mv.recid, column: mv.column }, { recid: recid, column: column }];\n        // event before\n        edata = obj.trigger($.extend(edata, { originalRange: mv.originalRange, newRange: mv.newRange }));\n        if (edata.isCancelled === true) {\n          mv.newRange = prevNewRange;\n          edata.newRange = prevNewRange;\n          return;\n        } else {\n          // default behavior\n          obj.removeRange('grid-selection-expand');\n          obj.addRange({\n            name: 'grid-selection-expand',\n            range: edata.newRange,\n            style: 'background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);'\n          });\n        }\n      }\n\n      function mouseStop(event) {\n        // default behavior\n        obj.removeRange('grid-selection-expand');\n        delete obj.last.move;\n        $(document).off('.w2ui-' + obj.name);\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    select: function () {\n      if (arguments.length === 0) return 0;\n      var time = (new Date).getTime();\n      var selected = 0;\n      var sel = this.last.selection;\n      if (!this.multiSelect) this.selectNone();\n      // if too manu arguments > 150k, then it errors off\n      var args = Array.prototype.slice.call(arguments)\n      if (Array.isArray(args[0])) args = args[0]\n      // event before\n      var tmp = { phase: 'before', type: 'select', target: this.name };\n      if (args.length == 1) {\n        tmp.multiple = false;\n        if ($.isPlainObject(args[0])) {\n          tmp.recid = args[0].recid;\n          tmp.column = args[0].column;\n        } else {\n          tmp.recid = args[0];\n        }\n      } else {\n        tmp.multiple = true;\n        tmp.recids = args;\n      }\n      var edata = this.trigger(tmp);\n      if (edata.isCancelled === true) return 0;\n\n      // default action\n      if (this.selectType == 'row') {\n        for (var a = 0; a < args.length; a++) {\n          var recid = typeof args[a] == 'object' ? args[a].recid : args[a];\n          var index = this.get(recid, true);\n          if (index == null) continue;\n          var recEl1 = null;\n          var recEl2 = null;\n          if (this.searchData.length !== 0 || (index + 1 >= this.last.range_start && index + 1 <= this.last.range_end)) {\n            recEl1 = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid));\n            recEl2 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid));\n          }\n          if (this.selectType == 'row') {\n            if (sel.indexes.indexOf(index) != -1) continue;\n            sel.indexes.push(index);\n            if (recEl1 && recEl2) {\n              recEl1.addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n              recEl2.addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n              recEl1.find('.w2ui-grid-select-check').prop(\"checked\", true);\n            }\n            selected++;\n          }\n        }\n      } else {\n        // normalize for performance\n        var new_sel = {};\n        for (var a = 0; a < args.length; a++) {\n          var recid = typeof args[a] == 'object' ? args[a].recid : args[a];\n          var column = typeof args[a] == 'object' ? args[a].column : null;\n          new_sel[recid] = new_sel[recid] || [];\n          if ($.isArray(column)) {\n            new_sel[recid] = column;\n          } else if (w2utils.isInt(column)) {\n            new_sel[recid].push(column);\n          } else {\n            for (var i = 0; i < this.columns.length; i++) { if (this.columns[i].hidden) continue; new_sel[recid].push(parseInt(i)); }\n          }\n        }\n        // add all\n        var col_sel = [];\n        for (var recid in new_sel) {\n          var index = this.get(recid, true);\n          if (index == null) continue;\n          var recEl1 = null;\n          var recEl2 = null;\n          if (index + 1 >= this.last.range_start && index + 1 <= this.last.range_end) {\n            recEl1 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid));\n            recEl2 = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid));\n          }\n          var s = sel.columns[index] || [];\n          // default action\n          if (sel.indexes.indexOf(index) == -1) {\n            sel.indexes.push(index);\n          }\n          // anly only those that are new\n          for (var t = 0; t < new_sel[recid].length; t++) {\n            if (s.indexOf(new_sel[recid][t]) == -1) s.push(new_sel[recid][t]);\n          }\n          s.sort(function (a, b) { return a - b; }); // sort function must be for numerical sort\n          for (var t = 0; t < new_sel[recid].length; t++) {\n            var col = new_sel[recid][t];\n            if (col_sel.indexOf(col) == -1) col_sel.push(col);\n            if (recEl1) {\n              recEl1.find('#grid_' + this.name + '_data_' + index + '_' + col).addClass('w2ui-selected');\n              recEl1.find('.w2ui-col-number').addClass('w2ui-row-selected');\n              recEl1.data('selected', 'yes');\n              recEl1.find('.w2ui-grid-select-check').prop(\"checked\", true);\n            }\n            if (recEl2) {\n              recEl2.find('#grid_' + this.name + '_data_' + index + '_' + col).addClass('w2ui-selected');\n              recEl2.find('.w2ui-col-number').addClass('w2ui-row-selected');\n              recEl2.data('selected', 'yes');\n              recEl2.find('.w2ui-grid-select-check').prop(\"checked\", true);\n            }\n            selected++;\n          }\n          // save back to selection object\n          sel.columns[index] = s;\n        }\n        // select columns (need here for speed)\n        for (var c = 0; c < col_sel.length; c++) {\n          $(this.box).find('#grid_' + this.name + '_column_' + col_sel[c] + ' .w2ui-col-header').addClass('w2ui-col-selected');\n        }\n      }\n      // need to sort new selection for speed\n      sel.indexes.sort(function (a, b) { return a - b; });\n      // all selected?\n      var areAllSelected = (this.records.length > 0 && sel.indexes.length == this.records.length),\n        areAllSearchedSelected = (sel.indexes.length > 0 && this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length);\n      if (areAllSelected || areAllSearchedSelected) {\n        $('#grid_' + this.name + '_check_all').prop('checked', true);\n      } else {\n        $('#grid_' + this.name + '_check_all').prop('checked', false);\n      }\n      this.status();\n      this.addRange('selection');\n      this.updateToolbar(sel, areAllSelected);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return selected;\n    },\n\n    unselect: function () {\n      var unselected = 0;\n      var sel = this.last.selection;\n      // if too manu arguments > 150k, then it errors off\n      var args = Array.prototype.slice.call(arguments)\n      if (Array.isArray(args[0])) args = args[0]\n      // event before\n      var tmp = { phase: 'before', type: 'unselect', target: this.name };\n      if (args.length == 1) {\n        tmp.multiple = false;\n        if ($.isPlainObject(args[0])) {\n          tmp.recid = args[0].recid;\n          tmp.column = args[0].column;\n        } else {\n          tmp.recid = args[0];\n        }\n      } else {\n        tmp.multiple = true;\n        tmp.recids = args\n      }\n      var edata = this.trigger(tmp);\n      if (edata.isCancelled === true) return 0;\n\n      for (var a = 0; a < args.length; a++) {\n        var recid = typeof args[a] == 'object' ? args[a].recid : args[a];\n        var record = this.get(recid);\n        if (record == null) continue;\n        var index = this.get(record.recid, true);\n        var recEl1 = $('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid));\n        var recEl2 = $('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid));\n        if (this.selectType == 'row') {\n          if (sel.indexes.indexOf(index) == -1) continue;\n          // default action\n          sel.indexes.splice(sel.indexes.indexOf(index), 1);\n          recEl1.removeClass('w2ui-selected w2ui-inactive').removeData('selected').find('.w2ui-col-number').removeClass('w2ui-row-selected');\n          recEl2.removeClass('w2ui-selected w2ui-inactive').removeData('selected').find('.w2ui-col-number').removeClass('w2ui-row-selected');\n          if (recEl1.length != 0) {\n            recEl1[0].style.cssText = 'height: ' + this.recordHeight + 'px; ' + recEl1.attr('custom_style');\n            recEl2[0].style.cssText = 'height: ' + this.recordHeight + 'px; ' + recEl2.attr('custom_style');\n          }\n          recEl1.find('.w2ui-grid-select-check').prop(\"checked\", false);\n          unselected++;\n        } else {\n          var col = args[a].column;\n          if (!w2utils.isInt(col)) { // unselect all columns\n            var cols = [];\n            for (var i = 0; i < this.columns.length; i++) { if (this.columns[i].hidden) continue; cols.push({ recid: recid, column: i }); }\n            return this.unselect(cols);\n          }\n          var s = sel.columns[index];\n          if (!$.isArray(s) || s.indexOf(col) == -1) continue;\n          // default action\n          s.splice(s.indexOf(col), 1);\n          $('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid)).find(' > td[col=' + col + ']').removeClass('w2ui-selected w2ui-inactive');\n          $('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid)).find(' > td[col=' + col + ']').removeClass('w2ui-selected w2ui-inactive');\n          // check if any row/column still selected\n          var isColSelected = false;\n          var isRowSelected = false;\n          var tmp = this.getSelection();\n          for (var i = 0; i < tmp.length; i++) {\n            if (tmp[i].column == col) isColSelected = true;\n            if (tmp[i].recid == recid) isRowSelected = true;\n          }\n          if (!isColSelected) {\n            $(this.box).find('.w2ui-grid-columns td[col=' + col + '] .w2ui-col-header, .w2ui-grid-fcolumns td[col=' + col + '] .w2ui-col-header').removeClass('w2ui-col-selected');\n          }\n          if (!isRowSelected) {\n            $('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid)).find('.w2ui-col-number').removeClass('w2ui-row-selected');\n          }\n          unselected++;\n          if (s.length === 0) {\n            delete sel.columns[index];\n            sel.indexes.splice(sel.indexes.indexOf(index), 1);\n            recEl1.removeData('selected');\n            recEl1.find('.w2ui-grid-select-check').prop(\"checked\", false);\n            recEl2.removeData('selected');\n          }\n        }\n      }\n      // all selected?\n      var areAllSelected = (this.records.length > 0 && sel.indexes.length == this.records.length),\n        areAllSearchedSelected = (sel.indexes.length > 0 && this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length);\n      if (areAllSelected || areAllSearchedSelected) {\n        $('#grid_' + this.name + '_check_all').prop('checked', true);\n      } else {\n        $('#grid_' + this.name + '_check_all').prop('checked', false);\n      }\n      // show number of selected\n      this.status();\n      this.addRange('selection');\n      this.updateToolbar(sel, areAllSelected);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return unselected;\n    },\n\n    selectAll: function () {\n      var time = (new Date()).getTime();\n      if (this.multiSelect === false) return;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'select', target: this.name, all: true });\n      if (edata.isCancelled === true) return;\n      // default action\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      var sel = this.last.selection;\n      var cols = [];\n      for (var i = 0; i < this.columns.length; i++) cols.push(i);\n      // if local data source and searched\n      sel.indexes = [];\n      if (!url && this.searchData.length !== 0) {\n        // local search applied\n        for (var i = 0; i < this.last.searchIds.length; i++) {\n          sel.indexes.push(this.last.searchIds[i]);\n          if (this.selectType != 'row') sel.columns[this.last.searchIds[i]] = cols.slice(); // .slice makes copy of the array\n        }\n      } else {\n        var buffered = this.records.length;\n        if (this.searchData.length != 0 && !url) buffered = this.last.searchIds.length;\n        for (var i = 0; i < buffered; i++) {\n          sel.indexes.push(i);\n          if (this.selectType != 'row') sel.columns[i] = cols.slice(); // .slice makes copy of the array\n        }\n      }\n      // add selected class\n      if (this.selectType == 'row') {\n        $(this.box).find('.w2ui-grid-records tr').not('.w2ui-empty-record')\n          .addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-frecords tr').not('.w2ui-empty-record')\n          .addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n        $(this.box).find('input.w2ui-grid-select-check').prop('checked', true);\n      } else {\n        $(this.box).find('.w2ui-grid-columns td .w2ui-col-header, .w2ui-grid-fcolumns td .w2ui-col-header').addClass('w2ui-col-selected');\n        $(this.box).find('.w2ui-grid-records tr .w2ui-col-number').addClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-records tr').not('.w2ui-empty-record')\n          .find('.w2ui-grid-data').not('.w2ui-col-select').addClass('w2ui-selected').data('selected', 'yes');\n        $(this.box).find('.w2ui-grid-frecords tr .w2ui-col-number').addClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-frecords tr').not('.w2ui-empty-record')\n          .find('.w2ui-grid-data').not('.w2ui-col-select').addClass('w2ui-selected').data('selected', 'yes');\n        $(this.box).find('input.w2ui-grid-select-check').prop('checked', true);\n      }\n      // enable/disable toolbar buttons\n      var sel = this.getSelection(true);\n      if (sel.length == 1) this.toolbar.enable('w2ui-edit'); else this.toolbar.disable('w2ui-edit');\n      if (sel.length >= 1) this.toolbar.enable('w2ui-delete'); else this.toolbar.disable('w2ui-delete');\n      this.addRange('selection');\n      $('#grid_' + this.name + '_check_all').prop('checked', true);\n      this.status();\n      this.updateToolbar({ indexes: sel }, true);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    selectNone: function () {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'unselect', target: this.name, all: true });\n      if (edata.isCancelled === true) return;\n      // default action\n      var sel = this.last.selection;\n      // remove selected class\n      if (this.selectType == 'row') {\n        $(this.box).find('.w2ui-grid-records tr.w2ui-selected').removeClass('w2ui-selected w2ui-inactive').removeData('selected')\n          .find('.w2ui-col-number').removeClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-frecords tr.w2ui-selected').removeClass('w2ui-selected w2ui-inactive').removeData('selected')\n          .find('.w2ui-col-number').removeClass('w2ui-row-selected');\n        $(this.box).find('input.w2ui-grid-select-check').prop('checked', false);\n      } else {\n        $(this.box).find('.w2ui-grid-columns td .w2ui-col-header, .w2ui-grid-fcolumns td .w2ui-col-header').removeClass('w2ui-col-selected');\n        $(this.box).find('.w2ui-grid-records tr .w2ui-col-number').removeClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-frecords tr .w2ui-col-number').removeClass('w2ui-row-selected');\n        $(this.box).find('.w2ui-grid-data.w2ui-selected').removeClass('w2ui-selected w2ui-inactive').removeData('selected');\n        $(this.box).find('input.w2ui-grid-select-check').prop('checked', false);\n      }\n      sel.indexes = [];\n      sel.columns = {};\n      this.toolbar.disable('w2ui-edit', 'w2ui-delete');\n      this.removeRange('selection');\n      $('#grid_' + this.name + '_check_all').prop('checked', false);\n      this.status();\n      this.updateToolbar(sel, false);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    updateToolbar: function (sel, areAllSelected) {\n      var obj = this\n      var cnt = sel && sel.indexes ? sel.indexes.length : 0\n      this.toolbar.items.forEach(function (item) {\n        _checkItem(item, '')\n        if (Array.isArray(item.items)) {\n          item.items.forEach(function (it) {\n            _checkItem(it, item.id + ':')\n          })\n        }\n      })\n\n      function _checkItem(item, prefix) {\n        if (item.batch === 0) {\n          if (cnt > 0) obj.toolbar.enable(prefix + item.id); else obj.toolbar.disable(prefix + item.id)\n        }\n        if (item.batch != null && !isNaN(item.batch) && item.batch > 0) {\n          if (cnt == item.batch) obj.toolbar.enable(prefix + item.id); else obj.toolbar.disable(prefix + item.id)\n        }\n        if (typeof item.batch == 'function') {\n          item.batch(obj.selectType == 'cell' ? sel : (sel ? sel.indexes : null))\n        }\n      }\n    },\n\n    getSelection: function (returnIndex) {\n      var ret = [];\n      var sel = this.last.selection;\n      if (this.selectType == 'row') {\n        for (var i = 0; i < sel.indexes.length; i++) {\n          if (!this.records[sel.indexes[i]]) continue;\n          if (returnIndex === true) ret.push(sel.indexes[i]); else ret.push(this.records[sel.indexes[i]].recid);\n        }\n        return ret;\n      } else {\n        for (var i = 0; i < sel.indexes.length; i++) {\n          var cols = sel.columns[sel.indexes[i]];\n          if (!this.records[sel.indexes[i]]) continue;\n          for (var j = 0; j < cols.length; j++) {\n            ret.push({ recid: this.records[sel.indexes[i]].recid, index: parseInt(sel.indexes[i]), column: cols[j] });\n          }\n        }\n        return ret;\n      }\n    },\n\n    search: function (field, value) {\n      var obj = this;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      var searchData = [];\n      var last_multi = this.last.multi;\n      var last_logic = this.last.logic;\n      var last_field = this.last.field;\n      var last_search = this.last.search;\n      var hasHiddenSearches = false;\n      // add hidden searches\n      for (var i = 0; i < this.searches.length; i++) {\n        if (!this.searches[i].hidden || this.searches[i].value == null) continue;\n        searchData.push({\n          field: this.searches[i].field,\n          operator: this.searches[i].operator || 'is',\n          type: this.searches[i].type,\n          value: this.searches[i].value || ''\n        });\n        hasHiddenSearches = true;\n      }\n      // 1: search() - advanced search (reads from popup)\n      if (arguments.length === 0) {\n        last_search = '';\n        // advanced search\n        for (var i = 0; i < this.searches.length; i++) {\n          var search = this.searches[i];\n          var operator = $('#grid_' + this.name + '_operator_' + i).val();\n          var field1 = $('#grid_' + this.name + '_field_' + i);\n          var field2 = $('#grid_' + this.name + '_field2_' + i);\n          var value1 = field1.val();\n          var value2 = field2.val();\n          var svalue = null;\n          var text = null;\n\n          if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n            var fld1 = field1.data('w2field');\n            var fld2 = field2.data('w2field');\n            if (fld1) value1 = fld1.clean(value1);\n            if (fld2) value2 = fld2.clean(value2);\n          }\n          if (['list', 'enum'].indexOf(search.type) != -1) {\n            value1 = field1.data('selected') || {};\n            if ($.isArray(value1)) {\n              svalue = [];\n              for (var j = 0; j < value1.length; j++) {\n                svalue.push(w2utils.isFloat(value1[j].id) ? parseFloat(value1[j].id) : String(value1[j].id).toLowerCase());\n                delete value1[j].hidden;\n              }\n              if ($.isEmptyObject(value1)) value1 = '';\n            } else {\n              text = value1.text || '';\n              value1 = value1.id || '';\n            }\n          }\n          if ((value1 !== '' && value1 != null) || (value2 != null && value2 !== '')) {\n            var tmp = {\n              field: search.field,\n              type: search.type,\n              operator: operator\n            };\n            if (operator == 'between') {\n              $.extend(tmp, { value: [value1, value2] });\n            } else if (operator == 'in' && typeof value1 == 'string') {\n              $.extend(tmp, { value: value1.split(',') });\n            } else if (operator == 'not in' && typeof value1 == 'string') {\n              $.extend(tmp, { value: value1.split(',') });\n            } else {\n              $.extend(tmp, { value: value1 });\n            }\n            if (svalue) $.extend(tmp, { svalue: svalue });\n            if (text) $.extend(tmp, { text: text });\n\n            // conver date to unix time\n            try {\n              if (search.type == 'date' && operator == 'between') {\n                tmp.value[0] = value1; // w2utils.isDate(value1, w2utils.settings.dateFormat, true).getTime();\n                tmp.value[1] = value2; // w2utils.isDate(value2, w2utils.settings.dateFormat, true).getTime();\n              }\n              if (search.type == 'date' && operator == 'is') {\n                tmp.value = value1; // w2utils.isDate(value1, w2utils.settings.dateFormat, true).getTime();\n              }\n            } catch (e) {\n\n            }\n            searchData.push(tmp);\n            last_multi = true; // if only hidden searches, then do not set\n          }\n        }\n        last_logic = 'AND';\n      }\n      // 2: search(field, value) - regular search\n      if (typeof field == 'string') {\n        // if only one argument - search all\n        if (arguments.length == 1) {\n          value = field;\n          field = 'all';\n        }\n        last_field = field;\n        last_search = value;\n        last_multi = false;\n        last_logic = (hasHiddenSearches ? 'AND' : 'OR');\n        // loop through all searches and see if it applies\n        if (value != null) {\n          if (field.toLowerCase() == 'all') {\n            // if there are search fields loop thru them\n            if (this.searches.length > 0) {\n              for (var i = 0; i < this.searches.length; i++) {\n                var search = this.searches[i];\n                if (search.type == 'text' || (search.type == 'alphanumeric' && w2utils.isAlphaNumeric(value))\n                  || (search.type == 'int' && w2utils.isInt(value)) || (search.type == 'float' && w2utils.isFloat(value))\n                  || (search.type == 'percent' && w2utils.isFloat(value)) || ((search.type == 'hex' || search.type == 'color') && w2utils.isHex(value))\n                  || (search.type == 'currency' && w2utils.isMoney(value)) || (search.type == 'money' && w2utils.isMoney(value))\n                  || (search.type == 'date' && w2utils.isDate(value)) || (search.type == 'time' && w2utils.isTime(value))\n                  || (search.type == 'datetime' && w2utils.isDateTime(value)) || (search.type == 'datetime' && w2utils.isDate(value))\n                  || (search.type == 'enum' && w2utils.isAlphaNumeric(value)) || (search.type == 'list' && w2utils.isAlphaNumeric(value))\n                ) {\n                  var tmp = {\n                    field: search.field,\n                    type: search.type,\n                    operator: (search.operator != null ? search.operator : (search.type == 'text' ? this.textSearch : 'is')),\n                    value: value\n                  };\n                  if ($.trim(value) != '') searchData.push(tmp);\n                }\n                // range in global search box\n                if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1 && $.trim(String(value)).split('-').length == 2) {\n                  var t = $.trim(String(value)).split('-');\n                  var tmp = {\n                    field: search.field,\n                    type: search.type,\n                    operator: (search.operator != null ? search.operator : 'between'),\n                    value: [t[0], t[1]]\n                  };\n                  searchData.push(tmp);\n                }\n                // lists fiels\n                if (['list', 'enum'].indexOf(search.type) != -1) {\n                  var new_values = [];\n                  if (search.options == null) search.options = {};\n                  if (!Array.isArray(search.options.items)) search.options.items = [];\n                  for (var j = 0; j < search.options.items; j++) {\n                    var tmp = search.options.items[j];\n                    try {\n                      var re = new RegExp(value, 'i');\n                      if (re.test(tmp)) new_values.push(j);\n                      if (tmp.text && re.test(tmp.text)) new_values.push(tmp.id);\n                    } catch (e) { }\n                  }\n                  if (new_values.length > 0) {\n                    var tmp = {\n                      field: search.field,\n                      type: search.type,\n                      operator: (search.operator != null ? search.operator : 'in'),\n                      value: new_values\n                    };\n                    searchData.push(tmp);\n                  }\n                }\n              }\n            } else {\n              // no search fields, loop thru columns\n              for (var i = 0; i < this.columns.length; i++) {\n                var tmp = {\n                  field: this.columns[i].field,\n                  type: 'text',\n                  operator: this.textSearch,\n                  value: value\n                };\n                searchData.push(tmp);\n              }\n            }\n          } else {\n            var el = $('#grid_' + this.name + '_search_all');\n            var search = this.getSearch(field);\n            if (search == null) search = { field: field, type: 'text' };\n            if (search.field == field) this.last.label = search.label;\n            if (value !== '') {\n              var op = this.textSearch;\n              var val = value;\n              if (['date', 'time', 'datetime'].indexOf(search.type) != -1) op = 'is';\n              if (['list', 'enum'].indexOf(search.type) != -1) {\n                op = 'is';\n                var tmp = el.data('selected');\n                if (tmp && !$.isEmptyObject(tmp)) val = tmp.id; else val = '';\n              }\n              if (search.type == 'int' && value !== '') {\n                op = 'is';\n                if (String(value).indexOf('-') != -1) {\n                  var tmp = value.split('-');\n                  if (tmp.length == 2) {\n                    op = 'between';\n                    val = [parseInt(tmp[0]), parseInt(tmp[1])];\n                  }\n                }\n                if (String(value).indexOf(',') != -1) {\n                  var tmp = value.split(',');\n                  op = 'in';\n                  val = [];\n                  for (var i = 0; i < tmp.length; i++) val.push(tmp[i]);\n                }\n              }\n              if (search.operator != null) op = search.operator;\n              var tmp = {\n                field: search.field,\n                type: search.type,\n                operator: op,\n                value: val\n              };\n              searchData.push(tmp);\n            }\n          }\n        }\n      }\n      // 3: search([ { field, value, [operator,] [type] }, { field, value, [operator,] [type] } ], logic) - submit whole structure\n      if ($.isArray(field)) {\n        var logic = 'AND';\n        if (typeof value == 'string') {\n          logic = value.toUpperCase();\n          if (logic != 'OR' && logic != 'AND') logic = 'AND';\n        }\n        last_search = '';\n        last_multi = true;\n        last_logic = logic;\n        for (var i = 0; i < field.length; i++) {\n          var data = field[i];\n          if (typeof data.value == 'number') data.operator = 'is';\n          if (typeof data.value == 'string') data.operator = this.textSearch;\n          if ($.isArray(data.value)) data.operator = 'in'\n          // merge current field and search if any\n          searchData.push(data);\n        }\n      }\n      // event before\n      var edata = this.trigger({\n        phase: 'before', type: 'search', target: this.name, multi: (arguments.length === 0 ? true : false),\n        searchField: (field ? field : 'multi'), searchValue: (field ? value : 'multi'),\n        searchData: searchData, searchLogic: last_logic\n      });\n      if (edata.isCancelled === true) return;\n      // default action\n      this.searchData = edata.searchData;\n      this.last.field = last_field;\n      this.last.search = last_search;\n      this.last.multi = last_multi;\n      this.last.logic = edata.searchLogic;\n      this.last.scrollTop = 0;\n      this.last.scrollLeft = 0;\n      this.last.selection.indexes = [];\n      this.last.selection.columns = {};\n      // -- clear all search field\n      this.searchClose();\n      // apply search\n      if (url) {\n        this.last.xhr_offset = 0;\n        this.reload();\n      } else {\n        // local search\n        this.localSearch();\n        this.refresh();\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    searchOpen: function () {\n      if (!this.box) return;\n      if (this.searches.length === 0) return;\n      var obj = this;\n      var it = obj.toolbar.get('w2ui-search-advanced');\n      var btn = '#tb_' + obj.toolbar.name + '_item_' + w2utils.escapeId(it.id) + ' table.w2ui-button';\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'searchOpen', target: this.name });\n      if (edata.isCancelled === true) {\n        setTimeout(function () { obj.toolbar.uncheck('w2ui-search-advanced'); }, 1);\n        return;\n      }\n      // show search\n      $('#tb_' + this.name + '_toolbar_item_w2ui-search-advanced').w2overlay({\n        html: this.getSearchesHTML(),\n        name: this.name + '-searchOverlay',\n        left: -10,\n        'class': 'w2ui-grid-searches',\n        onShow: function () {\n          obj.initSearches();\n          $('#w2ui-overlay-' + obj.name + '-searchOverlay .w2ui-grid-searches').data('grid-name', obj.name);\n          var sfields = $('#w2ui-overlay-' + this.name + '-searchOverlay .w2ui-grid-searches *[rel=search]');\n          if (sfields.length > 0) sfields[0].focus();\n          if (!it.checked) {\n            it.checked = true;\n            $(btn).addClass('checked');\n          }\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        },\n        onHide: function () {\n          it.checked = false;\n          $(btn).removeClass('checked');\n        }\n      });\n    },\n\n    searchClose: function () {\n      var obj = this;\n      if (!this.box) return;\n      if (this.searches.length === 0) return;\n      if (this.toolbar) this.toolbar.uncheck('w2ui-search-advanced', 'w2ui-column-on-off');\n      // hide search\n      $().w2overlay({ name: this.name + '-searchOverlay' });\n    },\n\n    searchReset: function (noRefresh) {\n      var searchData = [];\n      var hasHiddenSearches = false;\n      // add hidden searches\n      for (var i = 0; i < this.searches.length; i++) {\n        if (!this.searches[i].hidden || this.searches[i].value == null) continue;\n        searchData.push({\n          field: this.searches[i].field,\n          operator: this.searches[i].operator || 'is',\n          type: this.searches[i].type,\n          value: this.searches[i].value || ''\n        });\n        hasHiddenSearches = true;\n      }\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'search', reset: true, target: this.name, searchData: searchData });\n      if (edata.isCancelled === true) return;\n      // default action\n      this.searchData = edata.searchData;\n      this.last.search = '';\n      this.last.logic = (hasHiddenSearches ? 'AND' : 'OR');\n      // --- do not reset to All Fields (I think)\n      if (this.searches.length > 0) {\n        if (!this.multiSearch || !this.show.searchAll) {\n          var tmp = 0;\n          while (tmp < this.searches.length && (this.searches[tmp].hidden || this.searches[tmp].simple === false)) tmp++;\n          if (tmp >= this.searches.length) {\n            // all searches are hidden\n            this.last.field = '';\n            this.last.label = '';\n          } else {\n            this.last.field = this.searches[tmp].field;\n            this.last.label = this.searches[tmp].label;\n          }\n        } else {\n          this.last.field = 'all';\n          this.last.label = w2utils.lang('All Fields');\n        }\n      }\n      this.last.multi = false;\n      this.last.xhr_offset = 0;\n      // reset scrolling position\n      this.last.scrollTop = 0;\n      this.last.scrollLeft = 0;\n      this.last.selection.indexes = [];\n      this.last.selection.columns = {};\n      // -- clear all search field\n      this.searchClose();\n      $('#grid_' + this.name + '_search_all').val('').removeData('selected');\n      // apply search\n      if (!noRefresh) this.reload();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    searchShowFields: function (forceHide) {\n      var obj = this;\n      var el = $('#grid_' + this.name + '_search_all');\n      if (forceHide === true) {\n        $(el).w2overlay({ name: obj.name + '-searchFields' });\n        return;\n      }\n      var html = '<div class=\"w2ui-select-field\"><table><tbody>';\n      for (var s = -1; s < this.searches.length; s++) {\n        var search = this.searches[s];\n        var sField = (search ? search.field : null);\n        var column = this.getColumn(sField);\n        var disable = false;\n        var msg = 'This column is hidden';\n        if (this.show.searchHiddenMsg == true && s != -1 && (column == null || (column.hidden === true && column.hideable !== false))) {\n          disable = true;\n          if (column == null) {\n            msg = 'This column does not exist'\n          }\n        }\n        if (s == -1) { // -1 is All Fields search\n          if (!this.multiSearch || !this.show.searchAll) continue;\n          search = { field: 'all', label: w2utils.lang('All Fields') };\n        } else {\n          if (column != null && column.hideable === false) continue;\n          // don't show hidden searches\n          if (this.searches[s].hidden === true || this.searches[s].simple === false) continue;\n        }\n        if (search.label == null && search.caption != null) {\n          console.log('NOTICE: grid search.caption property is deprecated, please use search.label. Search ->', search);\n          search.label = search.caption;\n        }\n\n        html += '<tr style=\"' + (disable ? 'color: silver' : '') + '\" '\n          + (disable\n            ? 'onmouseenter=\"jQuery(this).w2tag({ top: 4, html: \\'' + msg + '\\' })\" onmouseleave=\"jQuery(this).w2tag()\"'\n            : ''\n          ) +\n          (w2utils.isIOS ? 'onTouchStart' : 'onClick') + '=\"event.stopPropagation(); ' +\n          '           w2ui[\\'' + this.name + '\\'].initAllField(\\'' + search.field + '\\');' +\n          '           jQuery(\\'#grid_' + this.name + '_search_all\\').w2overlay({ name: \\'' + this.name + '-searchFields\\' });\"' +\n          '           jQuery(this).addClass(\\'w2ui-selected\\');' +\n          '      onmousedown=\"jQuery(this).parent().find(\\'tr\\').removeClass(\\'w2ui-selected\\'); jQuery(this).addClass(\\'w2ui-selected\\')\" ' +\n          '      onmouseup=\"jQuery(this).removeClass(\\'w2ui-selected\\')\" ' +\n          '   >' +\n          '   <td>' +\n          '       <span class=\"w2ui-column-check w2ui-icon-' + (search.field == this.last.field ? 'check' : 'empty') + '\"></span>' +\n          '   </td>' +\n          '   <td>' + search.label + '</td>' +\n          '</tr>';\n      }\n      html += \"</tbody></table></div>\";\n\n      var overName = obj.name + '-searchFields';\n      if ($('#w2ui-overlay-' + overName).length == 1) html = '';  // hide if visible\n      // need timer otherwise does nto show with list type\n      setTimeout(function () {\n        $(el).w2overlay({ html: html, name: overName, left: -10 });\n      }, 1);\n    },\n\n    initAllField: function (field, value) {\n      var el = $('#grid_' + this.name + '_search_all');\n      if (field == 'all') {\n        var search = { field: 'all', label: w2utils.lang('All Fields') };\n        el.w2field('clear');\n        // el.change(); // triggering change will cause grid calling remote url twice\n      } else {\n        var search = this.getSearch(field);\n        if (search == null) return;\n        var st = search.type;\n        if (['enum', 'select'].indexOf(st) != -1) st = 'list';\n        el.w2field(st, $.extend({}, search.options, { suffix: '', autoFormat: false, selected: value }));\n        if (['list', 'enum', 'date', 'time', 'datetime'].indexOf(search.type) != -1) {\n          this.last.search = '';\n          this.last.item = '';\n          el.val('');\n          $('#grid_' + this.name + '_searchClear').hide()\n        }\n      }\n      // update field\n      if (this.last.search != '') {\n        this.last.label = search.label;\n        this.search(search.field, this.last.search);\n      } else {\n        this.last.field = search.field;\n        this.last.label = search.label;\n      }\n      el.attr('placeholder', w2utils.lang(search.label || search.caption || search.field));\n      $().w2overlay({ name: this.name + '-searchFields' });\n    },\n\n    // clears records and related params\n    clear: function (noRefresh) {\n      this.total = 0;\n      this.records = [];\n      this.summary = [];\n      this.last.xhr_offset = 0;   // need this for reload button to work on remote data set\n      this.last.idCache = {};  // optimization to free memory\n      this.reset(true);\n      // refresh\n      if (!noRefresh) this.refresh();\n    },\n\n    // clears scroll position, selection, ranges\n    reset: function (noRefresh) {\n      // position\n      this.last.scrollTop = 0;\n      this.last.scrollLeft = 0;\n      this.last.selection = { indexes: [], columns: {} };\n      this.last.range_start = null;\n      this.last.range_end = null;\n      // additional\n      $('#grid_' + this.name + '_records').prop('scrollTop', 0);\n      // refresh\n      if (!noRefresh) this.refresh();\n    },\n\n    skip: function (offset, callBack) {\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (url) {\n        this.offset = parseInt(offset);\n        if (this.offset > this.total) this.offset = this.total - this.limit;\n        if (this.offset < 0 || !w2utils.isInt(this.offset)) this.offset = 0;\n        this.clear(true);\n        this.reload(callBack);\n      } else {\n        console.log('ERROR: grid.skip() can only be called when you have remote data source.');\n      }\n    },\n\n    load: function (url, callBack) {\n      if (url == null) {\n        console.log('ERROR: You need to provide url argument when calling .load() method of \"' + this.name + '\" object.');\n        return;\n      }\n      // default action\n      this.clear(true);\n      this.request('get', {}, url, callBack);\n    },\n\n    reload: function (callBack) {\n      var grid = this;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      grid.selectionSave();\n      if (url) {\n        // need to remember selection (not just last.selection object)\n        this.load(url, function () {\n          grid.selectionRestore();\n          if (typeof callBack == 'function') callBack();\n        });\n      } else {\n        this.reset(true);\n        this.localSearch();\n        this.selectionRestore();\n        if (typeof callBack == 'function') callBack({ status: 'success' });\n      }\n    },\n\n    request: function (cmd, add_params, url, callBack) {\n      if (add_params == null) add_params = {};\n      if (url == '' || url == null) url = this.url;\n      if (url == '' || url == null) return;\n      // build parameters list\n      if (!w2utils.isInt(this.offset)) this.offset = 0;\n      if (!w2utils.isInt(this.last.xhr_offset)) this.last.xhr_offset = 0;\n      // add list params\n      var params = {\n        limit: this.limit,\n        offset: parseInt(this.offset) + parseInt(this.last.xhr_offset),\n        searchLogic: this.last.logic,\n        search: this.searchData.map(function (search) {\n          var _search = $.extend({}, search);\n          if (this.searchMap && this.searchMap[_search.field]) _search.field = this.searchMap[_search.field];\n          return _search;\n        }.bind(this)),\n        sort: this.sortData.map(function (sort) {\n          var _sort = $.extend({}, sort);\n          if (this.sortMap && this.sortMap[_sort.field]) _sort.field = this.sortMap[_sort.field];\n          return _sort;\n        }.bind(this))\n      }\n      if (this.searchData.length === 0) {\n        delete params['search'];\n        delete params['searchLogic'];\n      }\n      if (this.sortData.length === 0) {\n        delete params['sort'];\n      }\n      // append other params\n      $.extend(params, this.postData);\n      $.extend(params, add_params);\n      // other actions\n      if (cmd == 'delete' || cmd == 'save') {\n        delete params['limit'];\n        delete params['offset'];\n        params['action'] = cmd\n        if (cmd == 'delete') {\n          params[this.recid || 'recid'] = this.getSelection();\n        }\n      }\n      // event before\n      if (cmd == 'get') {\n        var edata = this.trigger({ phase: 'before', type: 'request', target: this.name, url: url, postData: params, httpHeaders: this.httpHeaders });\n        if (edata.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n      } else {\n        var edata = { url: url, postData: params, httpHeaders: this.httpHeaders };\n      }\n      // call server to get data\n      var obj = this;\n      if (this.last.xhr_offset === 0) {\n        this.lock(w2utils.lang(this.msgRefresh), true);\n      }\n      if (this.last.xhr) try { this.last.xhr.abort(); } catch (e) { }\n      // URL\n      url = (typeof edata.url != 'object' ? edata.url : edata.url.get);\n      if (cmd == 'save' && typeof edata.url == 'object') url = edata.url.save;\n      if (cmd == 'delete' && typeof edata.url == 'object') url = edata.url.remove;\n      // process url with routeData\n      if (!$.isEmptyObject(obj.routeData)) {\n        var info = w2utils.parseRoute(url);\n        if (info.keys.length > 0) {\n          for (var k = 0; k < info.keys.length; k++) {\n            if (obj.routeData[info.keys[k].name] == null) continue;\n            url = url.replace((new RegExp(':' + info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n          }\n        }\n      }\n      // ajax options\n      var ajaxOptions = {\n        type: 'GET',\n        url: url,\n        data: edata.postData,\n        headers: edata.httpHeaders,\n        dataType: 'json'  // expected data type from server\n      };\n\n      var dataType = this.dataType || w2utils.settings.dataType\n      switch (dataType) {\n        case 'HTTP':\n          ajaxOptions.data = (typeof ajaxOptions.data == 'object' ? String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']') : ajaxOptions.data);\n          break;\n        case 'HTTPJSON':\n          ajaxOptions.data = { request: JSON.stringify(ajaxOptions.data) };\n          break;\n        case 'RESTFULL':\n          ajaxOptions.type = 'GET';\n          if (cmd == 'save') ajaxOptions.type = 'PUT';  // so far it is always update\n          if (cmd == 'delete') ajaxOptions.type = 'DELETE';\n          ajaxOptions.data = (typeof ajaxOptions.data == 'object' ? String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']') : ajaxOptions.data);\n          break;\n        case 'RESTFULLJSON':\n          ajaxOptions.type = 'GET';\n          if (cmd == 'save') ajaxOptions.type = 'PUT';  // so far it is always update\n          if (cmd == 'delete') ajaxOptions.type = 'DELETE';\n          ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n          ajaxOptions.contentType = 'application/json';\n          break;\n        case 'JSON':\n          ajaxOptions.type = 'POST';\n          ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n          ajaxOptions.contentType = 'application/json';\n          break;\n      }\n      if (this.method) ajaxOptions.type = this.method;\n\n      this.last.xhr_cmd = cmd;\n      this.last.xhr_start = (new Date()).getTime();\n      this.last.loaded = false;\n      this.last.xhr = $.ajax(ajaxOptions)\n        .done(function (data, status, xhr) {\n          obj.requestComplete(status, xhr, cmd, callBack);\n        })\n        .fail(function (xhr, status, error) {\n          // trigger event\n          var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n          var edata2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n          if (edata2.isCancelled === true) return;\n          // default behavior\n          if (status != 'abort') { // it can be aborted by the grid itself\n            var data;\n            try { data = typeof xhr.responseJSON === 'object' ? xhr.responseJSON : $.parseJSON(xhr.responseText); } catch (e) { }\n            console.log('ERROR: Server communication failed.',\n              '\\n   EXPECTED:', { status: 'success', total: 5, records: [{ recid: 1, field: 'value' }] },\n              '\\n         OR:', { status: 'error', message: 'error message' },\n              '\\n   RECEIVED:', typeof data == 'object' ? data : xhr.responseText);\n            obj.requestComplete('error', xhr, cmd, callBack);\n          }\n          // event after\n          obj.trigger($.extend(edata2, { phase: 'after' }));\n        });\n      if (cmd == 'get') {\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    requestComplete: function (status, xhr, cmd, callBack) {\n      var obj = this;\n      this.unlock();\n      setTimeout(function () {\n        if (obj.show.statusResponse) {\n          obj.status(w2utils.lang('Server Response') + ' ' + ((new Date()).getTime() - obj.last.xhr_start) / 1000 + ' ' + w2utils.lang('sec'));\n        }\n      }, 10);\n      this.last.pull_more = false;\n      this.last.pull_refresh = true;\n\n      // event before\n      var event_name = 'load';\n      if (this.last.xhr_cmd == 'save') event_name = 'save';\n      if (this.last.xhr_cmd == 'delete') event_name = 'delete';\n      var edata = this.trigger({ phase: 'before', target: this.name, type: event_name, xhr: xhr, status: status });\n      if (edata.isCancelled === true) {\n        if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n        return;\n      }\n      // parse server response\n      var data;\n      if (status != 'error') {\n        // default action\n        if (typeof obj.parser == 'function') {\n          data = obj.parser(xhr.responseJSON);\n          if (typeof data != 'object') {\n            console.log('ERROR: Your parser did not return proper object');\n          }\n        } else {\n          data = xhr.responseJSON;\n          if (data == null) {\n            data = {\n              status: 'error',\n              message: w2utils.lang(this.msgNotJSON),\n              responseText: xhr.responseText\n            };\n          } else if (Array.isArray(data)) {\n            // if it is plain array, assume these are records\n            data = {\n              status: 'success',\n              records: data,\n              total: data.length\n            }\n          }\n        }\n        if (Array.isArray(data.records)) {\n          // make sure each record has recid\n          data.records.forEach(function (rec, ind) {\n            if (obj.recid) {\n              rec.recid = obj.parseField(rec, obj.recid);\n            }\n            if (rec.recid == null) {\n              rec.recid = 'recid-' + ind;\n            }\n          })\n        }\n        if (data['status'] == 'error') {\n          obj.error(data['message']);\n        } else {\n          if (cmd == 'get') {\n            if (data.total == null) data.total = -1;\n            if (data.records == null) {\n              data.records = [];\n            }\n            if (data.records.length == this.limit) {\n              var loaded = this.records.length + data.records.length\n              this.last.xhr_hasMore = (loaded == this.total ? false : true);\n            } else {\n              this.last.xhr_hasMore = false;\n              this.total = this.offset + this.last.xhr_offset + data.records.length;\n            }\n            if (!this.last.xhr_hasMore) {\n              // if no morerecords, then hide spinner\n              $('#grid_' + this.name + '_rec_more, #grid_' + this.name + '_frec_more').hide()\n            }\n            if (this.last.xhr_offset === 0) {\n              this.records = [];\n              this.summary = [];\n              if (w2utils.isInt(data.total)) this.total = parseInt(data.total);\n            } else {\n              if (data.total != -1 && parseInt(data.total) != parseInt(this.total)) {\n                this.message(w2utils.lang(this.msgNeedReload), function () {\n                  delete this.last.xhr_offset;\n                  this.reload();\n                }.bind(this));\n                return;\n              }\n            }\n            // records\n            if (data.records) {\n              for (var r = 0; r < data.records.length; r++) {\n                this.records.push(data.records[r]);\n              }\n            }\n            // summary records (if any)\n            if (data.summary) {\n              this.summary = [];\n              for (var r = 0; r < data.summary.length; r++) {\n                this.summary.push(data.summary[r]);\n              }\n            }\n          }\n          if (cmd == 'delete') {\n            this.reset(); // unselect old selections\n            this.reload();\n            return;\n          }\n        }\n      } else {\n        data = {\n          status: 'error',\n          message: w2utils.lang(this.msgAJAXerror),\n          responseText: xhr.responseText\n        };\n        obj.error(w2utils.lang(this.msgAJAXerror));\n      }\n      // event after\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (!url) {\n        this.localSort();\n        this.localSearch();\n      }\n      this.total = parseInt(this.total);\n      // do not refresh if loading on infinite scroll\n      if (this.last.xhr_offset === 0) {\n        this.refresh();\n      } else {\n        this.scroll();\n        this.resize();\n      }\n      // call back\n      if (typeof callBack == 'function') callBack(data); // need to be befor event:after\n      // after event\n      this.trigger($.extend(edata, { phase: 'after' }));\n      this.last.loaded = true;\n    },\n\n    error: function (msg) {\n      var obj = this;\n      // let the management of the error outside of the grid\n      var edata = this.trigger({ target: this.name, type: 'error', message: msg, xhr: this.last.xhr });\n      if (edata.isCancelled === true) {\n        if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n        return;\n      }\n      this.message(msg);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    getChanges: function (recordsBase) {\n      var changes = [];\n      if (typeof recordsBase == 'undefined') {\n        var recordsBase = this.records;\n      }\n\n      for (var r = 0; r < recordsBase.length; r++) {\n        var rec = recordsBase[r];\n        if (rec.w2ui) {\n          if (rec.w2ui.changes != null) {\n            var obj = {}\n            obj[this.recid || 'recid'] = rec.recid\n            changes.push($.extend(true, obj, rec.w2ui.changes));\n          }\n\n          // recursively look for changes in non-expanded children\n          if (rec.w2ui.expanded !== true && rec.w2ui.children && rec.w2ui.children.length) {\n            $.merge(changes, this.getChanges(rec.w2ui.children))\n          }\n        }\n      }\n      return changes;\n    },\n\n    mergeChanges: function () {\n      var changes = this.getChanges();\n      for (var c = 0; c < changes.length; c++) {\n        var record = this.get(changes[c].recid);\n        for (var s in changes[c]) {\n          if (s == 'recid') continue; // do not allow to change recid\n          if (typeof changes[c][s] === \"object\") changes[c][s] = changes[c][s].text;\n          try {\n            if (s.indexOf('.') != -1) {\n              eval(\"record['\" + s.replace(/\\./g, \"']['\") + \"'] = changes[c][s]\")\n            } else {\n              record[s] = changes[c][s];\n            }\n          } catch (e) {\n            console.log('ERROR: Cannot merge. ', e.message || '', e);\n          }\n          if (record.w2ui) delete record.w2ui.changes;\n        }\n      }\n      this.refresh();\n    },\n\n    // ===================================================\n    // --  Action Handlers\n\n    save: function (callBack) {\n      var obj = this;\n      var changes = this.getChanges();\n      var url = (typeof this.url != 'object' ? this.url : this.url.save);\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'save', changes: changes });\n      if (edata.isCancelled === true) {\n        if (url && typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n        return;\n      }\n      if (url) {\n        this.request('save', { 'changes': edata.changes }, null,\n          function (data) {\n            if (data.status !== 'error') {\n              // only merge changes, if save was successful\n              obj.mergeChanges();\n            }\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            // call back\n            if (typeof callBack == 'function') callBack(data);\n          }\n        );\n      } else {\n        this.mergeChanges();\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    editField: function (recid, column, value, event) {\n      var obj = this;\n      if (this.last.inEditMode === true) { // already editing\n        if (event.keyCode == 13) {\n          var index = this.last._edit.index;\n          var column = this.last._edit.column;\n          var recid = this.last._edit.recid;\n          this.editChange({ type: 'custom', value: this.last._edit.value }, this.get(recid, true), column, event);\n          var next = event.shiftKey ? this.prevRow(index, column) : this.nextRow(index, column);\n          if (next != null && next != index) {\n            setTimeout(function () {\n              if (obj.selectType != 'row') {\n                obj.selectNone();\n                obj.select({ recid: obj.records[next].recid, column: column });\n              } else {\n                obj.editField(obj.records[next].recid, column, null, event);\n              }\n            }, 1);\n          }\n          this.last.inEditMode = false;\n        } else {\n          // when 2 chars entered fast\n          var $input = $(this.box).find('div.w2ui-edit-box .w2ui-input');\n          if ($input.length > 0 && $input[0].tagName == 'DIV') {\n            $input.text($input.text() + value);\n            w2utils.setCursorPosition($input[0], $input.text().length);\n          }\n        }\n        return;\n      }\n      var index = obj.get(recid, true);\n      var edit = obj.getCellEditable(index, column);\n      if (!edit) return;\n      var rec = obj.records[index];\n      var col = obj.columns[column];\n      var prefix = (col.frozen === true ? '_f' : '_');\n      if (['enum', 'file'].indexOf(edit.type) != -1) {\n        console.log('ERROR: input types \"enum\" and \"file\" are not supported in inline editing.');\n        return;\n      }\n      // event before\n      var edata = obj.trigger({\n        phase: 'before', type: 'editField', target: obj.name, recid: recid, column: column, value: value,\n        index: index, originalEvent: event\n      });\n      if (edata.isCancelled === true) return;\n      value = edata.value;\n      // default behaviour\n      this.last.inEditMode = true;\n      this.last._edit = { value: value, index: index, column: column, recid: recid };\n      this.selectNone();\n      this.select({ recid: recid, column: column });\n      if (['checkbox', 'check'].indexOf(edit.type) != -1) return;\n      // create input element\n      var tr = $('#grid_' + obj.name + prefix + 'rec_' + w2utils.escapeId(recid));\n      var el = tr.find('[col=' + column + '] > div');\n      // clear previous if any\n      $(this.box).find('div.w2ui-edit-box').remove();\n      // for spreadsheet - insert into selection\n      if (this.selectType != 'row') {\n        $('#grid_' + this.name + prefix + 'selection')\n          .attr('id', 'grid_' + this.name + '_editable')\n          .removeClass('w2ui-selection')\n          .addClass('w2ui-edit-box')\n          .prepend('<div style=\"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px;\"></div>')\n          .find('.w2ui-selection-resizer')\n          .remove();\n        el = $('#grid_' + this.name + '_editable >div:first-child');\n      }\n      if (edit.inTag == null) edit.inTag = '';\n      if (edit.outTag == null) edit.outTag = '';\n      if (edit.style == null) edit.style = '';\n      if (edit.items == null) edit.items = [];\n      var val = (rec.w2ui && rec.w2ui.changes && rec.w2ui.changes[col.field] != null ? w2utils.stripTags(rec.w2ui.changes[col.field]) : w2utils.stripTags(rec[col.field]));\n      if (val == null) val = '';\n      var old_value = (typeof val != 'object' ? val : '');\n      if (edata.old_value != null) old_value = edata.old_value;\n      if (value != null) val = value;\n      var addStyle = (col.style != null ? col.style + ';' : '');\n      if (typeof col.render == 'string' && ['number', 'int', 'float', 'money', 'percent', 'size'].indexOf(col.render.split(':')[0]) != -1) {\n        addStyle += 'text-align: right;';\n      }\n      // normalize items\n      if (edit.items.length > 0 && !$.isPlainObject(edit.items[0])) {\n        edit.items = w2obj.field.prototype.normMenu(edit.items);\n      }\n      switch (edit.type) {\n\n        case 'select':\n          var html = '';\n          for (var i = 0; i < edit.items.length; i++) {\n            html += '<option value=\"' + edit.items[i].id + '\"' + (edit.items[i].id == val ? ' selected=\"selected\"' : '') + '>' + edit.items[i].text + '</option>';\n          }\n          el.addClass('w2ui-editable')\n            .html('<select id=\"grid_' + obj.name + '_edit_' + recid + '_' + column + '\" column=\"' + column + '\" class=\"w2ui-input\"' +\n              '    style=\"width: 100%; pointer-events: auto; padding: 0 0 0 3px; margin: 0px; border-left: 0; border-right: 0; border-radius: 0px; ' +\n              '           outline: none; font-family: inherit;' + addStyle + edit.style + '\" ' +\n              '    field=\"' + col.field + '\" recid=\"' + recid + '\" ' +\n              '    ' + edit.inTag +\n              '>' + html + '</select>' + edit.outTag);\n          setTimeout(function () {\n            el.find('select')\n              .on('change', function (event) {\n                delete obj.last.move;\n              })\n              .on('blur', function (event) {\n                if ($(this).data('keep-open') == true) return;\n                obj.editChange.call(obj, this, index, column, event);\n              });\n          }, 10);\n          break;\n\n        case 'div':\n          var $tmp = tr.find('[col=' + column + '] > div');\n          var font = 'font-family: ' + $tmp.css('font-family') + '; font-size: ' + $tmp.css('font-size') + ';';\n          el.addClass('w2ui-editable')\n            .html('<div id=\"grid_' + obj.name + '_edit_' + recid + '_' + column + '\" class=\"w2ui-input\"' +\n              '    contenteditable style=\"' + font + addStyle + edit.style + '\" autocorrect=\"off\" autocomplete=\"off\" spellcheck=\"false\" ' +\n              '    field=\"' + col.field + '\" recid=\"' + recid + '\" column=\"' + column + '\" ' + edit.inTag +\n              '></div>' + edit.outTag);\n          if (value == null) el.find('div.w2ui-input').text(typeof val != 'object' ? val : '');\n          // add blur listener\n          var input = el.find('div.w2ui-input').get(0);\n          setTimeout(function () {\n            var tmp = input;\n            $(tmp).on('blur', function (event) {\n              if ($(this).data('keep-open') == true) return;\n              obj.editChange.call(obj, tmp, index, column, event);\n            });\n          }, 10);\n          if (value != null) $(input).text(typeof val != 'object' ? val : '');\n          break;\n\n        default:\n          var $tmp = tr.find('[col=' + column + '] > div');\n          var font = 'font-family: ' + $tmp.css('font-family') + '; font-size: ' + $tmp.css('font-size');\n          el.addClass('w2ui-editable')\n            .html('<input id=\"grid_' + obj.name + '_edit_' + recid + '_' + column + '\" autocorrect=\"off\" autocomplete=\"off\" spellcheck=\"false\" type=\"text\" ' +\n              '    style=\"' + font + '; width: 100%; height: 100%; padding: 3px; border-color: transparent; outline: none; border-radius: 0; ' +\n              '       pointer-events: auto; ' + addStyle + edit.style + '\" ' +\n              '    field=\"' + col.field + '\" recid=\"' + recid + '\" column=\"' + column + '\" class=\"w2ui-input\"' + edit.inTag +\n              '/>' + edit.outTag);\n          // issue #499\n          if (edit.type == 'number') {\n            val = w2utils.formatNumber(val);\n          }\n          if (edit.type == 'date') {\n            val = w2utils.formatDate(w2utils.isDate(val, edit.format, true) || new Date(), edit.format);\n          }\n          if (value == null) el.find('input').val(typeof val != 'object' ? val : '');\n          // init w2field\n          var input = el.find('input').get(0);\n          $(input).w2field(edit.type, $.extend(edit, { selected: val }));\n          // add blur listener\n          setTimeout(function () {\n            var tmp = input;\n            if (edit.type == 'list') {\n              tmp = $($(input).data('w2field').helpers.focus).find('input');\n              if (typeof val != 'object' && val != '') tmp.val(val).css({ opacity: 1 }).prev().css({ opacity: 1 });\n              el.find('input').on('change', function (event) {\n                obj.editChange.call(obj, input, index, column, event);\n              });\n            }\n            $(tmp).on('blur', function (event) {\n              if ($(this).data('keep-open') == true) return;\n              obj.editChange.call(obj, input, index, column, event);\n            });\n          }, 10);\n          if (value != null) $(input).val(typeof val != 'object' ? val : '');\n      }\n\n      setTimeout(function () {\n        if (!obj.last.inEditMode) return;\n        el.find('input, select, div.w2ui-input')\n          .data('old_value', old_value)\n          .on('mousedown', function (event) {\n            event.stopPropagation();\n          })\n          .on('click', function (event) {\n            if (edit.type == 'div') {\n              expand.call(el.find('div.w2ui-input')[0], null);\n            } else {\n              expand.call(el.find('input, select')[0], null);\n            }\n          })\n          .on('paste', function (event) {\n            // clean paste to be plain text\n            var e = event.originalEvent;\n            event.preventDefault();\n            var text = e.clipboardData.getData(\"text/plain\");\n            document.execCommand(\"insertHTML\", false, text);\n          })\n          .on('keydown', function (event) {\n            var el = this;\n            var val = (el.tagName.toUpperCase() == 'DIV' ? $(el).text() : $(el).val());\n            switch (event.keyCode) {\n              case 8: // backspace;\n                if (edit.type == 'list' && !$(input).data('w2field')) { // cancel backspace when deleting element\n                  event.preventDefault();\n                }\n                break;\n              case 9:\n              case 13:\n                event.preventDefault();\n                break;\n              case 37:\n                if (w2utils.getCursorPosition(el) === 0) {\n                  event.preventDefault();\n                }\n                break;\n              case 39:\n                if (w2utils.getCursorPosition(el) == val.length) {\n                  w2utils.setCursorPosition(el, val.length);\n                  event.preventDefault();\n                }\n                break;\n            }\n            // need timeout so, this handler is executed last\n            setTimeout(function () {\n              switch (event.keyCode) {\n                case 9:  // tab\n                  var next_rec = recid;\n                  var next_col = event.shiftKey ? obj.prevCell(index, column, true) : obj.nextCell(index, column, true);\n                  // next or prev row\n                  if (next_col == null) {\n                    var tmp = event.shiftKey ? obj.prevRow(index, column) : obj.nextRow(index, column);\n                    if (tmp != null && tmp != index) {\n                      next_rec = obj.records[tmp].recid;\n                      // find first editable row\n                      for (var c = 0; c < obj.columns.length; c++) {\n                        var edit = obj.getCellEditable(index, c);\n                        if (edit != null && ['checkbox', 'check'].indexOf(edit.type) == -1) {\n                          next_col = parseInt(c);\n                          if (!event.shiftKey) break;\n                        }\n                      }\n                    }\n\n                  }\n                  if (next_rec === false) next_rec = recid;\n                  if (next_col == null) next_col = column;\n                  // init new or same record\n                  el.blur();\n                  setTimeout(function () {\n                    if (obj.selectType != 'row') {\n                      obj.selectNone();\n                      obj.select({ recid: next_rec, column: next_col });\n                    } else {\n                      obj.editField(next_rec, next_col, null, event);\n                    }\n                  }, 1);\n                  if (event.preventDefault) event.preventDefault();\n                  break;\n\n                case 13: // enter\n                  el.blur();\n                  var next = event.shiftKey ? obj.prevRow(index, column) : obj.nextRow(index, column);\n                  if (next != null && next != index) {\n                    setTimeout(function () {\n                      if (obj.selectType != 'row') {\n                        obj.selectNone();\n                        obj.select({ recid: obj.records[next].recid, column: column });\n                      } else {\n                        obj.editField(obj.records[next].recid, column, null, event);\n                      }\n                    }, 1);\n                  }\n                  if (el.tagName.toUpperCase() == 'DIV') {\n                    event.preventDefault();\n                  }\n                  break;\n\n                case 27: // escape\n                  var old = obj.parseField(rec, col.field);\n                  if (rec.w2ui && rec.w2ui.changes && rec.w2ui.changes[col.field] != null) old = rec.w2ui.changes[col.field];\n                  if ($(el).data('old_value') != null) old = $(el).data('old_value');\n                  if (el.tagName.toUpperCase() == 'DIV') {\n                    $(el).text(old != null ? old : '');\n                  } else {\n                    el.value = old != null ? old : '';\n                  }\n                  el.blur();\n                  setTimeout(function () { obj.select({ recid: recid, column: column }); }, 1);\n                  break;\n              }\n              // if input too small - expand\n              expand.call(el, event);\n            }, 1);\n          })\n          .on('keyup', function (event) {\n            expand.call(this, event);\n          });\n        // focus and select\n        setTimeout(function () {\n          if (!obj.last.inEditMode) return;\n          var tmp = el.find('.w2ui-input');\n          var len = ($(tmp).val() != null ? $(tmp).val().length : 0);\n          if (edit.type == 'div') len = $(tmp).text().length;\n          if (tmp.length > 0) {\n            tmp.focus();\n            clearTimeout(obj.last.kbd_timer); // keep focus\n            if (tmp[0].tagName.toUpperCase() != 'SELECT') w2utils.setCursorPosition(tmp[0], len);\n            tmp[0].resize = expand;\n            expand.call(tmp[0], null);\n          }\n        }, 50);\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after', input: el.find('input, select, div.w2ui-input') }));\n      }, 5); // needs to be 5-10\n      return;\n\n      function expand(event) {\n        try {\n          var val = (this.tagName.toUpperCase() == 'DIV' ? $(this).text() : this.value);\n          var $sel = $('#grid_' + obj.name + '_editable');\n          var style = 'font-family: ' + $(this).css('font-family') + '; font-size: ' + $(this).css('font-size') + '; white-space: pre;';\n          var width = w2utils.getStrWidth(val, style);\n          if (width + 20 > $sel.width()) {\n            $sel.width(width + 20);\n          }\n        } catch (e) {\n        }\n      }\n    },\n\n    editChange: function (el, index, column, event) {\n      var obj = this;\n      // keep focus\n      setTimeout(function () {\n        var $input = $(obj.box).find('#grid_' + obj.name + '_focus');\n        if (!$input.is(':focus')) $input.focus();\n      }, 10);\n      // all other fields\n      var summary = index < 0;\n      index = index < 0 ? -index - 1 : index;\n      var records = summary ? this.summary : this.records;\n      var rec = records[index];\n      var col = this.columns[column];\n      var tr = $('#grid_' + this.name + (col.frozen === true ? '_frec_' : '_rec_') + w2utils.escapeId(rec.recid));\n      var new_val = (el.tagName && el.tagName.toUpperCase() == 'DIV' ? $(el).text() : el.value);\n      var old_val = this.parseField(rec, col.field);\n      var tmp = $(el).data('w2field');\n      if (tmp) {\n        if (tmp.type == 'list') new_val = $(el).data('selected');\n        if ($.isEmptyObject(new_val) || new_val == null) new_val = '';\n        if (!$.isPlainObject(new_val)) new_val = tmp.clean(new_val);\n      }\n      if (el.type == 'checkbox') {\n        if (rec.w2ui && rec.w2ui.editable === false) el.checked = !el.checked;\n        new_val = el.checked;\n      }\n      // change/restore event\n      var edata = {\n        phase: 'before', type: 'change', target: this.name, input_id: el.id, recid: rec.recid, index: index, column: column,\n        originalEvent: (event.originalEvent ? event.originalEvent : event),\n        value_new: new_val,\n        value_previous: (rec.w2ui && rec.w2ui.changes && rec.w2ui.changes.hasOwnProperty(col.field) ? rec.w2ui.changes[col.field] : old_val),\n        value_original: old_val\n      };\n      if ($(event.target).data('old_value') != null) edata.value_previous = $(event.target).data('old_value');\n      // if (old_val == null) old_val = ''; -- do not uncomment, error otherwise\n      while (true) {\n        new_val = edata.value_new;\n        if ((typeof new_val != 'object' && String(old_val) != String(new_val)) ||\n          (typeof new_val == 'object' && new_val && new_val.id != old_val && (typeof old_val != 'object' || old_val == null || new_val.id != old_val.id))) {\n          // change event\n          edata = this.trigger($.extend(edata, { type: 'change', phase: 'before' }));\n          if (edata.isCancelled !== true) {\n            if (new_val !== edata.value_new) {\n              // re-evaluate the type of change to be made\n              continue;\n            }\n            // default action\n            rec.w2ui = rec.w2ui || {};\n            rec.w2ui.changes = rec.w2ui.changes || {};\n            rec.w2ui.changes[col.field] = edata.value_new;\n            // event after\n            this.trigger($.extend(edata, { phase: 'after' }));\n          }\n        } else {\n          // restore event\n          edata = this.trigger($.extend(edata, { type: 'restore', phase: 'before' }));\n          if (edata.isCancelled !== true) {\n            if (new_val !== edata.value_new) {\n              // re-evaluate the type of change to be made\n              continue;\n            }\n            // default action\n            if (rec.w2ui && rec.w2ui.changes) delete rec.w2ui.changes[col.field];\n            if (rec.w2ui && $.isEmptyObject(rec.w2ui.changes)) delete rec.w2ui.changes;\n            // event after\n            this.trigger($.extend(edata, { phase: 'after' }));\n          }\n        }\n        break;\n      }\n      // refresh cell\n      var cell = $(tr).find('[col=' + column + ']');\n      if (!summary) {\n        if (rec.w2ui && rec.w2ui.changes && rec.w2ui.changes[col.field] != null) {\n          cell.addClass('w2ui-changed');\n        } else {\n          cell.removeClass('w2ui-changed');\n        }\n        // update cell data\n        cell.replaceWith(this.getCellHTML(index, column, summary));\n      }\n      // remove\n      $(this.box).find('div.w2ui-edit-box').remove();\n      // enable/disable toolbar search button\n      if (this.show.toolbarSave) {\n        if (this.getChanges().length > 0) this.toolbar.enable('w2ui-save'); else this.toolbar.disable('w2ui-save');\n      }\n      obj.last.inEditMode = false;\n    },\n\n    \"delete\": function (force) {\n      var time = (new Date()).getTime();\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'delete', force: force });\n      if (force) this.message(); // close message\n      if (edata.isCancelled === true) return;\n      force = edata.force;\n      // hide all tooltips\n      setTimeout(function () { $().w2tag(); }, 20);\n      // default action\n      var recs = this.getSelection();\n      if (recs.length === 0) return;\n      if (this.msgDelete != '' && !force) {\n        this.message({\n          width: 380,\n          height: 170,\n          body: '<div class=\"w2ui-centered\">' +\n            w2utils.lang(obj.msgDelete).replace('NN', recs.length).replace('records', (recs.length == 1 ? 'record' : 'records')) +\n            '</div>',\n          buttons: (w2utils.settings.macButtonOrder\n            ? '<button type=\"button\" class=\"w2ui-btn btn-default\" onclick=\"w2ui[\\'' + this.name + '\\'].message()\">' + w2utils.lang('Cancel') + '</button>' +\n            '<button type=\"button\" class=\"w2ui-btn\" onclick=\"w2ui[\\'' + this.name + '\\'].delete(true)\">' + w2utils.lang(this.msgDeleteBtn) + '</button>'\n            : '<button type=\"button\" class=\"w2ui-btn\" onclick=\"w2ui[\\'' + this.name + '\\'].delete(true)\">' + w2utils.lang(this.msgDeleteBtn) + '</button>' +\n            '<button type=\"button\" class=\"w2ui-btn btn-default\" onclick=\"w2ui[\\'' + this.name + '\\'].message()\">' + w2utils.lang('Cancel') + '</button>'\n          ),\n          onOpen: function (event) {\n            var inputs = $(this.box).find('input, textarea, select, button');\n            inputs.off('.message')\n              .on('blur.message', function (evt) {\n                // last input\n                if (inputs.index(evt.target) + 1 === inputs.length) {\n                  inputs.get(0).focus();\n                  evt.preventDefault();\n                }\n              })\n              .on('keydown.message', function (evt) {\n                if (evt.keyCode == 27) obj.message(); // esc\n              });\n            setTimeout(function () {\n              $(this.box).find('.w2ui-btn.btn-default').focus();\n              clearTimeout(obj.last.kbd_timer);\n            }.bind(this), 50);\n          }\n        });\n        return;\n      }\n      // call delete script\n      var url = (typeof this.url != 'object' ? this.url : this.url.remove);\n      if (url) {\n        this.request('delete');\n      } else {\n        if (typeof recs[0] != 'object') {\n          this.selectNone();\n          this.remove.apply(this, recs);\n        } else {\n          // clear cells\n          for (var r = 0; r < recs.length; r++) {\n            var fld = this.columns[recs[r].column].field;\n            var ind = this.get(recs[r].recid, true);\n            var rec = this.records[ind];\n            if (ind != null && fld != 'recid') {\n              this.records[ind][fld] = '';\n              if (rec.w2ui && rec.w2ui.changes) delete rec.w2ui.changes[fld];\n              // -- style should not be deleted\n              // if (rec.style != null && $.isPlainObject(rec.style) && rec.style[recs[r].column]) {\n              //     delete rec.style[recs[r].column];\n              // }\n            }\n          }\n          this.update();\n        }\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    click: function (recid, event) {\n      var time = (new Date()).getTime();\n      var column = null;\n      var obj = this;\n      if (this.last.cancelClick == true || (event && event.altKey)) return;\n      if ((typeof recid == 'object') && (recid !== null)) {\n        column = recid.column;\n        recid = recid.recid;\n      }\n      if (event == null) event = {};\n      // check for double click\n      if (time - parseInt(this.last.click_time) < 350 && this.last.click_recid == recid && event.type == 'click') {\n        this.dblClick(recid, event);\n        return;\n      }\n      // hide bubble\n      if (this.last.bubbleEl) {\n        $(this.last.bubbleEl).w2tag();\n        this.last.bubbleEl = null;\n      }\n      this.last.click_time = time;\n      var last_recid = this.last.click_recid;\n      this.last.click_recid = recid;\n      // column user clicked on\n      if (column == null && event.target) {\n        var tmp = event.target;\n        if (tmp.tagName.toUpperCase() != 'TD') tmp = $(tmp).parents('td')[0];\n        if ($(tmp).attr('col') != null) column = parseInt($(tmp).attr('col'));\n      }\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'click', recid: recid, column: column, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default action\n      var obj = this;\n      var sel = this.getSelection();\n      $('#grid_' + this.name + '_check_all').prop(\"checked\", false);\n      var ind = this.get(recid, true);\n      var record = this.records[ind];\n      var selectColumns = [];\n      obj.last.sel_ind = ind;\n      obj.last.sel_col = column;\n      obj.last.sel_recid = recid;\n      obj.last.sel_type = 'click';\n      // multi select with shif key\n      if (event.shiftKey && sel.length > 0 && obj.multiSelect) {\n        if (sel[0].recid) {\n          var start = this.get(sel[0].recid, true);\n          var end = this.get(recid, true);\n          if (column > sel[0].column) {\n            var t1 = sel[0].column;\n            var t2 = column;\n          } else {\n            var t1 = column;\n            var t2 = sel[0].column;\n          }\n          for (var c = t1; c <= t2; c++) selectColumns.push(c);\n        } else {\n          var start = this.get(last_recid, true);\n          var end = this.get(recid, true);\n        }\n        var sel_add = [];\n        if (start > end) { var tmp = start; start = end; end = tmp; }\n        var url = (typeof this.url != 'object' ? this.url : this.url.get);\n        for (var i = start; i <= end; i++) {\n          if (this.searchData.length > 0 && !url && $.inArray(i, this.last.searchIds) == -1) continue;\n          if (this.selectType == 'row') {\n            sel_add.push(this.records[i].recid);\n          } else {\n            for (var sc = 0; sc < selectColumns.length; sc++) {\n              sel_add.push({ recid: this.records[i].recid, column: selectColumns[sc] });\n            }\n          }\n          //sel.push(this.records[i].recid);\n        }\n        this.select(sel_add);\n      } else {\n        var last = this.last.selection;\n        var flag = (last.indexes.indexOf(ind) != -1 ? true : false);\n        var fselect = false;\n        // if clicked on the checkbox\n        if ($(event.target).parents('td').hasClass('w2ui-col-select')) fselect = true;\n        // clear other if necessary\n        if (((!event.ctrlKey && !event.shiftKey && !event.metaKey && !fselect) || !this.multiSelect) && !this.showSelectColumn) {\n          if (this.selectType != 'row' && $.inArray(column, last.columns[ind]) == -1) flag = false;\n          if (sel.length > 300) this.selectNone(); else this.unselect(sel);\n          if (flag === true && sel.length == 1) {\n            this.unselect({ recid: recid, column: column });\n          } else {\n            this.select({ recid: recid, column: column });\n          }\n        } else {\n          var isChecked = $(event.target).parents('tr').find('.w2ui-grid-select-check').is(':checked');\n          if (this.selectType != 'row' && $.inArray(column, last.columns[ind]) == -1 && !isChecked) flag = false;\n          if (flag === true) {\n            this.unselect({ recid: recid, column: column });\n          } else {\n            this.select({ recid: recid, column: column });\n          }\n        }\n      }\n      this.status();\n      obj.initResize();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    columnClick: function (field, event) {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'columnClick', target: this.name, field: field, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default behaviour\n      if (this.selectType == 'row') {\n        var column = this.getColumn(field);\n        if (column && column.sortable) this.sort(field, null, (event && (event.ctrlKey || event.metaKey) ? true : false));\n        if (edata.field == 'line-number') {\n          if (this.getSelection().length >= this.records.length) {\n            this.selectNone();\n          } else {\n            this.selectAll();\n          }\n        }\n      } else {\n        if (event.altKey) {\n          var column = this.getColumn(field);\n          if (column && column.sortable) this.sort(field, null, (event && (event.ctrlKey || event.metaKey) ? true : false));\n        }\n        // select entire column\n        if (edata.field == 'line-number') {\n          if (this.getSelection().length >= this.records.length) {\n            this.selectNone();\n          } else {\n            this.selectAll();\n          }\n        } else {\n          if (!event.shiftKey && !event.metaKey && !event.ctrlKey) {\n            this.selectNone();\n          }\n          var tmp = this.getSelection();\n          var column = this.getColumn(edata.field, true);\n          var sel = [];\n          var cols = [];\n          // check if there was a selection before\n          if (tmp.length != 0 && event.shiftKey) {\n            var start = column;\n            var end = tmp[0].column;\n            if (start > end) {\n              start = tmp[0].column;\n              end = column;\n            }\n            for (var i = start; i <= end; i++) cols.push(i);\n          } else {\n            cols.push(column);\n          }\n          var edata = this.trigger({ phase: 'before', type: 'columnSelect', target: this.name, columns: cols });\n          if (edata.isCancelled !== true) {\n            for (var i = 0; i < this.records.length; i++) {\n              sel.push({ recid: this.records[i].recid, column: cols });\n            }\n            this.select(sel);\n          }\n          this.trigger($.extend(edata, { phase: 'after' }));\n        }\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    columnDblClick: function (field, event) {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'columnDblClick', target: this.name, field: field, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    focus: function (event) {\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'focus', target: this.name, originalEvent: event });\n      if (edata.isCancelled === true) return false;\n      // default behaviour\n      this.hasFocus = true;\n      $(this.box).removeClass('w2ui-inactive').find('.w2ui-inactive').removeClass('w2ui-inactive');\n      setTimeout(function () {\n        var $input = $(obj.box).find('#grid_' + obj.name + '_focus');\n        if (!$input.is(':focus')) $input.focus();\n      }, 10);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    blur: function (event) {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'blur', target: this.name, originalEvent: event });\n      if (edata.isCancelled === true) return false;\n      // default behaviour\n      this.hasFocus = false;\n      $(this.box).addClass('w2ui-inactive').find('.w2ui-selected').addClass('w2ui-inactive');\n      $(this.box).find('.w2ui-selection').addClass('w2ui-inactive');\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    keydown: function (event) {\n      // this method is called from w2utils\n      var obj = this;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (obj.keyboard !== true) return;\n      // trigger event\n      var edata = obj.trigger({ phase: 'before', type: 'keydown', target: obj.name, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      if ($(this.box).find('>.w2ui-message').length > 0) {\n        // if there are messages\n        if (event.keyCode == 27) this.message();\n        return\n      }\n      var empty = false;\n      var records = $('#grid_' + obj.name + '_records');\n      var sel = obj.getSelection();\n      if (sel.length === 0) empty = true;\n      var recid = sel[0] || null;\n      var columns = [];\n      var recid2 = sel[sel.length - 1];\n      if (typeof recid == 'object' && recid != null) {\n        recid = sel[0].recid;\n        columns = [];\n        var ii = 0;\n        while (true) {\n          if (!sel[ii] || sel[ii].recid != recid) break;\n          columns.push(sel[ii].column);\n          ii++;\n        }\n        recid2 = sel[sel.length - 1].recid;\n      }\n      var ind = obj.get(recid, true);\n      var ind2 = obj.get(recid2, true);\n      var rec = obj.get(recid);\n      var recEL = $('#grid_' + obj.name + '_rec_' + (ind != null ? w2utils.escapeId(obj.records[ind].recid) : 'none'));\n      var cancel = false;\n      var key = event.keyCode;\n      var shiftKey = event.shiftKey;\n\n      switch (key) {\n        case 8:  // backspace\n        case 46: // delete\n          // delete if button is visible\n          obj[\"delete\"]();\n          cancel = true;\n          event.stopPropagation();\n          break;\n\n        case 27: // escape\n          obj.selectNone();\n          cancel = true;\n          break;\n\n        case 65: // cmd + A\n          if (!event.metaKey && !event.ctrlKey) break;\n          obj.selectAll();\n          cancel = true;\n          break;\n\n        case 13: // enter\n          // if expandable columns - expand it\n          if (this.selectType == 'row' && obj.show.expandColumn === true) {\n            if (recEL.length <= 0) break;\n            obj.toggle(recid, event);\n            cancel = true;\n          } else { // or enter edit\n            for (var c = 0; c < this.columns.length; c++) {\n              var edit = this.getCellEditable(ind, c);\n              if (edit) {\n                columns.push(parseInt(c));\n                break;\n              }\n            }\n            // edit last column that was edited\n            if (this.selectType == 'row' && this.last._edit && this.last._edit.column) {\n              columns = [this.last._edit.column];\n            }\n            if (columns.length > 0) {\n              obj.editField(recid, columns[0], null, event);\n              cancel = true;\n            }\n          }\n          break;\n\n        case 37: // left\n          if (empty) { // no selection\n            selectTopRecord();\n            break;\n          }\n          if (this.selectType == 'row') {\n            if (recEL.length <= 0) break;\n            var tmp = this.records[ind].w2ui || {};\n            if (tmp && tmp.parent_recid != null && (!Array.isArray(tmp.children) || tmp.children.length === 0 || !tmp.expanded)) {\n              obj.unselect(recid);\n              obj.collapse(tmp.parent_recid, event);\n              obj.select(tmp.parent_recid);\n            } else {\n              obj.collapse(recid, event);\n            }\n          } else {\n            var prev = obj.prevCell(ind, columns[0]);\n            if (!shiftKey && prev == null) {\n              this.selectNone();\n              prev = 0;\n            }\n            if (prev != null) {\n              if (shiftKey && obj.multiSelect) {\n                if (tmpUnselect()) return;\n                var tmp = [];\n                var newSel = [];\n                var unSel = [];\n                if (columns.indexOf(this.last.sel_col) === 0 && columns.length > 1) {\n                  for (var i = 0; i < sel.length; i++) {\n                    if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                    unSel.push({ recid: sel[i].recid, column: columns[columns.length - 1] });\n                  }\n                  obj.unselect(unSel);\n                  obj.scrollIntoView(ind, columns[columns.length - 1], true);\n                } else {\n                  for (var i = 0; i < sel.length; i++) {\n                    if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                    newSel.push({ recid: sel[i].recid, column: prev });\n                  }\n                  obj.select(newSel);\n                  obj.scrollIntoView(ind, prev, true);\n                }\n              } else {\n                event.metaKey = false;\n                obj.click({ recid: recid, column: prev }, event);\n                obj.scrollIntoView(ind, prev, true);\n              }\n            } else {\n              // if selected more then one, then select first\n              if (!shiftKey) {\n                if (sel.length > 1) {\n                  obj.selectNone();\n                } else {\n                  for (var s = 1; s < sel.length; s++) obj.unselect(sel[s]);\n                }\n              }\n            }\n          }\n          cancel = true;\n          break;\n\n        case 39: // right\n          if (empty) {\n            selectTopRecord();\n            break;\n          }\n          if (this.selectType == 'row') {\n            if (recEL.length <= 0) break;\n            obj.expand(recid, event);\n          } else {\n            var next = obj.nextCell(ind, columns[columns.length - 1]); // columns is an array of selected columns\n            if (!shiftKey && next == null) {\n              this.selectNone();\n              next = this.columns.length - 1;\n            }\n            if (next != null) {\n              if (shiftKey && key == 39 && obj.multiSelect) {\n                if (tmpUnselect()) return;\n                var tmp = [];\n                var newSel = [];\n                var unSel = [];\n                if (columns.indexOf(this.last.sel_col) == columns.length - 1 && columns.length > 1) {\n                  for (var i = 0; i < sel.length; i++) {\n                    if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                    unSel.push({ recid: sel[i].recid, column: columns[0] });\n                  }\n                  obj.unselect(unSel);\n                  obj.scrollIntoView(ind, columns[0], true);\n                } else {\n                  for (var i = 0; i < sel.length; i++) {\n                    if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                    newSel.push({ recid: sel[i].recid, column: next });\n                  }\n                  obj.select(newSel);\n                  obj.scrollIntoView(ind, next, true);\n                }\n              } else {\n                event.metaKey = false;\n                obj.click({ recid: recid, column: next }, event);\n                obj.scrollIntoView(ind, next, true);\n              }\n            } else {\n              // if selected more then one, then select first\n              if (!shiftKey) {\n                if (sel.length > 1) {\n                  obj.selectNone();\n                } else {\n                  for (var s = 0; s < sel.length - 1; s++) obj.unselect(sel[s]);\n                }\n              }\n            }\n          }\n          cancel = true;\n          break;\n\n        case 38: // up\n          if (empty) selectTopRecord();\n          if (recEL.length <= 0) break;\n          // move to the previous record\n          var prev = obj.prevRow(ind, columns[0]);\n          if (!shiftKey && prev == null) {\n            if (this.searchData.length != 0 && !url) {\n              prev = this.last.searchIds[0];\n            } else {\n              prev = 0;\n            }\n          }\n          if (prev != null) {\n            if (shiftKey && obj.multiSelect) { // expand selection\n              if (tmpUnselect()) return;\n              if (obj.selectType == 'row') {\n                if (obj.last.sel_ind > prev && obj.last.sel_ind != ind2) {\n                  obj.unselect(obj.records[ind2].recid);\n                } else {\n                  obj.select(obj.records[prev].recid);\n                }\n              } else {\n                if (obj.last.sel_ind > prev && obj.last.sel_ind != ind2) {\n                  prev = ind2;\n                  var tmp = [];\n                  for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[prev].recid, column: columns[c] });\n                  obj.unselect(tmp);\n                } else {\n                  var tmp = [];\n                  for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[prev].recid, column: columns[c] });\n                  obj.select(tmp);\n                }\n              }\n            } else { // move selected record\n              if (sel.length > 300) this.selectNone(); else this.unselect(sel);\n              obj.click({ recid: obj.records[prev].recid, column: columns[0] }, event);\n            }\n            obj.scrollIntoView(prev);\n            if (event.preventDefault) event.preventDefault();\n          } else {\n            // if selected more then one, then select first\n            if (!shiftKey) {\n              if (sel.length > 1) {\n                obj.selectNone();\n              } else {\n                for (var s = 1; s < sel.length; s++) obj.unselect(sel[s]);\n              }\n            }\n          }\n          break;\n\n        case 40: // down\n          if (empty) selectTopRecord();\n          if (recEL.length <= 0) break;\n          // move to the next record\n          var next = obj.nextRow(ind2, columns[0]);\n          if (!shiftKey && next == null) {\n            if (this.searchData.length != 0 && !url) {\n              next = this.last.searchIds[this.last.searchIds.length - 1];\n            } else {\n              next = this.records.length - 1;\n            }\n          }\n          if (next != null) {\n            if (shiftKey && obj.multiSelect) { // expand selection\n              if (tmpUnselect()) return;\n              if (obj.selectType == 'row') {\n                if (this.last.sel_ind < next && this.last.sel_ind != ind) {\n                  obj.unselect(obj.records[ind].recid);\n                } else {\n                  obj.select(obj.records[next].recid);\n                }\n              } else {\n                if (this.last.sel_ind < next && this.last.sel_ind != ind) {\n                  next = ind;\n                  var tmp = [];\n                  for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[next].recid, column: columns[c] });\n                  obj.unselect(tmp);\n                } else {\n                  var tmp = [];\n                  for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[next].recid, column: columns[c] });\n                  obj.select(tmp);\n                }\n              }\n            } else { // move selected record\n              if (sel.length > 300) this.selectNone(); else this.unselect(sel);\n              obj.click({ recid: obj.records[next].recid, column: columns[0] }, event);\n            }\n            obj.scrollIntoView(next);\n            cancel = true;\n          } else {\n            // if selected more then one, then select first\n            if (!shiftKey) {\n              if (sel.length > 1) {\n                obj.selectNone();\n              } else {\n                for (var s = 0; s < sel.length - 1; s++) obj.unselect(sel[s]);\n              }\n            }\n          }\n          break;\n\n        // copy & paste\n\n        case 17: // ctrl key\n        case 91: // cmd key\n          // SLOW: 10k records take 7.0\n          if (empty) break;\n          // in Safari need to copy to buffer on cmd or ctrl key (otherwise does not work)\n          if (obj.last.isSafari) {\n            obj.last.copy_event = obj.copy(false, event);\n            $('#grid_' + obj.name + '_focus').val(obj.last.copy_event.text).select();\n          }\n          break;\n\n        case 67: // - c\n          // this fill trigger event.onComplete\n          if (event.metaKey || event.ctrlKey) {\n            if (obj.last.isSafari) {\n              obj.copy(obj.last.copy_event, event);\n            } else {\n              obj.last.copy_event = obj.copy(false, event);\n              $('#grid_' + obj.name + '_focus').val(obj.last.copy_event.text).select();\n              obj.copy(obj.last.copy_event, event);\n            }\n          }\n          break;\n\n        case 88: // x - cut\n          if (empty) break;\n          if (event.ctrlKey || event.metaKey) {\n            if (obj.last.isSafari) {\n              obj.copy(obj.last.copy_event, event);\n            } else {\n              obj.last.copy_event = obj.copy(false, event);\n              $('#grid_' + obj.name + '_focus').val(obj.last.copy_event.text).select();\n              obj.copy(obj.last.copy_event, event);\n            }\n          }\n          break;\n      }\n      var tmp = [32, 187, 189, 192, 219, 220, 221, 186, 222, 188, 190, 191]; // other typable chars\n      for (var i = 48; i <= 111; i++) tmp.push(i); // 0-9,a-z,A-Z,numpad\n      if (tmp.indexOf(key) != -1 && !event.ctrlKey && !event.metaKey && !cancel) {\n        if (columns.length === 0) columns.push(0);\n        cancel = false;\n        // move typed key into edit\n        setTimeout(function () {\n          var focus = $('#grid_' + obj.name + '_focus');\n          var key = focus.val();\n          focus.val('');\n          obj.editField(recid, columns[0], key, event);\n        }, 1);\n      }\n      if (cancel) { // cancel default behaviour\n        if (event.preventDefault) event.preventDefault();\n      }\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n\n      function selectTopRecord() {\n        var ind = Math.floor(records[0].scrollTop / obj.recordHeight) + 1;\n        if (!obj.records[ind] || ind < 2) ind = 0;\n        obj.select({ recid: obj.records[ind].recid, column: 0 });\n      }\n\n      function tmpUnselect() {\n        if (obj.last.sel_type != 'click') return false;\n        if (obj.selectType != 'row') {\n          obj.last.sel_type = 'key';\n          if (sel.length > 1) {\n            for (var s = 0; s < sel.length; s++) {\n              if (sel[s].recid == obj.last.sel_recid && sel[s].column == obj.last.sel_col) {\n                sel.splice(s, 1);\n                break;\n              }\n            }\n            obj.unselect(sel);\n            return true;\n          }\n          return false;\n        } else {\n          obj.last.sel_type = 'key';\n          if (sel.length > 1) {\n            sel.splice(sel.indexOf(obj.records[obj.last.sel_ind].recid), 1);\n            obj.unselect(sel);\n            return true;\n          }\n          return false;\n        }\n      }\n    },\n\n    scrollIntoView: function (ind, column, instant) {\n      var buffered = this.records.length;\n      if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n      if (buffered === 0) return;\n      if (ind == null) {\n        var sel = this.getSelection();\n        if (sel.length === 0) return;\n        if ($.isPlainObject(sel[0])) {\n          ind = sel[0].index;\n          column = sel[0].column;\n        } else {\n          ind = this.get(sel[0], true);\n        }\n      }\n      var records = $('#grid_' + this.name + '_records');\n      // if all records in view\n      var len = this.last.searchIds.length;\n      if (len > 0) ind = this.last.searchIds.indexOf(ind); // if search is applied\n\n      // vertical\n      if (records.height() < this.recordHeight * (len > 0 ? len : buffered) && records.length > 0) {\n        // scroll to correct one\n        var t1 = Math.floor(records[0].scrollTop / this.recordHeight);\n        var t2 = t1 + Math.floor(records.height() / this.recordHeight);\n        if (ind == t1) {\n          if (instant === true) {\n            records.prop({ 'scrollTop': records.scrollTop() - records.height() / 1.3 });\n          } else {\n            records.stop();\n            records.animate({ 'scrollTop': records.scrollTop() - records.height() / 1.3 }, 250, 'linear');\n          }\n        }\n        if (ind == t2) {\n          if (instant === true) {\n            records.prop({ 'scrollTop': records.scrollTop() + records.height() / 1.3 });\n          } else {\n            records.stop();\n            records.animate({ 'scrollTop': records.scrollTop() + records.height() / 1.3 }, 250, 'linear');\n          }\n        }\n        if (ind < t1 || ind > t2) {\n          if (instant === true) {\n            records.prop({ 'scrollTop': (ind - 1) * this.recordHeight });\n          } else {\n            records.stop();\n            records.animate({ 'scrollTop': (ind - 1) * this.recordHeight }, 250, 'linear');\n          }\n        }\n      }\n\n      // horizontal\n      if (column != null) {\n        var x1 = 0;\n        var x2 = 0;\n        var sb = w2utils.scrollBarSize();\n        for (var i = 0; i <= column; i++) {\n          var col = this.columns[i];\n          if (col.frozen || col.hidden) continue;\n          x1 = x2;\n          x2 += parseInt(col.sizeCalculated);\n        }\n        if (records.width() < x2 - records.scrollLeft()) { // right\n          if (instant === true) {\n            records.prop({ 'scrollLeft': x1 - sb });\n          } else {\n            records.animate({ 'scrollLeft': x1 - sb }, 250, 'linear');\n          }\n        } else if (x1 < records.scrollLeft()) { // left\n          if (instant === true) {\n            records.prop({ 'scrollLeft': x2 - records.width() + sb * 2 });\n          } else {\n            records.animate({ 'scrollLeft': x2 - records.width() + sb * 2 }, 250, 'linear');\n          }\n        }\n      }\n    },\n\n    dblClick: function (recid, event) {\n      // find columns\n      var column = null;\n      if ((typeof recid == 'object') && (recid !== null)) {\n        column = recid.column;\n        recid = recid.recid;\n      }\n      if (event == null) event = {};\n      // column user clicked on\n      if (column == null && event.target) {\n        var tmp = event.target;\n        if (tmp.tagName.toUpperCase() != 'TD') tmp = $(tmp).parents('td')[0];\n        column = parseInt($(tmp).attr('col'));\n      }\n      var index = this.get(recid, true);\n      var rec = this.records[index];\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'dblClick', recid: recid, column: column, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default action\n      this.selectNone();\n      var edit = this.getCellEditable(index, column);\n      if (edit) {\n        this.editField(recid, column, null, event);\n      } else {\n        this.select({ recid: recid, column: column });\n        if (this.show.expandColumn || (rec.w2ui && Array.isArray(rec.w2ui.children))) this.toggle(recid);\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    contextMenu: function (recid, column, event) {\n      var obj = this;\n      if (obj.last.userSelect == 'text') return;\n      if (event == null) event = { offsetX: 0, offsetY: 0, target: $('#grid_' + obj.name + '_rec_' + recid)[0] };\n      if (event.offsetX == null) {\n        event.offsetX = event.layerX - event.target.offsetLeft;\n        event.offsetY = event.layerY - event.target.offsetTop;\n      }\n      if (w2utils.isFloat(recid)) recid = parseFloat(recid);\n      var sel = this.getSelection();\n      if (this.selectType == 'row') {\n        if (sel.indexOf(recid) == -1) obj.click(recid);\n      } else {\n        var $tmp = $(event.target);\n        if ($tmp[0].tagName.toUpperCase() != 'TD') $tmp = $(event.target).parents('td');\n        var selected = false;\n        column = $tmp.attr('col');\n        // check if any selected sel in the right row/column\n        for (var i = 0; i < sel.length; i++) {\n          if (sel[i].recid == recid || sel[i].column == column) selected = true;\n        }\n        if (!selected && recid != null) obj.click({ recid: recid, column: column });\n        if (!selected && column != null) obj.columnClick(this.columns[column].field, event);\n      }\n      // event before\n      var edata = obj.trigger({ phase: 'before', type: 'contextMenu', target: obj.name, originalEvent: event, recid: recid, column: column });\n      if (edata.isCancelled === true) return;\n      // default action\n      if (obj.menu.length > 0) {\n        $(obj.box).find(event.target)\n          .w2menu(obj.menu, {\n            originalEvent: event,\n            contextMenu: true,\n            onSelect: function (event) {\n              obj.menuClick(recid, event);\n            }\n          }\n          );\n      }\n      // cancel event\n      if (event.preventDefault) event.preventDefault();\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    menuClick: function (recid, event) {\n      var obj = this;\n      // event before\n      var edata = obj.trigger({\n        phase: 'before', type: 'menuClick', target: obj.name,\n        originalEvent: event.originalEvent, menuEvent: event,\n        recid: recid, menuIndex: event.index, menuItem: event.item\n      });\n      if (edata.isCancelled === true) return;\n      // default action\n      // -- empty\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    toggle: function (recid) {\n      var rec = this.get(recid);\n      rec.w2ui = rec.w2ui || {};\n      if (rec.w2ui.expanded === true) return this.collapse(recid); else return this.expand(recid);\n    },\n\n    expand: function (recid) {\n      var obj = this;\n      var ind = this.get(recid, true);\n      var rec = this.records[ind];\n      rec.w2ui = rec.w2ui || {};\n      var id = w2utils.escapeId(recid);\n      var children = rec.w2ui.children;\n      if (Array.isArray(children)) {\n        if (rec.w2ui.expanded === true || children.length === 0) return false; // already shown\n        var edata = this.trigger({ phase: 'before', type: 'expand', target: this.name, recid: recid });\n        if (edata.isCancelled === true) return false;\n        rec.w2ui.expanded = true;\n        children.forEach(function (child) {\n          child.w2ui = child.w2ui || {};\n          child.w2ui.parent_recid = rec.recid;\n          if (child.w2ui.children == null) child.w2ui.children = [];\n        });\n        this.records.splice.apply(this.records, [ind + 1, 0].concat(children));\n        this.total += children.length;\n        var url = (typeof this.url != 'object' ? this.url : this.url.get);\n        if (!url) {\n          this.localSort(true, true);\n          if (this.searchData.length > 0) {\n            this.localSearch(true);\n          }\n        }\n        this.refresh();\n        this.trigger($.extend(edata, { phase: 'after' }));\n      } else {\n        if ($('#grid_' + this.name + '_rec_' + id + '_expanded_row').length > 0 || this.show.expandColumn !== true) return false;\n        if (rec.w2ui.expanded == 'none') return false;\n        // insert expand row\n        $('#grid_' + this.name + '_rec_' + id).after(\n          '<tr id=\"grid_' + this.name + '_rec_' + recid + '_expanded_row\" class=\"w2ui-expanded-row\">' +\n          '    <td colspan=\"100\" class=\"w2ui-expanded2\">' +\n          '        <div id=\"grid_' + this.name + '_rec_' + recid + '_expanded\"></div>' +\n          '    </td>' +\n          '    <td class=\"w2ui-grid-data-last\"></td>' +\n          '</tr>');\n\n        $('#grid_' + this.name + '_frec_' + id).after(\n          '<tr id=\"grid_' + this.name + '_frec_' + recid + '_expanded_row\" class=\"w2ui-expanded-row\">' +\n          (this.show.lineNumbers ? '<td class=\"w2ui-col-number\"></td>' : '') +\n          '    <td class=\"w2ui-grid-data w2ui-expanded1\" colspan=\"100\">' +\n          '       <div id=\"grid_' + this.name + '_frec_' + recid + '_expanded\"></div>' +\n          '   </td>' +\n          '</tr>');\n\n        // event before\n        var edata = this.trigger({\n          phase: 'before', type: 'expand', target: this.name, recid: recid,\n          box_id: 'grid_' + this.name + '_rec_' + recid + '_expanded', fbox_id: 'grid_' + this.name + '_frec_' + id + '_expanded'\n        });\n        if (edata.isCancelled === true) {\n          $('#grid_' + this.name + '_rec_' + id + '_expanded_row').remove();\n          $('#grid_' + this.name + '_frec_' + id + '_expanded_row').remove();\n          return false;\n        }\n        // expand column\n        var row1 = $(this.box).find('#grid_' + this.name + '_rec_' + recid + '_expanded');\n        var row2 = $(this.box).find('#grid_' + this.name + '_frec_' + recid + '_expanded');\n        var innerHeight = row1.find('> div:first-child').height();\n        if (row1.height() < innerHeight) {\n          row1.css({ height: innerHeight + 'px' });\n        }\n        if (row2.height() < innerHeight) {\n          row2.css({ height: innerHeight + 'px' });\n        }\n        // default action\n        $('#grid_' + this.name + '_rec_' + id).attr('expanded', 'yes').addClass('w2ui-expanded');\n        $('#grid_' + this.name + '_frec_' + id).attr('expanded', 'yes').addClass('w2ui-expanded');\n        // $('#grid_'+ this.name +'_rec_'+ id +'_expanded_row').show();\n        $('#grid_' + this.name + '_cell_' + this.get(recid, true) + '_expand div').html('-');\n        rec.w2ui.expanded = true;\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n        this.resizeRecords();\n      }\n      return true;\n    },\n\n    collapse: function (recid) {\n      var obj = this;\n      var ind = this.get(recid, true);\n      var rec = this.records[ind];\n      rec.w2ui = rec.w2ui || {};\n      var id = w2utils.escapeId(recid);\n      var children = rec.w2ui.children;\n      if (Array.isArray(children)) {\n        if (rec.w2ui.expanded !== true) return false; // already hidden\n        var edata = this.trigger({ phase: 'before', type: 'collapse', target: this.name, recid: recid });\n        if (edata.isCancelled === true) return false;\n        clearExpanded(rec);\n        var stops = [];\n        for (var r = rec; r != null; r = this.get(r.w2ui.parent_recid))\n          stops.push(r.w2ui.parent_recid);\n        // stops contains 'undefined' plus the ID of all nodes in the path from 'rec' to the tree root\n        var start = ind + 1;\n        var end = start;\n        while (true) {\n          if (this.records.length <= end + 1 || this.records[end + 1].w2ui == null ||\n            stops.indexOf(this.records[end + 1].w2ui.parent_recid) >= 0) {\n            break;\n          }\n          end++;\n        }\n        this.records.splice(start, end - start + 1);\n        this.total -= end - start + 1;\n        var url = (typeof this.url != 'object' ? this.url : this.url.get);\n        if (!url) {\n          if (this.searchData.length > 0) {\n            this.localSearch(true);\n          }\n        }\n        this.refresh();\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      } else {\n        if ($('#grid_' + this.name + '_rec_' + id + '_expanded_row').length === 0 || this.show.expandColumn !== true) return false;\n        // event before\n        var edata = this.trigger({\n          phase: 'before', type: 'collapse', target: this.name, recid: recid,\n          box_id: 'grid_' + this.name + '_rec_' + id + '_expanded', fbox_id: 'grid_' + this.name + '_frec_' + id + '_expanded'\n        });\n        if (edata.isCancelled === true) return false;\n        // default action\n        $('#grid_' + this.name + '_rec_' + id).removeAttr('expanded').removeClass('w2ui-expanded');\n        $('#grid_' + this.name + '_frec_' + id).removeAttr('expanded').removeClass('w2ui-expanded');\n        $('#grid_' + this.name + '_cell_' + this.get(recid, true) + '_expand div').html('+');\n        $('#grid_' + obj.name + '_rec_' + id + '_expanded').css('height', '0px');\n        $('#grid_' + obj.name + '_frec_' + id + '_expanded').css('height', '0px');\n        setTimeout(function () {\n          $('#grid_' + obj.name + '_rec_' + id + '_expanded_row').remove();\n          $('#grid_' + obj.name + '_frec_' + id + '_expanded_row').remove();\n          rec.w2ui.expanded = false;\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n          obj.resizeRecords();\n        }, 300);\n      }\n      return true;\n\n      function clearExpanded(rec) {\n        rec.w2ui.expanded = false;\n        for (var i = 0; i < rec.w2ui.children.length; i++) {\n          var subRec = rec.w2ui.children[i];\n          if (subRec.w2ui.expanded) {\n            clearExpanded(subRec);\n          }\n        }\n      }\n    },\n\n    sort: function (field, direction, multiField) { // if no params - clears sort\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'sort', target: this.name, field: field, direction: direction, multiField: multiField });\n      if (edata.isCancelled === true) return;\n      // check if needed to quit\n      if (field != null) {\n        // default action\n        var sortIndex = this.sortData.length;\n        for (var s = 0; s < this.sortData.length; s++) {\n          if (this.sortData[s].field == field) { sortIndex = s; break; }\n        }\n        if (direction == null) {\n          if (this.sortData[sortIndex] == null) {\n            direction = 'asc';\n          } else {\n            if (this.sortData[sortIndex].direction == null) {\n              this.sortData[sortIndex].direction = '';\n            }\n            switch (this.sortData[sortIndex].direction.toLowerCase()) {\n              case 'asc': direction = 'desc'; break;\n              case 'desc': direction = 'asc'; break;\n              default: direction = 'asc'; break;\n            }\n          }\n        }\n        if (this.multiSort === false) { this.sortData = []; sortIndex = 0; }\n        if (multiField != true) { this.sortData = []; sortIndex = 0; }\n        // set new sort\n        if (this.sortData[sortIndex] == null) this.sortData[sortIndex] = {};\n        this.sortData[sortIndex].field = field;\n        this.sortData[sortIndex].direction = direction;\n      } else {\n        this.sortData = [];\n      }\n      // if local\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (!url) {\n        this.localSort(true, true);\n        if (this.searchData.length > 0) this.localSearch(true);\n        // reset vertical scroll\n        this.last.scrollTop = 0;\n        $('#grid_' + this.name + '_records').prop('scrollTop', 0);\n        // event after\n        this.trigger($.extend(edata, { phase: 'after', direction: direction }));\n        this.refresh();\n      } else {\n        // event after\n        this.trigger($.extend(edata, { phase: 'after', direction: direction }));\n        this.last.xhr_offset = 0;\n        this.reload();\n      }\n    },\n\n    copy: function (flag, oEvent) {\n      if ($.isPlainObject(flag)) {\n        // event after\n        this.trigger($.extend(flag, { phase: 'after' }));\n        return flag.text;\n      }\n      // generate text to copy\n      var sel = this.getSelection();\n      if (sel.length === 0) return '';\n      var text = '';\n      if (typeof sel[0] == 'object') { // cell copy\n        // find min/max column\n        var minCol = sel[0].column;\n        var maxCol = sel[0].column;\n        var recs = [];\n        for (var s = 0; s < sel.length; s++) {\n          if (sel[s].column < minCol) minCol = sel[s].column;\n          if (sel[s].column > maxCol) maxCol = sel[s].column;\n          if (recs.indexOf(sel[s].index) == -1) recs.push(sel[s].index);\n        }\n        recs.sort(function (a, b) { return a - b; }); // sort function must be for numerical sort\n        for (var r = 0; r < recs.length; r++) {\n          var ind = recs[r];\n          for (var c = minCol; c <= maxCol; c++) {\n            var col = this.columns[c];\n            if (col.hidden === true) continue;\n            text += this.getCellCopy(ind, c) + '\\t';\n          }\n          text = text.substr(0, text.length - 1); // remove last \\t\n          text += '\\n';\n        }\n      } else { // row copy\n        // copy headers\n        for (var c = 0; c < this.columns.length; c++) {\n          var col = this.columns[c];\n          if (col.hidden === true) continue;\n          var colName = (col.text ? col.text : col.field);\n          if (col.text && col.text.length < 3 && col.tooltip) colName = col.tooltip; // if column name is less then 3 char and there is tooltip - use it\n          text += '\"' + w2utils.stripTags(colName) + '\"\\t';\n        }\n        text = text.substr(0, text.length - 1); // remove last \\t\n        text += '\\n';\n        // copy selected text\n        for (var s = 0; s < sel.length; s++) {\n          var ind = this.get(sel[s], true);\n          for (var c = 0; c < this.columns.length; c++) {\n            var col = this.columns[c];\n            if (col.hidden === true) continue;\n            text += '\"' + this.getCellCopy(ind, c) + '\"\\t';\n          }\n          text = text.substr(0, text.length - 1); // remove last \\t\n          text += '\\n';\n        }\n      }\n      text = text.substr(0, text.length - 1);\n\n      // if called without params\n      if (flag == null) {\n        // before event\n        var edata = this.trigger({\n          phase: 'before', type: 'copy', target: this.name, text: text,\n          cut: (oEvent.keyCode == 88 ? true : false), originalEvent: oEvent\n        });\n        if (edata.isCancelled === true) return '';\n        text = edata.text;\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n        return text;\n      } else if (flag === false) { // only before event\n        // before event\n        var edata = this.trigger({\n          phase: 'before', type: 'copy', target: this.name, text: text,\n          cut: (oEvent.keyCode == 88 ? true : false), originalEvent: oEvent\n        });\n        if (edata.isCancelled === true) return '';\n        text = edata.text;\n        return edata;\n      }\n    },\n\n    /**\n     * Gets value to be copied to the clipboard\n     * @param ind index of the record\n     * @param col_ind index of the column\n     * @returns the displayed value of the field's record associated with the cell\n     */\n    getCellCopy: function (ind, col_ind) {\n      return w2utils.stripTags(this.getCellHTML(ind, col_ind));\n    },\n\n    paste: function (text) {\n      var sel = this.getSelection();\n      var ind = this.get(sel[0].recid, true);\n      var col = sel[0].column;\n      // before event\n      var edata = this.trigger({ phase: 'before', type: 'paste', target: this.name, text: text, index: ind, column: col });\n      if (edata.isCancelled === true) return;\n      text = edata.text;\n      // default action\n      if (this.selectType == 'row' || sel.length === 0) {\n        console.log('ERROR: You can paste only if grid.selectType = \\'cell\\' and when at least one cell selected.');\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n        return;\n      }\n      var newSel = [];\n      var text = text.split('\\n');\n      for (var t = 0; t < text.length; t++) {\n        var tmp = text[t].split('\\t');\n        var cnt = 0;\n        var rec = this.records[ind];\n        var cols = [];\n        if (rec == null) continue;\n        for (var dt = 0; dt < tmp.length; dt++) {\n          if (!this.columns[col + cnt]) continue;\n          this.setCellPaste(rec, col + cnt, tmp[dt]);\n          cols.push(col + cnt);\n          cnt++;\n        }\n        for (var c = 0; c < cols.length; c++) newSel.push({ recid: rec.recid, column: cols[c] });\n        ind++;\n      }\n      this.selectNone();\n      this.select(newSel);\n      this.refresh();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    /**\n     * Sets record field using clipboard text\n     * @param rec record\n     * @param col_ind column index\n     * @param paste sub part of the pasted text\n     */\n    setCellPaste: function (rec, col_ind, paste) {\n      var field = this.columns[col_ind].field;\n      rec.w2ui = rec.w2ui || {};\n      rec.w2ui.changes = rec.w2ui.changes || {};\n      rec.w2ui.changes[field] = paste;\n    },\n\n    // ==================================================\n    // --- Common functions\n\n    resize: function () {\n      var obj = this;\n      var time = (new Date()).getTime();\n      // make sure the box is right\n      if (!this.box || $(this.box).attr('name') != this.name) return;\n      // determine new width and height\n      $(this.box).find('> div.w2ui-grid-box')\n        .css('width', $(this.box).width())\n        .css('height', $(this.box).height());\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n      if (edata.isCancelled === true) return;\n      // resize\n      obj.resizeBoxes();\n      obj.resizeRecords();\n      if (obj.toolbar && obj.toolbar.resize) obj.toolbar.resize();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    update: function (cells) {\n      var time = (new Date()).getTime();\n      if (this.box == null) return 0;\n      if (cells == null) {\n        for (var index = this.last.range_start - 1; index <= this.last.range_end - 1; index++) {\n          if (index < 0) continue;\n          var rec = this.records[index] || {};\n          if (!rec.w2ui) rec.w2ui = {};\n          for (var column = 0; column < this.columns.length; column++) {\n            var row = $(this.box).find('#grid_' + this.name + '_rec_' + w2utils.escapeId(rec.recid));\n            var cell = $(this.box).find('#grid_' + this.name + '_data_' + index + '_' + column);\n            cell.replaceWith(this.getCellHTML(index, column, false));\n            cell = $(this.box).find('#grid_' + this.name + '_data_' + index + '_' + column); // need to reselect as it was replaced\n            // assign style\n            if (rec.w2ui.style != null && !$.isEmptyObject(rec.w2ui.style)) {\n              if (typeof rec.w2ui.style == 'string') {\n                row.attr('style', rec.w2ui.style);\n              }\n              if ($.isPlainObject(rec.w2ui.style) && typeof rec.w2ui.style[column] == 'string') {\n                cell.attr('style', rec.w2ui.style[column]);\n              }\n            } else {\n              cell.attr('style', '');\n            }\n            // assign class\n            if (rec.w2ui.class != null && !$.isEmptyObject(rec.w2ui.class)) {\n              if (typeof rec.w2ui.class == 'string') {\n                row.addClass(rec.w2ui.class);\n              }\n              if ($.isPlainObject(rec.w2ui.class) && typeof rec.w2ui.class[column] == 'string') {\n                cell.addClass(rec.w2ui.class[column]);\n              }\n            }\n          }\n        }\n\n      } else {\n\n        for (var i = 0; i < cells.length; i++) {\n          var index = cells[i].index;\n          var column = cells[i].column;\n          if (index < 0) continue;\n          if (index == null || column == null) {\n            console.log('ERROR: Wrong argument for grid.update(cells), cells should be [{ index: X, column: Y }, ...]');\n            continue;\n          }\n          var rec = this.records[index] || {};\n          var row = $(this.box).find('#grid_' + this.name + '_rec_' + w2utils.escapeId(rec.recid));\n          var cell = $(this.box).find('#grid_' + this.name + '_data_' + index + '_' + column);\n          if (!rec.w2ui) rec.w2ui = {};\n          cell.replaceWith(this.getCellHTML(index, column, false));\n          cell = $(this.box).find('#grid_' + this.name + '_data_' + index + '_' + column); // need to reselect as it was replaced\n          // assign style\n          if (rec.w2ui.style != null && !$.isEmptyObject(rec.w2ui.style)) {\n            if (typeof rec.w2ui.style == 'string') {\n              row.attr('style', rec.w2ui.style);\n            }\n            if ($.isPlainObject(rec.w2ui.style) && typeof rec.w2ui.style[column] == 'string') {\n              cell.attr('style', rec.w2ui.style[column]);\n            }\n          } else {\n            cell.attr('style', '');\n          }\n          // assign class\n          if (rec.w2ui.class != null && !$.isEmptyObject(rec.w2ui.class)) {\n            if (typeof rec.w2ui.class == 'string') {\n              row.addClass(rec.w2ui.class);\n            }\n            if ($.isPlainObject(rec.w2ui.class) && typeof rec.w2ui.class[column] == 'string') {\n              cell.addClass(rec.w2ui.class[column]);\n            }\n          }\n        }\n      }\n      return (new Date()).getTime() - time;\n    },\n\n    refreshCell: function (recid, field) {\n      var index = this.get(recid, true);\n      var col_ind = this.getColumn(field, true);\n      var isSummary = (this.records[index] && this.records[index].recid == recid ? false : true);\n      var cell = $(this.box).find((isSummary ? '.w2ui-grid-summary ' : '') + '#grid_' + this.name + '_data_' + index + '_' + col_ind);\n      if (cell.length == 0) return false;\n      // set cell html and changed flag\n      cell.replaceWith(this.getCellHTML(index, col_ind, isSummary));\n    },\n\n    refreshRow: function (recid, ind) {\n      var tr1 = $(this.box).find('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid));\n      var tr2 = $(this.box).find('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid));\n      if (tr1.length > 0) {\n        if (ind == null) ind = this.get(recid, true);\n        var line = tr1.attr('line');\n        var isSummary = (this.records[ind] && this.records[ind].recid == recid ? false : true);\n        // if it is searched, find index in search array\n        var url = (typeof this.url != 'object' ? this.url : this.url.get);\n        if (this.searchData.length > 0 && !url) for (var s = 0; s < this.last.searchIds.length; s++) if (this.last.searchIds[s] == ind) ind = s;\n        var rec_html = this.getRecordHTML(ind, line, isSummary);\n        $(tr1).replaceWith(rec_html[0]);\n        $(tr2).replaceWith(rec_html[1]);\n        // apply style to row if it was changed in render functions\n        var st = (this.records[ind].w2ui ? this.records[ind].w2ui.style : '');\n        if (typeof st == 'string') {\n          var tr1 = $(this.box).find('#grid_' + this.name + '_frec_' + w2utils.escapeId(recid));\n          var tr2 = $(this.box).find('#grid_' + this.name + '_rec_' + w2utils.escapeId(recid));\n          tr1.attr('custom_style', st);\n          tr2.attr('custom_style', st);\n          if (tr1.hasClass('w2ui-selected')) {\n            st = st.replace('background-color', 'none');\n          }\n          tr1[0].style.cssText = 'height: ' + this.recordHeight + 'px;' + st;\n          tr2[0].style.cssText = 'height: ' + this.recordHeight + 'px;' + st;\n        }\n        if (isSummary) {\n          this.resize();\n        }\n      }\n    },\n\n    refresh: function () {\n      var obj = this;\n      var time = (new Date()).getTime();\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (this.total <= 0 && !url && this.searchData.length === 0) {\n        this.total = this.records.length;\n      }\n      this.toolbar.disable('w2ui-edit', 'w2ui-delete');\n      if (!this.box) return;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'refresh' });\n      if (edata.isCancelled === true) return;\n      // -- header\n      if (this.show.header) {\n        $('#grid_' + this.name + '_header').html(this.header + '&#160;').show();\n      } else {\n        $('#grid_' + this.name + '_header').hide();\n      }\n      // -- toolbar\n      if (this.show.toolbar) {\n        // if select-collumn is checked - no toolbar refresh\n        if (this.toolbar && this.toolbar.get('w2ui-column-on-off') && this.toolbar.get('w2ui-column-on-off').checked) {\n          // no action\n        } else {\n          $('#grid_' + this.name + '_toolbar').show();\n          // refresh toolbar all but search field\n          if (typeof this.toolbar == 'object') {\n            var tmp = this.toolbar.items;\n            for (var t = 0; t < tmp.length; t++) {\n              if (tmp[t].id == 'w2ui-search' || tmp[t].type == 'break') continue;\n              this.toolbar.refresh(tmp[t].id);\n            }\n          }\n        }\n      } else {\n        $('#grid_' + this.name + '_toolbar').hide();\n      }\n      // -- make sure search is closed\n      this.searchClose();\n      // search placeholder\n      var el = $('#grid_' + obj.name + '_search_all');\n      if (!this.multiSearch && this.last.field == 'all' && this.searches.length > 0) {\n        this.last.field = this.searches[0].field;\n        this.last.label = this.searches[0].label;\n      }\n      for (var s = 0; s < this.searches.length; s++) {\n        if (this.searches[s].field == this.last.field) this.last.label = this.searches[s].label;\n      }\n      if (this.last.multi) {\n        el.attr('placeholder', '[' + w2utils.lang('Multiple Fields') + ']');\n        el.w2field('clear');\n      } else {\n        el.attr('placeholder', w2utils.lang(this.last.label));\n      }\n      if (el.val() != this.last.search) {\n        var val = this.last.search;\n        var tmp = el.data('w2field');\n        if (tmp) val = tmp.format(val);\n        el.val(val);\n      }\n\n      // -- body\n      obj.refreshBody();\n\n      // -- footer\n      if (this.show.footer) {\n        $('#grid_' + this.name + '_footer').html(this.getFooterHTML()).show();\n      } else {\n        $('#grid_' + this.name + '_footer').hide();\n      }\n      // show/hide clear search link\n      var $clear = $('#grid_' + this.name + '_searchClear');\n      $clear.hide();\n      this.searchData.some(function (item) {\n        var tmp = obj.getSearch(item.field);\n        if (obj.last.multi || (tmp && !tmp.hidden && ['list', 'enum'].indexOf(tmp.type) == -1)) {\n          $clear.show();\n          return true;\n        }\n      });\n      // all selected?\n      var sel = this.last.selection,\n        areAllSelected = (this.records.length > 0 && sel.indexes.length == this.records.length),\n        areAllSearchedSelected = (sel.indexes.length > 0 && this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length);\n      if (areAllSelected || areAllSearchedSelected) {\n        $('#grid_' + this.name + '_check_all').prop('checked', true);\n      } else {\n        $('#grid_' + this.name + '_check_all').prop('checked', false);\n      }\n      // show number of selected\n      this.status();\n      // collapse all records\n      var rows = obj.find({ 'w2ui.expanded': true }, true);\n      for (var r = 0; r < rows.length; r++) {\n        var tmp = obj.records[rows[r]].w2ui;\n        if (tmp && !Array.isArray(tmp.children)) {\n          tmp.expanded = false;\n        }\n      }\n      // mark selection\n      if (obj.markSearch) {\n        setTimeout(function () {\n          // mark all search strings\n          var search = [];\n          for (var s = 0; s < obj.searchData.length; s++) {\n            var sdata = obj.searchData[s];\n            var fld = obj.getSearch(sdata.field);\n            if (!fld || fld.hidden) continue;\n            var ind = obj.getColumn(sdata.field, true);\n            search.push({ field: sdata.field, search: sdata.value, col: ind });\n          }\n          if (search.length > 0) {\n            search.forEach(function (item) {\n              $(obj.box).find('td[col=\"' + item.col + '\"]').not('.w2ui-head').w2marker(item.search);\n            });\n          }\n        }, 50);\n      }\n      // enable/disable toolbar search button\n      if (this.show.toolbarSave) {\n        if (this.getChanges().length > 0) this.toolbar.enable('w2ui-save'); else this.toolbar.disable('w2ui-save');\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      obj.resize();\n      obj.addRange('selection');\n      setTimeout(function () { // allow to render first\n        obj.resize(); // needed for horizontal scroll to show (do not remove)\n        obj.scroll();\n      }, 1);\n\n      if (obj.reorderColumns && !obj.last.columnDrag) {\n        obj.last.columnDrag = obj.initColumnDrag();\n      } else if (!obj.reorderColumns && obj.last.columnDrag) {\n        obj.last.columnDrag.remove();\n      }\n      return (new Date()).getTime() - time;\n    },\n\n    refreshBody: function () {\n      // -- separate summary\n      var obj = this,\n        tmp = this.find({ 'w2ui.summary': true }, true);\n      if (tmp.length > 0) {\n        for (var t = 0; t < tmp.length; t++) this.summary.push(this.records[tmp[t]]);\n        for (var t = tmp.length - 1; t >= 0; t--) this.records.splice(tmp[t], 1);\n      }\n\n      // -- body\n      this.scroll(); // need to calculate virtual scolling for columns\n      var recHTML = this.getRecordsHTML();\n      var colHTML = this.getColumnsHTML();\n      var bodyHTML =\n        '<div id=\"grid_' + this.name + '_frecords\" class=\"w2ui-grid-frecords\" style=\"margin-bottom: ' + (w2utils.scrollBarSize() - 1) + 'px;\">' +\n        recHTML[0] +\n        '</div>' +\n        '<div id=\"grid_' + this.name + '_records\" class=\"w2ui-grid-records\" onscroll=\"w2ui[\\'' + this.name + '\\'].scroll(event);\">' +\n        recHTML[1] +\n        '</div>' +\n        '<div id=\"grid_' + this.name + '_scroll1\" class=\"w2ui-grid-scroll1\" style=\"height: ' + w2utils.scrollBarSize() + 'px\"></div>' +\n        // Columns need to be after to be able to overlap\n        '<div id=\"grid_' + this.name + '_fcolumns\" class=\"w2ui-grid-fcolumns\">' +\n        '    <table><tbody>' + colHTML[0] + '</tbody></table>' +\n        '</div>' +\n        '<div id=\"grid_' + this.name + '_columns\" class=\"w2ui-grid-columns\">' +\n        '    <table><tbody>' + colHTML[1] + '</tbody></table>' +\n        '</div>';\n\n      var gridBody = $('#grid_' + this.name + '_body', obj.box).html(bodyHTML),\n        records = $('#grid_' + this.name + '_records', obj.box);\n      var frecords = $('#grid_' + this.name + '_frecords', obj.box);\n      var self = this;\n      if (this.selectType == 'row') {\n        records\n          .on('mouseover mouseout', 'tr', function (event) {\n            $('#grid_' + self.name + '_frec_' + w2utils.escapeId($(this).attr('recid'))).toggleClass('w2ui-record-hover', event.type == 'mouseover')\n          })\n        frecords\n          .on('mouseover mouseout', 'tr', function (event) {\n            $('#grid_' + self.name + '_rec_' + w2utils.escapeId($(this).attr('recid'))).toggleClass('w2ui-record-hover', event.type == 'mouseover')\n          })\n      }\n      if (w2utils.isIOS)\n        records.add(frecords)\n          .on('click', 'tr', function (ev) {\n            self.dblClick($(this).attr('recid'), ev);\n          })\n      else\n        records.add(frecords)\n          .on('click', 'tr', function (ev) {\n            self.click($(this).attr('recid'), ev);\n          })\n          .on('contextmenu', 'tr', function (ev) {\n            self.contextMenu($(this).attr('recid'), null, ev);\n          })\n\n      // enable scrolling on frozen records,\n      gridBody.data('scrolldata', { lastTime: 0, lastDelta: 0, time: 0 })\n        .find('.w2ui-grid-frecords')\n        .on(\"mousewheel DOMMouseScroll \", function (event) {\n          event.preventDefault();\n\n          var e = event.originalEvent,\n            scrolldata = gridBody.data('scrolldata'),\n            recordsContainer = $(this).siblings('.w2ui-grid-records').addBack().filter('.w2ui-grid-records'),\n            amount = typeof e.wheelDelta != null ? e.wheelDelta * -1 / 120 : (e.detail || e.deltaY) / 3, // normalizing scroll speed\n            newScrollTop = recordsContainer.scrollTop();\n\n          scrolldata.time = +new Date();\n\n          if (scrolldata.lastTime < scrolldata.time - 150) {\n            scrolldata.lastDelta = 0;\n          }\n\n          scrolldata.lastTime = scrolldata.time;\n          scrolldata.lastDelta += amount;\n\n          if (Math.abs(scrolldata.lastDelta) < 1) {\n            amount = 0;\n          } else {\n            amount = Math.round(scrolldata.lastDelta);\n          }\n          gridBody.data('scrolldata', scrolldata);\n\n          // make scroll amount dependent on visible rows\n          amount *= (Math.round(records.height() / obj.recordHeight) - 1) * obj.recordHeight / 4;\n          recordsContainer.stop().animate({ 'scrollTop': newScrollTop + amount }, 250, 'linear');\n        });\n\n      if (this.records.length === 0 && this.msgEmpty) {\n        $('#grid_' + this.name + '_body')\n          .append('<div id=\"grid_' + this.name + '_empty_msg\" class=\"w2ui-grid-empty-msg\"><div>' + this.msgEmpty + '</div></div>');\n      } else if ($('#grid_' + this.name + '_empty_msg').length > 0) {\n        $('#grid_' + this.name + '_empty_msg').remove();\n      }\n      // show summary records\n      if (this.summary.length > 0) {\n        var sumHTML = this.getSummaryHTML();\n        $('#grid_' + this.name + '_fsummary').html(sumHTML[0]).show();\n        $('#grid_' + this.name + '_summary').html(sumHTML[1]).show();\n      } else {\n        $('#grid_' + this.name + '_fsummary').hide();\n        $('#grid_' + this.name + '_summary').hide();\n      }\n    },\n\n    render: function (box) {\n      var obj = this;\n      var time = (new Date()).getTime();\n      if (box != null) {\n        if ($(this.box).find('#grid_' + this.name + '_body').length > 0) {\n          $(this.box)\n            .removeAttr('name')\n            .removeClass('w2ui-reset w2ui-grid w2ui-inactive')\n            .html('');\n        }\n        this.box = box;\n      }\n      if (!this.box) return;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'render', box: box });\n      if (edata.isCancelled === true) return;\n      // reset needed if grid existed\n      this.reset(true);\n      // --- default search field\n      if (!this.last.field) {\n        if (!this.multiSearch || !this.show.searchAll) {\n          var tmp = 0;\n          while (tmp < this.searches.length && (this.searches[tmp].hidden || this.searches[tmp].simple === false)) tmp++;\n          if (tmp >= this.searches.length) {\n            // all searches are hidden\n            this.last.field = '';\n            this.last.label = '';\n          } else {\n            this.last.field = this.searches[tmp].field;\n            this.last.label = this.searches[tmp].label;\n          }\n        } else {\n          this.last.field = 'all';\n          this.last.label = w2utils.lang('All Fields');\n        }\n      }\n      // insert elements\n      $(this.box)\n        .attr('name', this.name)\n        .addClass('w2ui-reset w2ui-grid w2ui-inactive')\n        .html('<div class=\"w2ui-grid-box\">' +\n          '    <div id=\"grid_' + this.name + '_header\" class=\"w2ui-grid-header\"></div>' +\n          '    <div id=\"grid_' + this.name + '_toolbar\" class=\"w2ui-grid-toolbar\"></div>' +\n          '    <div id=\"grid_' + this.name + '_body\" class=\"w2ui-grid-body\"></div>' +\n          '    <div id=\"grid_' + this.name + '_fsummary\" class=\"w2ui-grid-body w2ui-grid-summary\"></div>' +\n          '    <div id=\"grid_' + this.name + '_summary\" class=\"w2ui-grid-body w2ui-grid-summary\"></div>' +\n          '    <div id=\"grid_' + this.name + '_footer\" class=\"w2ui-grid-footer\"></div>' +\n          '    <textarea id=\"grid_' + this.name + '_focus\" class=\"w2ui-grid-focus-input\" ' +\n          (w2utils.isIOS ? 'readonly' : '') + '></textarea>' + // readonly needed on android not to open keyboard\n          '</div>');\n      if (this.selectType != 'row') $(this.box).addClass('w2ui-ss');\n      if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n      // init toolbar\n      this.initToolbar();\n      if (this.toolbar != null) this.toolbar.render($('#grid_' + this.name + '_toolbar')[0]);\n      // reinit search_all\n      if (this.last.field && this.last.field != 'all') {\n        var sd = this.searchData;\n        setTimeout(function () { obj.initAllField(obj.last.field, (sd.length == 1 ? sd[0].value : null)); }, 1);\n      }\n      // init footer\n      $('#grid_' + this.name + '_footer').html(this.getFooterHTML());\n      // refresh\n      if (!this.last.state) this.last.state = this.stateSave(true); // initial default state\n      this.stateRestore();\n      if (url) { this.clear(); this.refresh(); } // show empty grid (need it) - should it be only for remote data source\n      // if hidden searches - apply it\n      var hasHiddenSearches = false;\n      for (var i = 0; i < this.searches.length; i++) {\n        if (this.searches[i].hidden) { hasHiddenSearches = true; break; }\n      }\n      if (hasHiddenSearches) {\n        this.searchReset(false); // will call reload\n        if (!url) setTimeout(function () { obj.searchReset(); }, 1);\n      } else {\n        this.reload();\n      }\n      // focus\n      $(this.box).find('#grid_' + this.name + '_focus')\n        .on('focus', function (event) {\n          clearTimeout(obj.last.kbd_timer);\n          if (!obj.hasFocus) obj.focus();\n        })\n        .on('blur', function (event) {\n          clearTimeout(obj.last.kbd_timer);\n          obj.last.kbd_timer = setTimeout(function () {\n            if (obj.hasFocus) { obj.blur(); }\n          }, 100); // need this timer to be 100 ms\n        })\n        .on('paste', function (event) {\n          var cd = (event.originalEvent.clipboardData ? event.originalEvent.clipboardData : null)\n          if (cd && cd.types && cd.types.indexOf('text/plain') != -1) {\n            event.preventDefault()\n            var text = cd.getData('text/plain');\n            if (text.indexOf('\\r') != -1 && text.indexOf('\\n') == -1) {\n              text = text.replace(/\\r/g, '\\n');\n            }\n            w2ui[obj.name].paste(text);\n          } else {\n            // for older browsers\n            var el = this;\n            setTimeout(function () { w2ui[obj.name].paste(el.value); el.value = ''; }, 1)\n          }\n        })\n        .on('keydown', function (event) {\n          w2ui[obj.name].keydown.call(w2ui[obj.name], event);\n        });\n      // init mouse events for mouse selection\n      var edataCol; // event for column select\n      $(this.box).off('mousedown').on('mousedown', mouseStart);\n      this.updateToolbar()\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      // attach to resize event\n      if ($('.w2ui-layout').length === 0) { // if there is layout, it will send a resize event\n        $(window)\n          .off('resize.w2ui-' + obj.name)\n          .on('resize.w2ui-' + obj.name, function (event) {\n            if (w2ui[obj.name] == null) {\n              $(window).off('resize.w2ui-' + obj.name)\n            } else {\n              w2ui[obj.name].resize();\n            }\n          });\n      }\n      return (new Date()).getTime() - time;\n\n      function mouseStart(event) {\n        if (event.which != 1) return; // if not left mouse button\n        // restore css user-select\n        if (obj.last.userSelect == 'text') {\n          delete obj.last.userSelect;\n          $(obj.box).find('.w2ui-grid-body').css(w2utils.cssPrefix('user-select', 'none'));\n        }\n        // regular record select\n        if (obj.selectType == 'row' && ($(event.target).parents().hasClass('w2ui-head') || $(event.target).hasClass('w2ui-head'))) return;\n        if (obj.last.move && obj.last.move.type == 'expand') return;\n        // if altKey - alow text selection\n        if (event.altKey) {\n          $(obj.box).find('.w2ui-grid-body').css(w2utils.cssPrefix('user-select', 'text'));\n          obj.selectNone();\n          obj.last.move = { type: 'text-select' };\n          obj.last.userSelect = 'text';\n        } else {\n          var tmp = event.target;\n          var pos = {\n            x: event.offsetX - 10,\n            y: event.offsetY - 10\n          }\n          var tmps = false;\n          while (tmp) {\n            if (tmp.classList && tmp.classList.contains('w2ui-grid')) break;\n            if (tmp.tagName && tmp.tagName.toUpperCase() == 'TD') tmps = true;\n            if (tmp.tagName && tmp.tagName.toUpperCase() != 'TR' && tmps == true) {\n              pos.x += tmp.offsetLeft;\n              pos.y += tmp.offsetTop;\n            }\n            tmp = tmp.parentNode;\n          }\n\n          obj.last.move = {\n            x: event.screenX,\n            y: event.screenY,\n            divX: 0,\n            divY: 0,\n            focusX: pos.x,\n            focusY: pos.y,\n            recid: $(event.target).parents('tr').attr('recid'),\n            column: parseInt(event.target.tagName.toUpperCase() == 'TD' ? $(event.target).attr('col') : $(event.target).parents('td').attr('col')),\n            type: 'select',\n            ghost: false,\n            start: true\n          };\n          if (obj.last.move.recid == null) obj.last.move.type = 'select-column';\n          // set focus to grid\n          var target = event.target;\n          var $input = $(obj.box).find('#grid_' + obj.name + '_focus');\n          // move input next to cursor so screen does not jump\n          if (obj.last.move) {\n            var sLeft = obj.last.move.focusX;\n            var sTop = obj.last.move.focusY;\n            var $owner = $(target).parents('table').parent();\n            if ($owner.hasClass('w2ui-grid-records') || $owner.hasClass('w2ui-grid-frecords')\n              || $owner.hasClass('w2ui-grid-columns') || $owner.hasClass('w2ui-grid-fcolumns')\n              || $owner.hasClass('w2ui-grid-summary')) {\n              sLeft = obj.last.move.focusX - $(obj.box).find('#grid_' + obj.name + '_records').scrollLeft();\n              sTop = obj.last.move.focusY - $(obj.box).find('#grid_' + obj.name + '_records').scrollTop();\n            }\n            if ($(target).hasClass('w2ui-grid-footer') || $(target).parents('div.w2ui-grid-footer').length > 0) {\n              sTop = $(obj.box).find('#grid_' + obj.name + '_footer').position().top;\n            }\n            // if clicked on toolbar\n            if ($owner.hasClass('w2ui-scroll-wrapper') && $owner.parent().hasClass('w2ui-toolbar')) {\n              sLeft = obj.last.move.focusX - $owner.scrollLeft();\n            }\n            $input.css({\n              left: sLeft - 10,\n              top: sTop\n            });\n          }\n          // if toolbar input is clicked\n          setTimeout(function () {\n            if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(target.tagName.toUpperCase()) != -1) {\n              $(target).focus();\n            } else {\n              if (!$input.is(':focus')) $input.focus();\n            }\n          }, 50);\n          // disable click select for this condition\n          if (!obj.multiSelect && !obj.reorderRows && obj.last.move.type == 'drag') {\n            delete obj.last.move;\n          }\n        }\n        if (obj.reorderRows == true) {\n          var el = event.target;\n          if (el.tagName.toUpperCase() != 'TD') el = $(el).parents('td')[0];\n          if ($(el).hasClass('w2ui-col-number') || $(el).hasClass('w2ui-col-order')) {\n            obj.selectNone();\n            obj.last.move.reorder = true;\n            // supress hover\n            var eColor = $(obj.box).find('.w2ui-even.w2ui-empty-record').css('background-color');\n            var oColor = $(obj.box).find('.w2ui-odd.w2ui-empty-record').css('background-color');\n            $(obj.box).find('.w2ui-even td').not('.w2ui-col-number').css('background-color', eColor);\n            $(obj.box).find('.w2ui-odd td').not('.w2ui-col-number').css('background-color', oColor);\n            // display empty record and ghost record\n            var mv = obj.last.move;\n            if (!mv.ghost) {\n              var row = $('#grid_' + obj.name + '_rec_' + mv.recid);\n              var tmp = row.parents('table').find('tr:first-child').clone();\n              mv.offsetY = event.offsetY;\n              mv.from = mv.recid;\n              mv.pos = row.position();\n              mv.ghost = $(row).clone(true);\n              mv.ghost.removeAttr('id');\n              row.find('td').remove();\n              row.append('<td colspan=\"1000\"><div style=\"height: ' + obj.recordHeight + 'px; background-color: #eee; border-bottom: 1px dashed #aaa; border-top: 1px dashed #aaa;\"></div></td>');\n              var recs = $(obj.box).find('.w2ui-grid-records');\n              recs.append('<div id=\"grid_' + obj.name + '_ghost_line\" style=\"position: absolute; z-index: 999999; pointer-events: none; width: 100%;\"></div>');\n              recs.append('<table id=\"grid_' + obj.name + '_ghost\" style=\"position: absolute; z-index: 999998; opacity: 0.9; pointer-events: none;\"></table>');\n              $('#grid_' + obj.name + '_ghost').append(tmp).append(mv.ghost);\n            }\n            var ghost = $('#grid_' + obj.name + '_ghost');\n            var recs = $(obj.box).find('.w2ui-grid-records');\n            ghost.css({\n              top: mv.pos.top + recs.scrollTop(),\n              left: mv.pos.left,\n              \"border-top\": '1px solid #aaa',\n              \"border-bottom\": '1px solid #aaa'\n            });\n          } else {\n            obj.last.move.reorder = false;\n          }\n        }\n        $(document)\n          .on('mousemove.w2ui-' + obj.name, mouseMove)\n          .on('mouseup.w2ui-' + obj.name, mouseStop);\n        // needed when grid grids are nested, see issue #1275\n        event.stopPropagation();\n      }\n\n      function mouseMove(event) {\n        var mv = obj.last.move;\n        if (!mv || ['select', 'select-column'].indexOf(mv.type) == -1) return;\n        mv.divX = (event.screenX - mv.x);\n        mv.divY = (event.screenY - mv.y);\n        if (Math.abs(mv.divX) <= 1 && Math.abs(mv.divY) <= 1) return; // only if moved more then 1px\n        obj.last.cancelClick = true;\n        if (obj.reorderRows == true && obj.last.move.reorder) {\n          var recs = $(obj.box).find('.w2ui-grid-records');\n          var tmp = $(event.target).parents('tr');\n          var recid = tmp.attr('recid');\n          if (recid == '-none-') recid = 'bottom';\n          if (recid != mv.from) {\n            var row1 = $('#grid_' + obj.name + '_rec_' + mv.recid);\n            var row2 = $('#grid_' + obj.name + '_rec_' + recid);\n            $(obj.box).find('.insert-before');\n            row2.addClass('insert-before');\n            // MOVABLE GHOST\n            // if (event.screenY - mv.lastY < 0) row1.after(row2); else row2.after(row1);\n            mv.lastY = event.screenY;\n            mv.to = recid;\n            // line to insert before\n            var pos = row2.position()\n            var ghost_line = $('#grid_' + obj.name + '_ghost_line');\n            if (pos) {\n              ghost_line.css({\n                top: pos.top + recs.scrollTop(),\n                left: mv.pos.left,\n                'border-top': '2px solid #769EFC'\n              });\n            } else {\n              ghost_line.css({\n                'border-top': '2px solid transparent'\n              });\n            }\n          }\n          var ghost = $('#grid_' + obj.name + '_ghost');\n          ghost.css({\n            top: mv.pos.top + mv.divY + recs.scrollTop(),\n            left: mv.pos.left\n          });\n          return;\n        }\n        if (mv.start && mv.recid) {\n          obj.selectNone();\n          mv.start = false;\n        }\n        var newSel = [];\n        var recid = (event.target.tagName.toUpperCase() == 'TR' ? $(event.target).attr('recid') : $(event.target).parents('tr').attr('recid'));\n        if (recid == null) {\n          // select by dragging columns\n          if (obj.selectType == 'row') return;\n          if (obj.last.move && obj.last.move.type == 'select') return;\n          var col = parseInt($(event.target).parents('td').attr('col'));\n          if (isNaN(col)) {\n            obj.removeRange('column-selection');\n            $(obj.box).find('.w2ui-grid-columns .w2ui-col-header, .w2ui-grid-fcolumns .w2ui-col-header').removeClass('w2ui-col-selected');\n            $(obj.box).find('.w2ui-col-number').removeClass('w2ui-row-selected');\n            delete mv.colRange;\n          } else {\n            // add all columns in between\n            var newRange = col + '-' + col;\n            if (mv.column < col) newRange = mv.column + '-' + col;\n            if (mv.column > col) newRange = col + '-' + mv.column;\n            // array of selected columns\n            var cols = [];\n            var tmp = newRange.split('-');\n            for (var ii = parseInt(tmp[0]); ii <= parseInt(tmp[1]); ii++) {\n              cols.push(ii)\n            }\n            if (mv.colRange != newRange) {\n              edataCol = obj.trigger({ phase: 'before', type: 'columnSelect', target: obj.name, columns: cols, isCancelled: false }); // initial isCancelled\n              if (edataCol.isCancelled !== true) {\n                if (mv.colRange == null) obj.selectNone();\n                // highlight columns\n                var tmp = newRange.split('-');\n                $(obj.box).find('.w2ui-grid-columns .w2ui-col-header, .w2ui-grid-fcolumns .w2ui-col-header').removeClass('w2ui-col-selected');\n                for (var j = parseInt(tmp[0]); j <= parseInt(tmp[1]); j++) {\n                  $(obj.box).find('#grid_' + obj.name + '_column_' + j + ' .w2ui-col-header').addClass('w2ui-col-selected');\n                }\n                $(obj.box).find('.w2ui-col-number').not('.w2ui-head').addClass('w2ui-row-selected');\n                // show new range\n                mv.colRange = newRange;\n                obj.removeRange('column-selection');\n                obj.addRange({\n                  name: 'column-selection',\n                  range: [{ recid: obj.records[0].recid, column: tmp[0] }, { recid: obj.records[obj.records.length - 1].recid, column: tmp[1] }],\n                  style: 'background-color: rgba(90, 145, 234, 0.1)'\n                });\n              }\n            }\n          }\n\n        } else { // regular selection\n\n          var ind1 = obj.get(mv.recid, true);\n          // this happens when selection is started on summary row\n          if (ind1 == null || (obj.records[ind1] && obj.records[ind1].recid != mv.recid)) return;\n          var ind2 = obj.get(recid, true);\n          // this happens when selection is extended into summary row (a good place to implement scrolling)\n          if (ind2 == null) return;\n          var col1 = parseInt(mv.column);\n          var col2 = parseInt(event.target.tagName.toUpperCase() == 'TD' ? $(event.target).attr('col') : $(event.target).parents('td').attr('col'));\n          if (isNaN(col1) && isNaN(col2)) { // line number select entire record\n            col1 = 0;\n            col2 = obj.columns.length - 1;\n          }\n          if (ind1 > ind2) { var tmp = ind1; ind1 = ind2; ind2 = tmp; }\n          // check if need to refresh\n          var tmp = 'ind1:' + ind1 + ',ind2;' + ind2 + ',col1:' + col1 + ',col2:' + col2;\n          if (mv.range == tmp) return;\n          mv.range = tmp;\n          for (var i = ind1; i <= ind2; i++) {\n            if (obj.last.searchIds.length > 0 && obj.last.searchIds.indexOf(i) == -1) continue;\n            if (obj.selectType != 'row') {\n              if (col1 > col2) { var tmp = col1; col1 = col2; col2 = tmp; }\n              var tmp = [];\n              for (var c = col1; c <= col2; c++) {\n                if (obj.columns[c].hidden) continue;\n                newSel.push({ recid: obj.records[i].recid, column: parseInt(c) });\n              }\n            } else {\n              newSel.push(obj.records[i].recid);\n            }\n          }\n          if (obj.selectType != 'row') {\n            var sel = obj.getSelection();\n            // add more items\n            var tmp = [];\n            for (var ns = 0; ns < newSel.length; ns++) {\n              var flag = false;\n              for (var s = 0; s < sel.length; s++) if (newSel[ns].recid == sel[s].recid && newSel[ns].column == sel[s].column) flag = true;\n              if (!flag) tmp.push({ recid: newSel[ns].recid, column: newSel[ns].column });\n            }\n            obj.select(tmp);\n            // remove items\n            var tmp = [];\n            for (var s = 0; s < sel.length; s++) {\n              var flag = false;\n              for (var ns = 0; ns < newSel.length; ns++) if (newSel[ns].recid == sel[s].recid && newSel[ns].column == sel[s].column) flag = true;\n              if (!flag) tmp.push({ recid: sel[s].recid, column: sel[s].column });\n            }\n            obj.unselect(tmp);\n          } else {\n            if (obj.multiSelect) {\n              var sel = obj.getSelection();\n              for (var ns = 0; ns < newSel.length; ns++) {\n                if (sel.indexOf(newSel[ns]) == -1) obj.select(newSel[ns]); // add more items\n              }\n              for (var s = 0; s < sel.length; s++) {\n                if (newSel.indexOf(sel[s]) == -1) obj.unselect(sel[s]); // remove items\n              }\n            }\n          }\n        }\n      }\n\n      function mouseStop(event) {\n        var mv = obj.last.move;\n        setTimeout(function () { delete obj.last.cancelClick; }, 1);\n        if ($(event.target).parents().hasClass('.w2ui-head') || $(event.target).hasClass('.w2ui-head')) return;\n        if (mv && ['select', 'select-column'].indexOf(mv.type) != -1) {\n          if (mv.colRange != null && edataCol.isCancelled !== true) {\n            var tmp = mv.colRange.split('-');\n            var sel = [];\n            for (var i = 0; i < obj.records.length; i++) {\n              var cols = []\n              for (var j = parseInt(tmp[0]); j <= parseInt(tmp[1]); j++) cols.push(j);\n              sel.push({ recid: obj.records[i].recid, column: cols });\n            }\n            obj.removeRange('column-selection');\n            obj.trigger($.extend(edataCol, { phase: 'after' }));\n            obj.select(sel);\n          }\n          if (obj.reorderRows == true && obj.last.move.reorder) {\n            // event\n            var edata = obj.trigger({ phase: 'before', target: obj.name, type: 'reorderRow', recid: mv.from, moveAfter: mv.to });\n            if (edata.isCancelled === true) {\n              $('#grid_' + obj.name + '_ghost').remove();\n              $('#grid_' + obj.name + '_ghost_line').remove();\n              obj.refresh();\n              delete obj.last.move;\n              return;\n            }\n            // default behavior\n            var ind1 = obj.get(mv.from, true);\n            var ind2 = obj.get(mv.to, true);\n            if (mv.to == 'bottom') ind2 = obj.records.length; // end of list\n            var tmp = obj.records[ind1];\n            // swap records\n            if (ind1 != null && ind2 != null) {\n              obj.records.splice(ind1, 1);\n              if (ind1 > ind2) {\n                obj.records.splice(ind2, 0, tmp);\n              } else {\n                obj.records.splice(ind2 - 1, 0, tmp);\n              }\n            }\n            $('#grid_' + obj.name + '_ghost').remove();\n            $('#grid_' + obj.name + '_ghost_line').remove();\n            obj.refresh();\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n          }\n        }\n        delete obj.last.move;\n        $(document).off('.w2ui-' + obj.name);\n      }\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'destroy' });\n      if (edata.isCancelled === true) return;\n      // remove all events\n      $(this.box).off();\n      // clean up\n      if (typeof this.toolbar == 'object' && this.toolbar.destroy) this.toolbar.destroy();\n      if ($(this.box).find('#grid_' + this.name + '_body').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-reset w2ui-grid w2ui-inactive')\n          .html('');\n      }\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    // ===========================================\n    // --- Internal Functions\n\n    initColumnOnOff: function () {\n      if (!this.show.toolbarColumns) return;\n      var obj = this;\n      // line number\n      var col_html = '<div class=\"w2ui-col-on-off\">' +\n        '<table><tbody>' +\n        '<tr id=\"grid_' + this.name + '_column_ln_check\" onclick=\"w2ui[\\'' + obj.name + '\\'].columnOnOff(event, \\'line-numbers\\'); event.stopPropagation();\">' +\n        '   <td style=\"width: 30px; text-align: center; padding-right: 3px; color: #888;\">' +\n        '      <span class=\"w2ui-column-check w2ui-icon-' + (!obj.show.lineNumbers ? 'empty' : 'check') + '\"></span>' +\n        '   </td>' +\n        '   <td>' +\n        '      <label>' + w2utils.lang('Line #') + '</label>' +\n        '   </td>' +\n        '</tr>';\n      // columns\n      for (var c = 0; c < this.columns.length; c++) {\n        var col = this.columns[c];\n        var tmp = this.columns[c].text;\n        if (col.hideable === false) continue;\n        if (!tmp && this.columns[c].tooltip) tmp = this.columns[c].tooltip;\n        if (!tmp) tmp = '- column ' + (parseInt(c) + 1) + ' -';\n        col_html +=\n          '<tr id=\"grid_' + this.name + '_column_' + c + '_check\" ' +\n          '       onclick=\"w2ui[\\'' + obj.name + '\\'].columnOnOff(event, \\'' + col.field + '\\'); event.stopPropagation();\">' +\n          '   <td style=\"width: 30px; text-align: center; padding-right: 3px; color: #888;\">' +\n          '      <span class=\"w2ui-column-check w2ui-icon-' + (col.hidden ? 'empty' : 'check') + '\"></span>' +\n          '   </td>' +\n          '   <td>' +\n          '       <label>' + w2utils.stripTags(tmp) + '</label>' +\n          '   </td>' +\n          '</tr>';\n      }\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      // devider\n      if ((url && obj.show.skipRecords) || obj.show.saveRestoreState) {\n        col_html += '<tr style=\"pointer-events: none\"><td colspan=\"2\"><div style=\"border-top: 1px solid #ddd;\"></div></td></tr>';\n      }\n      // skip records\n      if (url && obj.show.skipRecords) {\n        col_html +=\n          '<tr><td colspan=\"2\" style=\"padding: 0px\">' +\n          '    <div style=\"cursor: pointer; padding: 2px 8px; cursor: default\">' + w2utils.lang('Skip') +\n          '        <input type=\"text\" style=\"width: 60px\" value=\"' + this.offset + '\" ' +\n          '            onkeydown=\"if ([48,49,50,51,52,53,54,55,56,57,58,13,8,46,37,39].indexOf(event.keyCode) == -1) { event.preventDefault() }\"' +\n          '            onkeypress=\"if (event.keyCode == 13) { ' +\n          '               w2ui[\\'' + obj.name + '\\'].skip(this.value); ' +\n          '               jQuery(\\'.w2ui-overlay\\')[0].hide(); ' +\n          '            }\"/> ' + w2utils.lang('Records') +\n          '    </div>' +\n          '</td></tr>';\n      }\n      // save/restore state\n      if (obj.show.saveRestoreState) {\n        col_html += '<tr><td colspan=\"2\" onclick=\"var obj = w2ui[\\'' + obj.name + '\\']; obj.toolbar.uncheck(\\'w2ui-column-on-off\\'); obj.stateSave();\">' +\n          '    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">' + w2utils.lang('Save Grid State') + '</div>' +\n          '</td></tr>' +\n          '<tr><td colspan=\"2\" onclick=\"var obj = w2ui[\\'' + obj.name + '\\']; obj.toolbar.uncheck(\\'w2ui-column-on-off\\'); obj.stateReset();\">' +\n          '    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">' + w2utils.lang('Restore Default State') + '</div>' +\n          '</td></tr>';\n      }\n      col_html += \"</tbody></table></div>\";\n      this.toolbar.get('w2ui-column-on-off').html = col_html;\n    },\n\n    /**\n     *\n     * @param box, grid object\n     * @returns {{remove: Function}} contains a closure around all events to ensure they are removed from the dom\n     */\n    initColumnDrag: function (box) {\n      //throw error if using column groups\n      if (this.columnGroups && this.columnGroups.length) throw 'Draggable columns are not currently supported with column groups.';\n\n      var obj = this,\n        _dragData = {};\n      _dragData.lastInt = null;\n      _dragData.pressed = false;\n      _dragData.timeout = null; _dragData.columnHead = null;\n\n      //attach original event listener\n      $(obj.box).on('mousedown', dragColStart);\n      $(obj.box).on('mouseup', catchMouseup);\n\n      function catchMouseup() {\n        _dragData.pressed = false;\n        clearTimeout(_dragData.timeout);\n      }\n      /**\n       *\n       * @param event, mousedown\n       * @returns {boolean} false, preventsDefault\n       */\n      function dragColStart(event) {\n        if (_dragData.timeout) clearTimeout(_dragData.timeout);\n        var self = this;\n        _dragData.pressed = true;\n\n        _dragData.timeout = setTimeout(function () {\n          // When dragging a column for reordering, a quick release and a secondary\n          // click may result in a bug where the column is ghosted to the screen,\n          // but can no longer be docked back into the header.  It simply floats and you\n          // can no longer interact with it.\n          // The erronius event thats fired will have _dragData.numberPreColumnsPresent === 0\n          // populated, wheras a valid event will not.\n          // if we see the erronius event, dont allow that second click to register, which results\n          // in the floating column remaining under the mouse's control.\n          if (!_dragData.pressed || _dragData.numberPreColumnsPresent === 0) return;\n\n          var edata,\n            columns,\n            selectedCol,\n            origColumn,\n            origColumnNumber,\n            invalidPreColumns = ['w2ui-col-number', 'w2ui-col-expand', 'w2ui-col-select'],\n            invalidPostColumns = ['w2ui-head-last'],\n            invalidColumns = invalidPreColumns.concat(invalidPostColumns),\n            preColumnsSelector = '.w2ui-col-number, .w2ui-col-expand, .w2ui-col-select',\n            preColHeadersSelector = '.w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select';\n\n          // do nothing if it is not a header\n          if (!$(event.originalEvent.target).parents().hasClass('w2ui-head')) return;\n\n          // do nothing if it is an invalid column\n          for (var i = 0, l = invalidColumns.length; i < l; i++) {\n            if ($(event.originalEvent.target).parents().hasClass(invalidColumns[i])) return;\n          }\n\n          _dragData.numberPreColumnsPresent = $(obj.box).find(preColHeadersSelector).length;\n\n          //start event for drag start\n          _dragData.columnHead = origColumn = $(event.originalEvent.target).parents('.w2ui-head');\n          _dragData.originalPos = origColumnNumber = parseInt(origColumn.attr('col'), 10);\n          edata = obj.trigger({ type: 'columnDragStart', phase: 'before', originalEvent: event, origColumnNumber: origColumnNumber, target: origColumn[0] });\n          if (edata.isCancelled === true) return false;\n\n          columns = _dragData.columns = $(obj.box).find('.w2ui-head:not(.w2ui-head-last)');\n\n          //add events\n          $(document).on('mouseup', dragColEnd);\n          $(document).on('mousemove', dragColOver);\n\n          //_dragData.columns.css({ overflow: 'visible' }).children( 'div' ).css({ overflow: 'visible' });\n\n          //configure and style ghost image\n          _dragData.ghost = $(self).clone(true);\n\n          //hide other elements on ghost except the grid body\n          $(_dragData.ghost).find('[col]:not([col=\"' + _dragData.originalPos + '\"]), .w2ui-toolbar, .w2ui-grid-header').remove();\n          $(_dragData.ghost).find(preColumnsSelector).remove();\n          $(_dragData.ghost).find('.w2ui-grid-body').css({ top: 0 });\n\n          selectedCol = $(_dragData.ghost).find('[col=\"' + _dragData.originalPos + '\"]');\n          $(document.body).append(_dragData.ghost);\n\n          $(_dragData.ghost).css({\n            width: 0,\n            height: 0,\n            margin: 0,\n            position: 'fixed',\n            zIndex: 999999,\n            opacity: 0\n          }).addClass('.w2ui-grid-ghost').animate({\n            width: selectedCol.width(),\n            height: $(obj.box).find('.w2ui-grid-body:first').height(),\n            left: event.pageX,\n            top: event.pageY,\n            opacity: 0.8\n          }, 0);\n\n          //establish current offsets\n          _dragData.offsets = [];\n          for (var i = 0, l = columns.length; i < l; i++) {\n            _dragData.offsets.push($(columns[i]).offset().left);\n          }\n\n          //conclude event\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        }, 150);//end timeout wrapper\n      }\n\n      function dragColOver(event) {\n        if (!_dragData.pressed) return;\n\n        var cursorX = event.originalEvent.pageX,\n          cursorY = event.originalEvent.pageY,\n          offsets = _dragData.offsets,\n          lastWidth = $('.w2ui-head:not(.w2ui-head-last)').width();\n\n        _dragData.targetInt = Math.max(_dragData.numberPreColumnsPresent, targetIntersection(cursorX, offsets, lastWidth));\n\n        markIntersection(_dragData.targetInt);\n        trackGhost(cursorX, cursorY);\n      }\n\n      function dragColEnd(event) {\n        _dragData.pressed = false;\n\n        var edata,\n          target,\n          selected,\n          columnConfig,\n          targetColumn,\n          ghosts = $('.w2ui-grid-ghost');\n\n        //start event for drag start\n        edata = obj.trigger({ type: 'columnDragEnd', phase: 'before', originalEvent: event, target: _dragData.columnHead[0] });\n        if (edata.isCancelled === true) return false;\n\n        selected = obj.columns[_dragData.originalPos];\n        columnConfig = obj.columns;\n        targetColumn = $(_dragData.columns[Math.min(_dragData.lastInt, _dragData.columns.length - 1)]);\n        target = (_dragData.lastInt < _dragData.columns.length) ? parseInt(targetColumn.attr('col')) : columnConfig.length;\n\n        if (target !== _dragData.originalPos + 1 && target !== _dragData.originalPos && targetColumn && targetColumn.length) {\n          $(_dragData.ghost).animate({\n            top: $(obj.box).offset().top,\n            left: targetColumn.offset().left,\n            width: 0,\n            height: 0,\n            opacity: 0.2\n          }, 300, function () {\n            $(this).remove();\n            ghosts.remove();\n          });\n\n          columnConfig.splice(target, 0, $.extend({}, selected));\n          columnConfig.splice(columnConfig.indexOf(selected), 1);\n\n        } else {\n          $(_dragData.ghost).remove();\n          ghosts.remove();\n        }\n\n        //_dragData.columns.css({ overflow: '' }).children( 'div' ).css({ overflow: '' });\n\n        $(document).off('mouseup', dragColEnd);\n        $(document).off('mousemove', dragColOver);\n        if (_dragData.marker) _dragData.marker.remove();\n        _dragData = {};\n\n        obj.refresh();\n\n        //conclude event\n        obj.trigger($.extend(edata, { phase: 'after', targetColumnNumber: target - 1 }));\n      }\n\n      function markIntersection(intersection) {\n        if (!_dragData.marker && !_dragData.markerLeft) {\n          _dragData.marker = $('<div class=\"col-intersection-marker\">' +\n            '<div class=\"top-marker\"></div>' +\n            '<div class=\"bottom-marker\"></div>' +\n            '</div>');\n          _dragData.markerLeft = $('<div class=\"col-intersection-marker\">' +\n            '<div class=\"top-marker\"></div>' +\n            '<div class=\"bottom-marker\"></div>' +\n            '</div>');\n        }\n\n        if (!_dragData.lastInt || _dragData.lastInt !== intersection) {\n          _dragData.lastInt = intersection;\n          _dragData.marker.remove();\n          _dragData.markerLeft.remove();\n          $('.w2ui-head').removeClass('w2ui-col-intersection');\n\n          //if the current intersection is greater than the number of columns add the marker to the end of the last column only\n          if (intersection >= _dragData.columns.length) {\n            $(_dragData.columns[_dragData.columns.length - 1]).children('div:last').append(_dragData.marker.addClass('right').removeClass('left'));\n            $(_dragData.columns[_dragData.columns.length - 1]).addClass('w2ui-col-intersection');\n          } else if (intersection <= _dragData.numberPreColumnsPresent) {\n            //if the current intersection is on the column numbers place marker on first available column only\n            $(_dragData.columns[_dragData.numberPreColumnsPresent]).prepend(_dragData.marker.addClass('left').removeClass('right')).css({ position: 'relative' });\n            $(_dragData.columns[_dragData.numberPreColumnsPresent]).prev().addClass('w2ui-col-intersection');\n          } else {\n            //otherwise prepend the marker to the targeted column and append it to the previous column\n            $(_dragData.columns[intersection]).children('div:last').prepend(_dragData.marker.addClass('left').removeClass('right'));\n            $(_dragData.columns[intersection]).prev().children('div:last').append(_dragData.markerLeft.addClass('right').removeClass('left')).css({ position: 'relative' });\n            $(_dragData.columns[intersection - 1]).addClass('w2ui-col-intersection');\n          }\n        }\n      }\n\n      function targetIntersection(cursorX, offsets, lastWidth) {\n        if (cursorX <= offsets[0]) {\n          return 0;\n        } else if (cursorX >= offsets[offsets.length - 1] + lastWidth) {\n          return offsets.length;\n        } else {\n          for (var i = 0, l = offsets.length; i < l; i++) {\n            var thisOffset = offsets[i];\n            var nextOffset = offsets[i + 1] || offsets[i] + lastWidth;\n            var midpoint = (nextOffset - offsets[i]) / 2 + offsets[i];\n\n            if (cursorX > thisOffset && cursorX <= midpoint) {\n              return i;\n            } else if (cursorX > midpoint && cursorX <= nextOffset) {\n              return i + 1;\n            }\n          }\n          return intersection;\n        }\n      }\n\n      function trackGhost(cursorX, cursorY) {\n        $(_dragData.ghost).css({\n          left: cursorX - 10,\n          top: cursorY - 10\n        });\n      }\n\n      //return an object to remove drag if it has ever been enabled\n      return {\n        remove: function () {\n          $(obj.box).off('mousedown', dragColStart);\n          $(obj.box).off('mouseup', catchMouseup);\n          $(obj.box).find('.w2ui-head').removeAttr('draggable');\n          obj.last.columnDrag = false;\n        }\n      };\n    },\n\n    columnOnOff: function (event, field) {\n      var $el = $(event.target).parents('tr').find('.w2ui-column-check');\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'columnOnOff', field: field, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // regular processing\n      var obj = this;\n      var hide = (!event.shiftKey && !event.metaKey && !event.ctrlKey && !$(event.target).hasClass('w2ui-column-check'));\n      // collapse expanded rows\n      var rows = obj.find({ 'w2ui.expanded': true }, true);\n      for (var r = 0; r < rows.length; r++) {\n        var tmp = this.records[r].w2ui;\n        if (tmp && !Array.isArray(tmp.children)) {\n          this.records[r].w2ui.expanded = false;\n        }\n      }\n      // show/hide\n      if (field == 'line-numbers') {\n        this.show.lineNumbers = !this.show.lineNumbers;\n        if (this.show.lineNumbers) {\n          $el.addClass('w2ui-icon-check').removeClass('w2ui-icon-empty');\n        } else {\n          $el.addClass('w2ui-icon-empty').removeClass('w2ui-icon-check');\n        }\n        this.refreshBody();\n        this.resizeRecords();\n      } else {\n        var col = this.getColumn(field);\n        if (col.hidden) {\n          $el.addClass('w2ui-icon-check').removeClass('w2ui-icon-empty');\n          setTimeout(function () {\n            obj.showColumn(col.field);\n          }, hide ? 0 : 50);\n        } else {\n          $el.addClass('w2ui-icon-empty').removeClass('w2ui-icon-check');\n          setTimeout(function () {\n            obj.hideColumn(col.field);\n          }, hide ? 0 : 50);\n        }\n      }\n      if (hide) {\n        setTimeout(function () {\n          $().w2overlay({ name: obj.name + '_toolbar' });\n        }, 40);\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    scrollToColumn: function (field) {\n      if (field == null)\n        return;\n      var sWidth = 0;\n      var found = false;\n      for (var i = 0; i < this.columns.length; i++) {\n        var col = this.columns[i];\n        if (col.field == field) {\n          found = true;\n          break;\n        }\n        if (col.frozen || col.hidden)\n          continue;\n        var cSize = parseInt(col.sizeCalculated ? col.sizeCalculated : col.size);\n        sWidth += cSize;\n      }\n      if (!found)\n        return;\n      this.last.scrollLeft = sWidth + 1;\n      this.scroll();\n    },\n\n    initToolbar: function () {\n      var obj = this;\n      // -- if toolbar is true\n      if (this.toolbar['render'] == null) {\n        var tmp_items = this.toolbar.items || [];\n        this.toolbar.items = [];\n        this.toolbar = $().w2toolbar($.extend(true, {}, this.toolbar, { name: this.name + '_toolbar', owner: this }));\n\n        // =============================================\n        // ------ Toolbar Generic buttons\n\n        if (this.show.toolbarReload) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['reload']));\n        }\n        if (this.show.toolbarColumns) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['columns']));\n        }\n        if (this.show.toolbarReload || this.show.toolbarColumns) {\n          this.toolbar.items.push({ type: 'break', id: 'w2ui-break0' });\n        }\n        if (this.show.toolbarInput) {\n          var html =\n            '<div class=\"w2ui-toolbar-search\">' +\n            '<table cellpadding=\"0\" cellspacing=\"0\"><tbody><tr>' +\n            '    <td>' + this.buttons['search'].html + '</td>' +\n            '    <td>' +\n            '        <input type=\"text\" id=\"grid_' + this.name + '_search_all\" class=\"w2ui-search-all\" tabindex=\"-1\" ' +\n            '            autocapitalize=\"off\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\"' +\n            '            placeholder=\"' + w2utils.lang(this.last.label) + '\" value=\"' + this.last.search + '\"' +\n            '            onfocus=\"var grid = w2ui[\\'' + this.name + '\\']; clearTimeout(grid.last.kbd_timer); grid.searchShowFields(true); grid.searchClose()\"' +\n            '            onkeydown=\"if (event.keyCode == 13 &amp;&amp; w2utils.isIE) this.onchange();\"' +\n            '            onchange=\"' +\n            '                var grid = w2ui[\\'' + this.name + '\\']; ' +\n            '                var val = this.value; ' +\n            '                var sel = jQuery(this).data(\\'selected\\');' +\n            '                var fld = jQuery(this).data(\\'w2field\\'); ' +\n            '                if (fld) val = fld.clean(val);' +\n            '                if (fld &amp;&amp; fld.type == \\'list\\' &amp;&amp; sel &amp;&amp; typeof sel.id == \\'undefined\\') {' +\n            '                   grid.searchReset();' +\n            '                } else {' +\n            '                   grid.search(grid.last.field, val);' +\n            '                }' +\n            '            \"/>' +\n            '    </td>' +\n            '    <td>' +\n            '        <div class=\"w2ui-search-clear\" id=\"grid_' + this.name + '_searchClear\"  ' +\n            '             onclick=\"var obj = w2ui[\\'' + this.name + '\\']; obj.searchReset();\" style=\"display: none\"' +\n            '        >&#160;&#160;</div>' +\n            '    </td>' +\n            '</tr></tbody></table>' +\n            '</div>';\n          this.toolbar.items.push({ type: 'html', id: 'w2ui-search', html: html });\n        }\n        if (this.show.toolbarSearch && this.multiSearch && this.searches.length > 0) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['search-go']));\n        }\n        if ((this.show.toolbarSearch || this.show.toolbarInput)\n          && (this.show.toolbarAdd || this.show.toolbarEdit || this.show.toolbarDelete || this.show.toolbarSave)) {\n          this.toolbar.items.push({ type: 'break', id: 'w2ui-break1' });\n        }\n        if (this.show.toolbarAdd && Array.isArray(tmp_items)\n          && tmp_items.map(function (item) { return item.id }).indexOf(this.buttons['add'].id) == -1) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['add']));\n        }\n        if (this.show.toolbarEdit && Array.isArray(tmp_items)\n          && tmp_items.map(function (item) { return item.id }).indexOf(this.buttons['edit'].id) == -1) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['edit']));\n        }\n        if (this.show.toolbarDelete && Array.isArray(tmp_items)\n          && tmp_items.map(function (item) { return item.id }).indexOf(this.buttons['delete'].id) == -1) {\n          this.toolbar.items.push($.extend(true, {}, this.buttons['delete']));\n        }\n        if (this.show.toolbarSave && Array.isArray(tmp_items)\n          && tmp_items.map(function (item) { return item.id }).indexOf(this.buttons['save'].id) == -1) {\n          if (this.show.toolbarAdd || this.show.toolbarDelete || this.show.toolbarEdit) {\n            this.toolbar.items.push({ type: 'break', id: 'w2ui-break2' });\n          }\n          this.toolbar.items.push($.extend(true, {}, this.buttons['save']));\n        }\n        // add original buttons\n        if (tmp_items) for (var i = 0; i < tmp_items.length; i++) this.toolbar.items.push(tmp_items[i]);\n\n        // =============================================\n        // ------ Toolbar onClick processing\n\n        var obj = this;\n        this.toolbar.on('click', function (event) {\n          var edata = obj.trigger({ phase: 'before', type: 'toolbar', target: event.target, originalEvent: event });\n          if (edata.isCancelled === true) return;\n          var id = event.target;\n          switch (id) {\n            case 'w2ui-reload':\n              var edata2 = obj.trigger({ phase: 'before', type: 'reload', target: obj.name });\n              if (edata2.isCancelled === true) return false;\n              obj.reload();\n              obj.trigger($.extend(edata2, { phase: 'after' }));\n              break;\n            case 'w2ui-column-on-off':\n              obj.initColumnOnOff();\n              obj.initResize();\n              obj.resize();\n              break;\n            case 'w2ui-search-advanced':\n              var it = this.get(id);\n              if (it.checked) {\n                obj.searchClose();\n              } else {\n                obj.searchOpen();\n              }\n              // need to cancel event in order to user custom searchOpen/close functions\n              obj.toolbar.tooltipHide('w2ui-search-advanced');\n              event.preventDefault();\n              break;\n            case 'w2ui-add':\n              // events\n              var edata2 = obj.trigger({ phase: 'before', target: obj.name, type: 'add', recid: null });\n              if (edata2.isCancelled === true) return false;\n              obj.trigger($.extend(edata2, { phase: 'after' }));\n              // hide all tooltips\n              setTimeout(function () { $().w2tag(); }, 20);\n              break;\n            case 'w2ui-edit':\n              var sel = obj.getSelection();\n              var recid = null;\n              if (sel.length == 1) recid = sel[0];\n              // events\n              var edata2 = obj.trigger({ phase: 'before', target: obj.name, type: 'edit', recid: recid });\n              if (edata2.isCancelled === true) return false;\n              obj.trigger($.extend(edata2, { phase: 'after' }));\n              // hide all tooltips\n              setTimeout(function () { $().w2tag(); }, 20);\n              break;\n            case 'w2ui-delete':\n              obj[\"delete\"]();\n              break;\n            case 'w2ui-save':\n              obj.save();\n              break;\n          }\n          // no default action\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        })\n        this.toolbar.on('refresh', function (event) {\n          if (event.target == 'w2ui-search') {\n            var sd = obj.searchData;\n            setTimeout(function () {\n              obj.initAllField(obj.last.field, (sd.length == 1 ? sd[0].value : null));\n            }, 1);\n          }\n        })\n      }\n    },\n\n    initResize: function () {\n      var obj = this;\n      //if (obj.resizing === true) return;\n      $(this.box).find('.w2ui-resizer')\n        .off('.grid-col-resize')\n        .on('click.grid-col-resize', function (event) {\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          if (event.preventDefault) event.preventDefault();\n        })\n        .on('mousedown.grid-col-resize', function (event) {\n          if (!event) event = window.event;\n          obj.resizing = true;\n          obj.last.tmp = {\n            x: event.screenX,\n            y: event.screenY,\n            gx: event.screenX,\n            gy: event.screenY,\n            col: parseInt($(this).attr('name'))\n          };\n          // find tds that will be resized\n          obj.last.tmp.tds = $('#grid_' + obj.name + '_body table tr:first-child td[col=' + obj.last.tmp.col + ']')\n\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          if (event.preventDefault) event.preventDefault();\n          // fix sizes\n          for (var c = 0; c < obj.columns.length; c++) {\n            if (obj.columns[c].hidden) continue;\n            if (obj.columns[c].sizeOriginal == null) obj.columns[c].sizeOriginal = obj.columns[c].size;\n            obj.columns[c].size = obj.columns[c].sizeCalculated;\n          }\n          var edata = { phase: 'before', type: 'columnResize', target: obj.name, column: obj.last.tmp.col, field: obj.columns[obj.last.tmp.col].field };\n          edata = obj.trigger($.extend(edata, { resizeBy: 0, originalEvent: event }));\n          // set move event\n          var timer;\n          var mouseMove = function (event) {\n            if (obj.resizing != true) return;\n            if (!event) event = window.event;\n            // event before\n            edata = obj.trigger($.extend(edata, { resizeBy: (event.screenX - obj.last.tmp.gx), originalEvent: event }));\n            if (edata.isCancelled === true) { edata.isCancelled = false; return; }\n            // default action\n            obj.last.tmp.x = (event.screenX - obj.last.tmp.x);\n            obj.last.tmp.y = (event.screenY - obj.last.tmp.y);\n            var newWidth = (parseInt(obj.columns[obj.last.tmp.col].size) + obj.last.tmp.x) + 'px'\n            obj.columns[obj.last.tmp.col].size = newWidth;\n            if (timer) clearTimeout(timer)\n            timer = setTimeout(function () {\n              obj.resizeRecords()\n              obj.scroll()\n            }, 100)\n            // quick resize\n            obj.last.tmp.tds.css({ width: newWidth })\n            // reset\n            obj.last.tmp.x = event.screenX;\n            obj.last.tmp.y = event.screenY;\n          };\n          var mouseUp = function (event) {\n            delete obj.resizing;\n            $(document).off('.grid-col-resize');\n            obj.resizeRecords();\n            obj.scroll();\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after', originalEvent: event }));\n          };\n\n          $(document)\n            .off('.grid-col-resize')\n            .on('mousemove.grid-col-resize', mouseMove)\n            .on('mouseup.grid-col-resize', mouseUp);\n        })\n        .on('dblclick.grid-col-resize', function (event) {\n          var colId = parseInt($(this).attr('name')),\n            col = obj.columns[colId],\n            maxDiff = 0;\n\n          if (col.autoResize === false) {\n            return true;\n          }\n\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          if (event.preventDefault) event.preventDefault();\n          $('.w2ui-grid-records td[col=\"' + colId + '\"] > div', obj.box).each(function () {\n            var thisDiff = this.offsetWidth - this.scrollWidth;\n\n            if (thisDiff < maxDiff) {\n              maxDiff = thisDiff - 3; // 3px buffer needed for Firefox\n            }\n          });\n\n          // event before\n          var edata = { phase: 'before', type: 'columnAutoResize', target: obj.name, column: col, field: col.field };\n          edata = obj.trigger($.extend(edata, { resizeBy: Math.abs(maxDiff), originalEvent: event }));\n          if (edata.isCancelled === true) { edata.isCancelled = false; return; }\n\n          if (maxDiff < 0) {\n            col.size = Math.min(parseInt(col.size) + Math.abs(maxDiff), col.max || Infinity) + 'px';\n            obj.resizeRecords();\n            obj.resizeRecords(); // Why do we have to call it twice in order to show the scrollbar?\n            obj.scroll();\n          }\n\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after', originalEvent: event }));\n        })\n        .each(function (index, el) {\n          var td = $(el).parent();\n          $(el).css({\n            \"height\": td.height(),\n            \"margin-left\": (td.width() - 3) + 'px'\n          });\n        });\n    },\n\n    resizeBoxes: function () {\n      // elements\n      var header = $('#grid_' + this.name + '_header');\n      var toolbar = $('#grid_' + this.name + '_toolbar');\n      var fsummary = $('#grid_' + this.name + '_fsummary');\n      var summary = $('#grid_' + this.name + '_summary');\n      var footer = $('#grid_' + this.name + '_footer');\n      var body = $('#grid_' + this.name + '_body');\n\n      if (this.show.header) {\n        header.css({\n          top: '0px',\n          left: '0px',\n          right: '0px'\n        });\n      }\n\n      if (this.show.toolbar) {\n        toolbar.css({\n          top: (0 + (this.show.header ? w2utils.getSize(header, 'height') : 0)) + 'px',\n          left: '0px',\n          right: '0px'\n        });\n      }\n      if (this.summary.length > 0) {\n        fsummary.css({\n          bottom: (0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0)) + 'px'\n        });\n        summary.css({\n          bottom: (0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0)) + 'px',\n          right: '0px'\n        });\n      }\n      if (this.show.footer) {\n        footer.css({\n          bottom: '0px',\n          left: '0px',\n          right: '0px'\n        });\n      }\n      body.css({\n        top: (0 + (this.show.header ? w2utils.getSize(header, 'height') : 0) + (this.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0)) + 'px',\n        bottom: (0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0) + (this.summary.length > 0 ? w2utils.getSize(summary, 'height') : 0)) + 'px',\n        left: '0px',\n        right: '0px'\n      });\n    },\n\n    resizeRecords: function () {\n      var obj = this;\n      // remove empty records\n      $(this.box).find('.w2ui-empty-record').remove();\n      // -- Calculate Column size in PX\n      var box = $(this.box);\n      var grid = $(this.box).find('> div.w2ui-grid-box');\n      var header = $('#grid_' + this.name + '_header');\n      var toolbar = $('#grid_' + this.name + '_toolbar');\n      var summary = $('#grid_' + this.name + '_summary');\n      var fsummary = $('#grid_' + this.name + '_fsummary');\n      var footer = $('#grid_' + this.name + '_footer');\n      var body = $('#grid_' + this.name + '_body');\n      var columns = $('#grid_' + this.name + '_columns');\n      var fcolumns = $('#grid_' + this.name + '_fcolumns');\n      var records = $('#grid_' + this.name + '_records');\n      var frecords = $('#grid_' + this.name + '_frecords');\n      var scroll1 = $('#grid_' + this.name + '_scroll1');\n      var lineNumberWidth = String(this.total).length * 8 + 10;\n      if (lineNumberWidth < 34) lineNumberWidth = 34; // 3 digit width\n      if (this.lineNumberWidth != null) lineNumberWidth = this.lineNumberWidth;\n\n      var bodyOverflowX = false;\n      var bodyOverflowY = false;\n      var sWidth = 0;\n      for (var i = 0; i < obj.columns.length; i++) {\n        if (obj.columns[i].frozen || obj.columns[i].hidden) continue;\n        var cSize = parseInt(obj.columns[i].sizeCalculated ? obj.columns[i].sizeCalculated : obj.columns[i].size);\n        sWidth += cSize;\n      }\n      if (records.width() < sWidth) bodyOverflowX = true;\n      if (body.height() - columns.height() < $(records).find('>table').height() + (bodyOverflowX ? w2utils.scrollBarSize() : 0)) bodyOverflowY = true;\n\n      // body might be expanded by data\n      if (!this.fixedBody) {\n        // allow it to render records, then resize\n        var calculatedHeight = w2utils.getSize(columns, 'height')\n          + w2utils.getSize($('#grid_' + obj.name + '_records table'), 'height')\n          + (bodyOverflowX ? w2utils.scrollBarSize() : 0);\n        obj.height = calculatedHeight\n          + w2utils.getSize(grid, '+height')\n          + (obj.show.header ? w2utils.getSize(header, 'height') : 0)\n          + (obj.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0)\n          + (summary.css('display') != 'none' ? w2utils.getSize(summary, 'height') : 0)\n          + (obj.show.footer ? w2utils.getSize(footer, 'height') : 0);\n        grid.css('height', obj.height);\n        body.css('height', calculatedHeight);\n        box.css('height', w2utils.getSize(grid, 'height') + w2utils.getSize(box, '+height'));\n      } else {\n        // fixed body height\n        var calculatedHeight = grid.height()\n          - (this.show.header ? w2utils.getSize(header, 'height') : 0)\n          - (this.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0)\n          - (summary.css('display') != 'none' ? w2utils.getSize(summary, 'height') : 0)\n          - (this.show.footer ? w2utils.getSize(footer, 'height') : 0);\n        body.css('height', calculatedHeight);\n      }\n\n      var buffered = this.records.length;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (this.searchData.length != 0 && !url) buffered = this.last.searchIds.length;\n      // apply overflow\n      if (!this.fixedBody) { bodyOverflowY = false; }\n      if (bodyOverflowX || bodyOverflowY) {\n        columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').css('width', w2utils.scrollBarSize()).show();\n        records.css({\n          top: ((this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(columns, 'height')) + 'px',\n          \"-webkit-overflow-scrolling\": \"touch\",\n          \"overflow-x\": (bodyOverflowX ? 'auto' : 'hidden'),\n          \"overflow-y\": (bodyOverflowY ? 'auto' : 'hidden')\n        });\n      } else {\n        columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').hide();\n        records.css({\n          top: ((this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(columns, 'height')) + 'px',\n          overflow: 'hidden'\n        });\n        if (records.length > 0) { this.last.scrollTop = 0; this.last.scrollLeft = 0; } // if no scrollbars, always show top\n      }\n      if (bodyOverflowX) {\n        frecords.css('margin-bottom', w2utils.scrollBarSize());\n        scroll1.show();\n      } else {\n        frecords.css('margin-bottom', 0);\n        scroll1.hide();\n      }\n      frecords.css({ overflow: 'hidden', top: records.css('top') });\n      if (this.show.emptyRecords && !bodyOverflowY) {\n        var max = Math.floor(records.height() / this.recordHeight) - 1;\n        var leftover = 0;\n        if (records[0]) leftover = records[0].scrollHeight - max * this.recordHeight;\n        if (leftover >= this.recordHeight) {\n          leftover -= this.recordHeight;\n          max++;\n        }\n        if (this.fixedBody) {\n          for (var di = buffered; di < max; di++) {\n            addEmptyRow(di, this.recordHeight, this);\n          }\n          addEmptyRow(max, leftover, this);\n        }\n      }\n\n      function addEmptyRow(row, height, grid) {\n        var html1 = '';\n        var html2 = '';\n        var htmlp = '';\n        html1 += '<tr class=\"' + (row % 2 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-empty-record\" recid=\"-none-\" style=\"height: ' + height + 'px\">';\n        html2 += '<tr class=\"' + (row % 2 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-empty-record\" recid=\"-none-\" style=\"height: ' + height + 'px\">';\n        if (grid.show.lineNumbers) html1 += '<td class=\"w2ui-col-number\"></td>';\n        if (grid.show.selectColumn) html1 += '<td class=\"w2ui-grid-data w2ui-col-select\"></td>';\n        if (grid.show.expandColumn) html1 += '<td class=\"w2ui-grid-data w2ui-col-expand\"></td>';\n        html2 += '<td class=\"w2ui-grid-data-spacer\" col=\"start\" style=\"border-right: 0\"></td>';\n        if (grid.show.orderColumn) html2 += '<td class=\"w2ui-grid-data w2ui-col-order\" col=\"order\"></td>';\n        for (var j = 0; j < grid.columns.length; j++) {\n          var col = grid.columns[j];\n          if ((col.hidden || j < grid.last.colStart || j > grid.last.colEnd) && !col.frozen) continue;\n          htmlp = '<td class=\"w2ui-grid-data\" ' + (col.attr != null ? col.attr : '') + ' col=\"' + j + '\"></td>';\n          if (col.frozen) html1 += htmlp; else html2 += htmlp;\n        }\n        html1 += '<td class=\"w2ui-grid-data-last\"></td> </tr>';\n        html2 += '<td class=\"w2ui-grid-data-last\" col=\"end\"></td> </tr>';\n        $('#grid_' + grid.name + '_frecords > table').append(html1);\n        $('#grid_' + grid.name + '_records > table').append(html2);\n      }\n      if (body.length > 0) {\n        var width_max = parseInt(body.width())\n          - (bodyOverflowY ? w2utils.scrollBarSize() : 0)\n          - (this.show.lineNumbers ? lineNumberWidth : 0)\n          // - (this.show.orderColumn ? 26 : 0)\n          - (this.show.selectColumn ? 26 : 0)\n          - (this.show.expandColumn ? 26 : 0)\n          - 1; // left is 1xp due to border width\n        var width_box = width_max;\n        var percent = 0;\n        // gridMinWidth processing\n        var restart = false;\n        for (var i = 0; i < this.columns.length; i++) {\n          var col = this.columns[i];\n          if (col.gridMinWidth > 0) {\n            if (col.gridMinWidth > width_box && col.hidden !== true) {\n              col.hidden = true;\n              restart = true;\n            }\n            if (col.gridMinWidth < width_box && col.hidden === true) {\n              col.hidden = false;\n              restart = true;\n            }\n          }\n        }\n        if (restart === true) {\n          this.refresh();\n          return;\n        }\n        // assign PX column s\n        for (var i = 0; i < this.columns.length; i++) {\n          var col = this.columns[i];\n          if (col.hidden) continue;\n          if (String(col.size).substr(String(col.size).length - 2).toLowerCase() == 'px') {\n            width_max -= parseFloat(col.size);\n            this.columns[i].sizeCalculated = col.size;\n            this.columns[i].sizeType = 'px';\n          } else {\n            percent += parseFloat(col.size);\n            this.columns[i].sizeType = '%';\n            delete col.sizeCorrected;\n          }\n        }\n        // if sum != 100% -- reassign proportionally\n        if (percent != 100 && percent > 0) {\n          for (var i = 0; i < this.columns.length; i++) {\n            var col = this.columns[i];\n            if (col.hidden) continue;\n            if (col.sizeType == '%') {\n              col.sizeCorrected = Math.round(parseFloat(col.size) * 100 * 100 / percent) / 100 + '%';\n            }\n          }\n        }\n        // calculate % columns\n        for (var i = 0; i < this.columns.length; i++) {\n          var col = this.columns[i];\n          if (col.hidden) continue;\n          if (col.sizeType == '%') {\n            if (this.columns[i].sizeCorrected != null) {\n              // make it 1px smaller, so margin of error can be calculated correctly\n              this.columns[i].sizeCalculated = Math.floor(width_max * parseFloat(col.sizeCorrected) / 100) - 1 + 'px';\n            } else {\n              // make it 1px smaller, so margin of error can be calculated correctly\n              this.columns[i].sizeCalculated = Math.floor(width_max * parseFloat(col.size) / 100) - 1 + 'px';\n            }\n          }\n        }\n      }\n      // fix margin of error that is due percentage calculations\n      var width_cols = 0;\n      for (var i = 0; i < this.columns.length; i++) {\n        var col = this.columns[i];\n        if (col.hidden) continue;\n        if (col.min == null) col.min = 20;\n        if (parseInt(col.sizeCalculated) < parseInt(col.min)) col.sizeCalculated = col.min + 'px';\n        if (parseInt(col.sizeCalculated) > parseInt(col.max)) col.sizeCalculated = col.max + 'px';\n        width_cols += parseInt(col.sizeCalculated);\n      }\n      var width_diff = parseInt(width_box) - parseInt(width_cols);\n      if (width_diff > 0 && percent > 0) {\n        var i = 0;\n        while (true) {\n          var col = this.columns[i];\n          if (col == null) { i = 0; continue; }\n          if (col.hidden || col.sizeType == 'px') { i++; continue; }\n          col.sizeCalculated = (parseInt(col.sizeCalculated) + 1) + 'px';\n          width_diff--;\n          if (width_diff === 0) break;\n          i++;\n        }\n      } else if (width_diff > 0) {\n        columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').css('width', w2utils.scrollBarSize()).show();\n      }\n\n      // find width of frozen columns\n      var fwidth = 1;\n      if (this.show.lineNumbers) fwidth += lineNumberWidth;\n      if (this.show.selectColumn) fwidth += 26;\n      // if (this.show.orderColumn) fwidth += 26;\n      if (this.show.expandColumn) fwidth += 26;\n      for (var i = 0; i < this.columns.length; i++) {\n        if (this.columns[i].hidden) continue;\n        if (this.columns[i].frozen) fwidth += parseInt(this.columns[i].sizeCalculated);\n      }\n      fcolumns.css('width', fwidth);\n      frecords.css('width', fwidth);\n      fsummary.css('width', fwidth);\n      scroll1.css('width', fwidth);\n      columns.css('left', fwidth);\n      records.css('left', fwidth);\n      summary.css('left', fwidth);\n\n      // resize columns\n      columns.find('> table > tbody > tr:nth-child(1) td')\n        .add(fcolumns.find('> table > tbody > tr:nth-child(1) td'))\n        .each(function (index, el) {\n          // line numbers\n          if ($(el).hasClass('w2ui-col-number')) {\n            $(el).css('width', lineNumberWidth);\n          }\n          // records\n          var ind = $(el).attr('col');\n          if (ind != null) {\n            if (ind == 'start') {\n              var width = 0;\n              for (var i = 0; i < obj.last.colStart; i++) {\n                if (!obj.columns[i] || obj.columns[i].frozen || obj.columns[i].hidden) continue;\n                width += parseInt(obj.columns[i].sizeCalculated);\n              }\n              $(el).css('width', width + 'px');\n            }\n            if (obj.columns[ind]) $(el).css('width', obj.columns[ind].sizeCalculated);\n          }\n          // last column\n          if ($(el).hasClass('w2ui-head-last')) {\n            if (obj.last.colEnd + 1 < obj.columns.length) {\n              var width = 0;\n              for (var i = obj.last.colEnd + 1; i < obj.columns.length; i++) {\n                if (!obj.columns[i] || obj.columns[i].frozen || obj.columns[i].hidden) continue;\n                width += parseInt(obj.columns[i].sizeCalculated);\n              }\n              $(el).css('width', width + 'px');\n            } else {\n              $(el).css('width', w2utils.scrollBarSize() + (width_diff > 0 && percent === 0 ? width_diff : 0) + 'px');\n            }\n          }\n        });\n      // if there are column groups - hide first row (needed for sizing)\n      if (columns.find('> table > tbody > tr').length == 3) {\n        columns.find('> table > tbody > tr:nth-child(1) td')\n          .add(fcolumns.find('> table > tbody > tr:nth-child(1) td'))\n          .html('').css({\n            'height': '0px',\n            'border': '0px',\n            'padding': '0px',\n            'margin': '0px'\n          });\n      }\n      // resize records\n      records.find('> table > tbody > tr:nth-child(1) td')\n        .add(frecords.find('> table > tbody > tr:nth-child(1) td'))\n        .each(function (index, el) {\n          // line numbers\n          if ($(el).hasClass('w2ui-col-number')) {\n            $(el).css('width', lineNumberWidth);\n          }\n          // records\n          var ind = $(el).attr('col');\n          if (ind != null) {\n            if (ind == 'start') {\n              var width = 0;\n              for (var i = 0; i < obj.last.colStart; i++) {\n                if (!obj.columns[i] || obj.columns[i].frozen || obj.columns[i].hidden) continue;\n                width += parseInt(obj.columns[i].sizeCalculated);\n              }\n              $(el).css('width', width + 'px');\n            }\n            if (obj.columns[ind]) $(el).css('width', obj.columns[ind].sizeCalculated);\n          }\n          // last column\n          if ($(el).hasClass('w2ui-grid-data-last') && $(el).parents('.w2ui-grid-frecords').length === 0) { // not in frecords\n            if (obj.last.colEnd + 1 < obj.columns.length) {\n              var width = 0;\n              for (var i = obj.last.colEnd + 1; i < obj.columns.length; i++) {\n                if (!obj.columns[i] || obj.columns[i].frozen || obj.columns[i].hidden) continue;\n                width += parseInt(obj.columns[i].sizeCalculated);\n              }\n              $(el).css('width', width + 'px');\n            } else {\n              $(el).css('width', (width_diff > 0 && percent === 0 ? width_diff : 0) + 'px');\n            }\n          }\n        });\n      // resize summary\n      summary.find('> table > tbody > tr:nth-child(1) td')\n        .add(fsummary.find('> table > tbody > tr:nth-child(1) td'))\n        .each(function (index, el) {\n          // line numbers\n          if ($(el).hasClass('w2ui-col-number')) {\n            $(el).css('width', lineNumberWidth);\n          }\n          // records\n          var ind = $(el).attr('col');\n          if (ind != null) {\n            if (ind == 'start') {\n              var width = 0;\n              for (var i = 0; i < obj.last.colStart; i++) {\n                if (!obj.columns[i] || obj.columns[i].frozen || obj.columns[i].hidden) continue;\n                width += parseInt(obj.columns[i].sizeCalculated);\n              }\n              $(el).css('width', width + 'px');\n            }\n            if (obj.columns[ind]) $(el).css('width', obj.columns[ind].sizeCalculated);\n          }\n          // last column\n          if ($(el).hasClass('w2ui-grid-data-last') && $(el).parents('.w2ui-grid-frecords').length === 0) { // not in frecords\n            $(el).css('width', w2utils.scrollBarSize() + (width_diff > 0 && percent === 0 ? width_diff : 0) + 'px');\n          }\n        });\n      this.initResize();\n      this.refreshRanges();\n      // apply last scroll if any\n      if ((this.last.scrollTop || this.last.scrollLeft) && records.length > 0) {\n        columns.prop('scrollLeft', this.last.scrollLeft);\n        records.prop('scrollTop', this.last.scrollTop);\n        records.prop('scrollLeft', this.last.scrollLeft);\n      }\n    },\n\n    getSearchesHTML: function () {\n      var obj = this;\n      var html = '<table cellspacing=\"0\"><tbody>';\n      var showBtn = false;\n      for (var i = 0; i < this.searches.length; i++) {\n        var s = this.searches[i];\n        s.type = String(s.type).toLowerCase();\n        if (s.hidden) continue;\n        var btn = '';\n        if (showBtn == false) {\n          btn = '<button type=\"button\" class=\"w2ui-btn close-btn\" onclick=\"obj = w2ui[\\'' + this.name + '\\']; if (obj) obj.searchClose()\">X</button>';\n          showBtn = true;\n        }\n        if (s.inTag == null) s.inTag = '';\n        if (s.outTag == null) s.outTag = '';\n        if (s.style == null) s.style = '';\n        if (s.type == null) s.type = 'text';\n        if (s.label == null && s.caption != null) {\n          console.log('NOTICE: grid search.caption property is deprecated, please use search.label. Search ->', s)\n          s.label = s.caption;\n        }\n        var operator =\n          '<select id=\"grid_' + this.name + '_operator_' + i + '\" class=\"w2ui-input\" ' +\n          '   onchange=\"w2ui[\\'' + this.name + '\\'].initOperator(this, ' + i + ')\">' +\n          getOperators(s.type, s.operators) +\n          '</select>';\n\n        html += '<tr>' +\n          '    <td class=\"close-btn\">' + btn + '</td>' +\n          '    <td class=\"caption\">' + (s.label || '') + '</td>' +\n          '    <td class=\"operator\">' + operator + '</td>' +\n          '    <td class=\"value\">';\n\n        switch (s.type) {\n          case 'text':\n          case 'alphanumeric':\n          case 'hex':\n          case 'color':\n          case 'list':\n          case 'combo':\n          case 'enum':\n            var tmpStyle = 'width: 250px;';\n            if (['hex', 'color'].indexOf(s.type) != -1) tmpStyle = 'width: 90px;';\n            html += '<input rel=\"search\" type=\"text\" id=\"grid_' + this.name + '_field_' + i + '\" name=\"' + s.field + '\" ' +\n              '   class=\"w2ui-input\" style=\"' + tmpStyle + s.style + '\" ' + s.inTag + '/>';\n            break;\n\n          case 'int':\n          case 'float':\n          case 'money':\n          case 'currency':\n          case 'percent':\n          case 'date':\n          case 'time':\n          case 'datetime':\n            var tmpStyle = 'width: 90px;';\n            if (s.type == 'datetime') tmpStyle = 'width: 140px;';\n            html += '<input rel=\"search\" type=\"text\" class=\"w2ui-input\" style=\"' + tmpStyle + s.style + '\" id=\"grid_' + this.name + '_field_' + i + '\" name=\"' + s.field + '\" ' + s.inTag + '/>' +\n              '<span id=\"grid_' + this.name + '_range_' + i + '\" style=\"display: none\">&#160;-&#160;&#160;' +\n              '<input rel=\"search\" type=\"text\" class=\"w2ui-input\" style=\"' + tmpStyle + s.style + '\" id=\"grid_' + this.name + '_field2_' + i + '\" name=\"' + s.field + '\" ' + s.inTag + '/>' +\n              '</span>';\n            break;\n\n          case 'select':\n            html += '<select rel=\"search\" class=\"w2ui-input\" style=\"' + s.style + '\" id=\"grid_' + this.name + '_field_' + i + '\" ' +\n              ' name=\"' + s.field + '\" ' + s.inTag + '></select>';\n            break;\n\n        }\n        html += s.outTag +\n          '    </td>' +\n          '</tr>';\n      }\n      html += '<tr>' +\n        '    <td colspan=\"4\" class=\"actions\">' +\n        '        <div>' +\n        '        <button type=\"button\" class=\"w2ui-btn\" onclick=\"obj = w2ui[\\'' + this.name + '\\']; if (obj) { obj.searchReset(); }\">' + w2utils.lang('Reset') + '</button>' +\n        '        <button type=\"button\" class=\"w2ui-btn w2ui-btn-blue\" onclick=\"obj = w2ui[\\'' + this.name + '\\']; if (obj) { obj.search(); }\">' + w2utils.lang('Search') + '</button>' +\n        '        </div>' +\n        '    </td>' +\n        '</tr></tbody></table>';\n      return html;\n\n      function getOperators(type, fieldOperators) {\n        var html = '';\n        var operators = obj.operators[obj.operatorsMap[type]];\n        if (fieldOperators != null) operators = fieldOperators;\n        for (var i = 0; i < operators.length; i++) {\n          var oper = operators[i];\n          var text = oper;\n          if (Array.isArray(oper)) {\n            text = oper[1];\n            oper = oper[0];\n            if (text == null) text = oper;\n          } else if ($.isPlainObject(oper)) {\n            text = oper.text;\n            oper = oper.oper;\n          }\n          html += '<option value=\"' + oper + '\">' + w2utils.lang(text) + '</option>\\n';\n        }\n        return html;\n      }\n    },\n\n    initOperator: function (el, search_ind) {\n      var obj = this;\n      var search = obj.searches[search_ind];\n      var range = $('#grid_' + obj.name + '_range_' + search_ind);\n      var fld1 = $('#grid_' + obj.name + '_field_' + search_ind);\n      var fld2 = fld1.parent().find('span input');\n      fld1.show();\n      range.hide();\n      switch ($(el).val()) {\n        case 'between':\n          range.show();\n          fld2.w2field(search.type, search.options);\n          break;\n        case 'not null':\n        case 'null':\n          fld1.hide();\n          fld1.val('1'); // need to insert something for search to activate\n          fld1.change();\n          break;\n      }\n    },\n\n    initSearches: function () {\n      var obj = this;\n      // init searches\n      for (var s = 0; s < this.searches.length; s++) {\n        var search = this.searches[s];\n        var sdata = this.getSearchData(search.field);\n        search.type = String(search.type).toLowerCase();\n        var operators = obj.operators[obj.operatorsMap[search.type]];\n        if (search.operators) operators = search.operators;\n        var operator = operators[0]; // default operator\n        if ($.isPlainObject(operator)) operator = operator.oper;\n        if (typeof search.options != 'object') search.options = {};\n        if (search.type == 'text') operator = this.textSearch;\n        // only accept search.operator if it is valid\n        for (var i = 0; i < operators.length; i++) {\n          var oper = operators[i];\n          if ($.isPlainObject(oper)) oper = oper.oper;\n          if (search.operator == oper) {\n            operator = search.operator;\n            break;\n          }\n        }\n        // init types\n        switch (search.type) {\n          case 'text':\n          case 'alphanumeric':\n            $('#grid_' + this.name + '_field_' + s).w2field(search.type, search.options);\n            break;\n\n          case 'int':\n          case 'float':\n          case 'hex':\n          case 'color':\n          case 'money':\n          case 'currency':\n          case 'percent':\n          case 'date':\n          case 'time':\n          case 'datetime':\n            $('#grid_' + this.name + '_field_' + s).w2field(search.type, search.options);\n            $('#grid_' + this.name + '_field2_' + s).w2field(search.type, search.options);\n            setTimeout(function () { // convert to date if it is number\n              $('#grid_' + obj.name + '_field_' + s).keydown();\n              $('#grid_' + obj.name + '_field2_' + s).keydown();\n            }, 1);\n            break;\n\n          case 'list':\n          case 'combo':\n          case 'enum':\n            var options = search.options;\n            if (search.type == 'list') options.selected = {};\n            if (search.type == 'enum') options.selected = [];\n            if (sdata) options.selected = sdata.value;\n            $('#grid_' + this.name + '_field_' + s).w2field(search.type, $.extend({ openOnFocus: true }, options));\n            if (sdata && sdata.text != null) $('#grid_' + this.name + '_field_' + s).data('selected', { id: sdata.value, text: sdata.text });\n            break;\n\n          case 'select':\n            // build options\n            var options = '<option value=\"\">--</option>';\n            for (var i = 0; i < search.options.items.length; i++) {\n              var si = search.options.items[i];\n              if ($.isPlainObject(search.options.items[i])) {\n                var val = si.id;\n                var txt = si.text;\n                if (val == null && si.value != null) val = si.value;\n                if (txt == null && si.text != null) txt = si.text;\n                if (val == null) val = '';\n                options += '<option value=\"' + val + '\">' + txt + '</option>';\n              } else {\n                options += '<option value=\"' + si + '\">' + si + '</option>';\n              }\n            }\n            $('#grid_' + this.name + '_field_' + s).html(options);\n            break;\n        }\n        if (sdata != null) {\n          if (sdata.type == 'int' && ['in', 'not in'].indexOf(sdata.operator) != -1) {\n            $('#grid_' + this.name + '_field_' + s).w2field('clear').val(sdata.value);\n          }\n          $('#grid_' + this.name + '_operator_' + s).val(sdata.operator).trigger('change');\n          if (!$.isArray(sdata.value)) {\n            if (sdata.value != null) $('#grid_' + this.name + '_field_' + s).val(sdata.value).trigger('change');\n          } else {\n            if (['in', 'not in'].indexOf(sdata.operator) != -1) {\n              $('#grid_' + this.name + '_field_' + s).val(sdata.value).trigger('change');\n            } else {\n              $('#grid_' + this.name + '_field_' + s).val(sdata.value[0]).trigger('change');\n              $('#grid_' + this.name + '_field2_' + s).val(sdata.value[1]).trigger('change');\n            }\n          }\n        } else {\n          $('#grid_' + this.name + '_operator_' + s).val(operator).trigger('change');\n        }\n      }\n      // add on change event\n      $('#w2ui-overlay-' + this.name + '-searchOverlay .w2ui-grid-searches *[rel=search]').on('keypress', function (evnt) {\n        if (evnt.keyCode == 13) {\n          obj.search();\n          $().w2overlay({ name: obj.name + '-searchOverlay' });\n        }\n      });\n    },\n\n    getColumnsHTML: function () {\n      var obj = this;\n      var html1 = '';\n      var html2 = '';\n      if (this.show.columnHeaders) {\n        if (this.columnGroups.length > 0) {\n          var tmp1 = getColumns(true);\n          var tmp2 = getGroups();\n          var tmp3 = getColumns(false);\n          html1 = tmp1[0] + tmp2[0] + tmp3[0];\n          html2 = tmp1[1] + tmp2[1] + tmp3[1];\n        } else {\n          var tmp = getColumns(true);\n          html1 = tmp[0];\n          html2 = tmp[1];\n        }\n      }\n      return [html1, html2];\n\n      function getGroups() {\n        var html1 = '<tr>';\n        var html2 = '<tr>';\n        var tmpf = '';\n        // add empty group at the end\n        var tmp = obj.columnGroups.length - 1;\n        if (obj.columnGroups[tmp].text == null && obj.columnGroups[tmp].caption != null) {\n          console.log('NOTICE: grid columnGroup.caption property is deprecated, please use columnGroup.text. Group -> ', obj.columnGroups[tmp]);\n          obj.columnGroups[tmp].text = obj.columnGroups[tmp].caption;\n        }\n        if (obj.columnGroups[obj.columnGroups.length - 1].text != '') obj.columnGroups.push({ text: '' });\n\n        if (obj.show.lineNumbers) {\n          html1 += '<td class=\"w2ui-head w2ui-col-number\">' +\n            '    <div style=\"height: ' + (obj.recordHeight + 1) + 'px\">&#160;</div>' +\n            '</td>';\n        }\n        if (obj.show.selectColumn) {\n          html1 += '<td class=\"w2ui-head w2ui-col-select\">' +\n            '    <div style=\"height: 25px\">&#160;</div>' +\n            '</td>';\n        }\n        if (obj.show.expandColumn) {\n          html1 += '<td class=\"w2ui-head w2ui-col-expand\">' +\n            '    <div style=\"height: 25px\">&#160;</div>' +\n            '</td>';\n        }\n        var ii = 0;\n        html2 += '<td id=\"grid_' + obj.name + '_column_start\" class=\"w2ui-head\" col=\"start\" style=\"border-right: 0\"></td>';\n        if (obj.show.orderColumn) {\n          html2 += '<td class=\"w2ui-head w2ui-col-order\" col=\"order\">' +\n            '    <div style=\"height: 25px\">&#160;</div>' +\n            '</td>';\n        }\n        for (var i = 0; i < obj.columnGroups.length; i++) {\n          var colg = obj.columnGroups[i];\n          var col = obj.columns[ii];\n          if (colg.colspan != null) colg.span = colg.colspan;\n          if (colg.span == null || colg.span != parseInt(colg.span)) colg.span = 1;\n          if (col.text == null && col.caption != null) {\n            console.log('NOTICE: grid column.caption property is deprecated, please use column.text. Column ->', col);\n            col.text = col.caption;\n          }\n          var colspan = 0;\n          for (var jj = ii; jj < ii + colg.span; jj++) {\n            if (obj.columns[jj] && !obj.columns[jj].hidden) {\n              colspan++;\n            }\n          }\n          if (i == obj.columnGroups.length - 1) {\n            colspan = 100; // last column\n          }\n          if (colspan <= 0) {\n            // do nothing here, all columns in the group are hidden.\n          } else if (colg.master === true) {\n            var sortStyle = '';\n            for (var si = 0; si < obj.sortData.length; si++) {\n              if (obj.sortData[si].field == col.field) {\n                if ((obj.sortData[si].direction || '').toLowerCase() === 'asc') sortStyle = 'w2ui-sort-up';\n                if ((obj.sortData[si].direction || '').toLowerCase() === 'desc') sortStyle = 'w2ui-sort-down';\n              }\n            }\n            var resizer = \"\";\n            if (col.resizable !== false) {\n              resizer = '<div class=\"w2ui-resizer\" name=\"' + ii + '\"></div>';\n            }\n            var text = (typeof col.text == 'function' ? col.text(col) : col.text);\n            tmpf = '<td id=\"grid_' + obj.name + '_column_' + ii + '\" class=\"w2ui-head ' + sortStyle + '\" col=\"' + ii + '\" ' +\n              '    rowspan=\"2\" colspan=\"' + colspan + '\" ' +\n              '    oncontextmenu = \"w2ui[\\'' + obj.name + '\\'].contextMenu(null, ' + ii + ', event);\"' +\n              '    onclick=\"w2ui[\\'' + obj.name + '\\'].columnClick(\\'' + col.field + '\\', event);\"' +\n              '    ondblclick=\"w2ui[\\'' + obj.name + '\\'].columnDblClick(\\'' + col.field + '\\', event);\">' +\n              resizer +\n              '    <div class=\"w2ui-col-group w2ui-col-header ' + (sortStyle ? 'w2ui-col-sorted' : '') + '\">' +\n              '        <div class=\"' + sortStyle + '\"></div>' +\n              (!text ? '&#160;' : text) +\n              '    </div>' +\n              '</td>';\n            if (col && col.frozen) html1 += tmpf; else html2 += tmpf;\n          } else {\n            var gText = (typeof colg.text == 'function' ? colg.text(colg) : colg.text);\n            tmpf = '<td id=\"grid_' + obj.name + '_column_' + ii + '\" class=\"w2ui-head\" col=\"' + ii + '\" ' +\n              '        colspan=\"' + colspan + '\">' +\n              '    <div class=\"w2ui-col-group\">' +\n              (!gText ? '&#160;' : gText) +\n              '    </div>' +\n              '</td>';\n            if (col && col.frozen) html1 += tmpf; else html2 += tmpf;\n          }\n          ii += colg.span;\n        }\n        html1 += '<td></td></tr>'; // need empty column for border-right\n        html2 += '<td id=\"grid_' + obj.name + '_column_end\" class=\"w2ui-head\" col=\"end\"></td></tr>';\n        return [html1, html2];\n      }\n\n      function getColumns(master) {\n        var html1 = '<tr>';\n        var html2 = '<tr>';\n        if (obj.show.lineNumbers) {\n          html1 += '<td class=\"w2ui-head w2ui-col-number\" ' +\n            '       onclick=\"w2ui[\\'' + obj.name + '\\'].columnClick(\\'line-number\\', event);\"' +\n            '       ondblclick=\"w2ui[\\'' + obj.name + '\\'].columnDblClick(\\'line-number\\', event);\">' +\n            '    <div>#</div>' +\n            '</td>';\n        }\n        if (obj.show.selectColumn) {\n          html1 += '<td class=\"w2ui-head w2ui-col-select\"' +\n            '       onclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">' +\n            '    <div>' +\n            '        <input type=\"checkbox\" id=\"grid_' + obj.name + '_check_all\" tabindex=\"-1\"' +\n            '            style=\"' + (obj.multiSelect == false ? 'display: none;' : '') + '\"' +\n            '            onmousedown=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\"' +\n            '            onclick=\"var grid = w2ui[\\'' + obj.name + '\\'];' +\n            '               if (this.checked) grid.selectAll(); else grid.selectNone();' +\n            '               if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;' +\n            '               clearTimeout(grid.last.kbd_timer); /* keep focus */' +\n            '            \"/>' +\n            '    </div>' +\n            '</td>';\n        }\n        if (obj.show.expandColumn) {\n          html1 += '<td class=\"w2ui-head w2ui-col-expand\">' +\n            '    <div>&#160;</div>' +\n            '</td>';\n        }\n        var ii = 0;\n        var id = 0;\n        var colg;\n        html2 += '<td id=\"grid_' + obj.name + '_column_start\" class=\"w2ui-head\" col=\"start\" style=\"border-right: 0\"></td>';\n        if (obj.show.orderColumn) {\n          html2 += '<td class=\"w2ui-head w2ui-col-order\" col=\"order\">' +\n            '    <div>&#160;</div>' +\n            '</td>';\n        }\n        for (var i = 0; i < obj.columns.length; i++) {\n          var col = obj.columns[i];\n          if (col.text == null && col.caption != null) {\n            console.log('NOTICE: grid column.caption property is deprecated, please use column.text. Column -> ', col);\n            col.text = col.caption;\n          }\n          if (col.size == null) col.size = '100%';\n          if (i == id) {      // always true on first iteration\n            colg = obj.columnGroups[ii++] || {};\n            id = id + colg.span;\n          }\n          if ((i < obj.last.colStart || i > obj.last.colEnd) && !col.frozen)\n            continue;\n          if (col.hidden)\n            continue;\n          if (colg.master !== true || master) { // grouping of columns\n            var colCellHTML = obj.getColumnCellHTML(i);\n            if (col && col.frozen) html1 += colCellHTML; else html2 += colCellHTML;\n          }\n        }\n        html1 += '<td class=\"w2ui-head w2ui-head-last\"><div>&#160;</div></td>';\n        html2 += '<td class=\"w2ui-head w2ui-head-last\" col=\"end\"><div>&#160;</div></td>';\n        html1 += '</tr>';\n        html2 += '</tr>';\n        return [html1, html2];\n      }\n    },\n\n    getColumnCellHTML: function (i) {\n      var col = this.columns[i];\n      if (col == null) return '';\n      // reorder style\n      var reorderCols = (this.reorderColumns && (!this.columnGroups || !this.columnGroups.length)) ? ' w2ui-reorder-cols-head ' : '';\n      // sort style\n      var sortStyle = '';\n      for (var si = 0; si < this.sortData.length; si++) {\n        if (this.sortData[si].field == col.field) {\n          if ((this.sortData[si].direction || '').toLowerCase() === 'asc') sortStyle = 'w2ui-sort-up';\n          if ((this.sortData[si].direction || '').toLowerCase() === 'desc') sortStyle = 'w2ui-sort-down';\n        }\n      }\n      // col selected\n      var tmp = this.last.selection.columns;\n      var selected = false;\n      for (var t in tmp) {\n        for (var si = 0; si < tmp[t].length; si++) {\n          if (tmp[t][si] == i) selected = true;\n        }\n      }\n      var text = (typeof col.text == 'function' ? col.text(col) : col.text);\n      var html = '<td id=\"grid_' + this.name + '_column_' + i + '\" col=\"' + i + '\" class=\"w2ui-head ' + sortStyle + reorderCols + '\" ' +\n        (this.columnTooltip == 'normal' && col.tooltip ? 'title=\"' + col.tooltip + '\" ' : '') +\n        '    onmouseEnter = \"w2ui[\\'' + this.name + '\\'].columnTooltipShow(\\'' + i + '\\', event);\"' +\n        '    onmouseLeave  = \"w2ui[\\'' + this.name + '\\'].columnTooltipHide(\\'' + i + '\\', event);\"' +\n        '    oncontextmenu = \"w2ui[\\'' + this.name + '\\'].contextMenu(null, ' + i + ', event);\"' +\n        '    onclick=\"w2ui[\\'' + this.name + '\\'].columnClick(\\'' + col.field + '\\', event);\"' +\n        '    ondblclick=\"w2ui[\\'' + this.name + '\\'].columnDblClick(\\'' + col.field + '\\', event);\">' +\n        (col.resizable !== false ? '<div class=\"w2ui-resizer\" name=\"' + i + '\"></div>' : '') +\n        '    <div class=\"w2ui-col-header ' + (sortStyle ? 'w2ui-col-sorted' : '') + ' ' + (selected ? 'w2ui-col-selected' : '') + '\">' +\n        '        <div class=\"' + sortStyle + '\"></div>' +\n        (!text ? '&#160;' : text) +\n        '    </div>' +\n        '</td>';\n\n      return html\n    },\n\n    columnTooltipShow: function (ind) {\n      if (this.columnTooltip == 'normal') return;\n      var $el = $(this.box).find('#grid_' + this.name + '_column_' + ind);\n      var item = this.columns[ind];\n      var pos = this.columnTooltip;\n      $el.prop('_mouse_over', true);\n      setTimeout(function () {\n        if ($el.prop('_mouse_over') === true && $el.prop('_mouse_tooltip') !== true) {\n          $el.prop('_mouse_tooltip', true);\n          // show tooltip\n          $el.w2tag(item.tooltip, { position: pos, top: 5 });\n        }\n      }, 1);\n    },\n\n    columnTooltipHide: function (ind) {\n      if (this.columnTooltip == 'normal') return;\n      var $el = $(this.box).find('#grid_' + this.name + '_column_' + ind);\n      var item = this.columns[ind];\n      $el.removeProp('_mouse_over');\n      setTimeout(function () {\n        if ($el.prop('_mouse_over') !== true && $el.prop('_mouse_tooltip') === true) {\n          $el.removeProp('_mouse_tooltip');\n          // hide tooltip\n          $el.w2tag();\n        }\n      }, 1);\n    },\n\n    getRecordsHTML: function () {\n      var buffered = this.records.length;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (this.searchData.length != 0 && !url) buffered = this.last.searchIds.length;\n      // larger number works better with chrome, smaller with FF.\n      if (buffered > this.vs_start) this.last.show_extra = this.vs_extra; else this.last.show_extra = this.vs_start;\n      var records = $('#grid_' + this.name + '_records');\n      var limit = Math.floor((records.height() || 0) / this.recordHeight) + this.last.show_extra + 1;\n      if (!this.fixedBody || limit > buffered) limit = buffered;\n      // always need first record for resizing purposes\n      var rec_html = this.getRecordHTML(-1, 0);\n      var html1 = '<table><tbody>' + rec_html[0];\n      var html2 = '<table><tbody>' + rec_html[1];\n      // first empty row with height\n      html1 += '<tr id=\"grid_' + this.name + '_frec_top\" line=\"top\" style=\"height: ' + 0 + 'px\">' +\n        '    <td colspan=\"2000\"></td>' +\n        '</tr>';\n      html2 += '<tr id=\"grid_' + this.name + '_rec_top\" line=\"top\" style=\"height: ' + 0 + 'px\">' +\n        '    <td colspan=\"2000\"></td>' +\n        '</tr>';\n      for (var i = 0; i < limit; i++) {\n        rec_html = this.getRecordHTML(i, i + 1);\n        html1 += rec_html[0];\n        html2 += rec_html[1];\n      }\n      var h2 = (buffered - limit) * this.recordHeight;\n      html1 += '<tr id=\"grid_' + this.name + '_frec_bottom\" rec=\"bottom\" line=\"bottom\" style=\"height: ' + h2 + 'px; vertical-align: top\">' +\n        '    <td colspan=\"2000\" style=\"border-right: 1px solid #D6D5D7;\"></td>' +\n        '</tr>' +\n        '<tr id=\"grid_' + this.name + '_frec_more\" style=\"display: none; \">' +\n        '    <td colspan=\"2000\" class=\"w2ui-load-more\"></td>' +\n        '</tr>' +\n        '</tbody></table>';\n      html2 += '<tr id=\"grid_' + this.name + '_rec_bottom\" rec=\"bottom\" line=\"bottom\" style=\"height: ' + h2 + 'px; vertical-align: top\">' +\n        '    <td colspan=\"2000\" style=\"border: 0\"></td>' +\n        '</tr>' +\n        '<tr id=\"grid_' + this.name + '_rec_more\" style=\"display: none\">' +\n        '    <td colspan=\"2000\" class=\"w2ui-load-more\"></td>' +\n        '</tr>' +\n        '</tbody></table>';\n      this.last.range_start = 0;\n      this.last.range_end = limit;\n      return [html1, html2];\n    },\n\n    getSummaryHTML: function () {\n      if (this.summary.length === 0) return;\n      var rec_html = this.getRecordHTML(-1, 0); // need this in summary too for colspan to work properly\n      var html1 = '<table><tbody>' + rec_html[0];\n      var html2 = '<table><tbody>' + rec_html[1];\n      for (var i = 0; i < this.summary.length; i++) {\n        rec_html = this.getRecordHTML(i, i + 1, true);\n        html1 += rec_html[0];\n        html2 += rec_html[1];\n      }\n      html1 += '</tbody></table>';\n      html2 += '</tbody></table>';\n      return [html1, html2];\n    },\n\n    scroll: function (event) {\n      var time = (new Date()).getTime();\n      var obj = this;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      var records = $('#grid_' + this.name + '_records');\n      var frecords = $('#grid_' + this.name + '_frecords');\n      // sync scroll positions\n      if (event) {\n        var sTop = event.target.scrollTop;\n        var sLeft = event.target.scrollLeft;\n        obj.last.scrollTop = sTop;\n        obj.last.scrollLeft = sLeft;\n        $('#grid_' + obj.name + '_columns')[0].scrollLeft = sLeft;\n        $('#grid_' + obj.name + '_summary')[0].scrollLeft = sLeft;\n        frecords[0].scrollTop = sTop;\n      }\n      // hide bubble\n      if (this.last.bubbleEl) {\n        $(this.last.bubbleEl).w2tag();\n        this.last.bubbleEl = null;\n      }\n      // column virtual scroll\n      var colStart = null;\n      var colEnd = null;\n      if (obj.disableCVS || obj.columnGroups.length > 0) {\n        // disable virtual scroll\n        colStart = 0;\n        colEnd = obj.columns.length - 1;\n      } else {\n        var sWidth = records.width();\n        var cLeft = 0;\n        for (var i = 0; i < obj.columns.length; i++) {\n          if (obj.columns[i].frozen || obj.columns[i].hidden) continue;\n          var cSize = parseInt(obj.columns[i].sizeCalculated ? obj.columns[i].sizeCalculated : obj.columns[i].size);\n          if (cLeft + cSize + 30 > obj.last.scrollLeft && colStart == null) colStart = i;\n          if (cLeft + cSize - 30 > obj.last.scrollLeft + sWidth && colEnd == null) colEnd = i;\n          cLeft += cSize;\n        }\n        if (colEnd == null) colEnd = obj.columns.length - 1;\n      }\n      if (colStart != null) {\n        if (colStart < 0) colStart = 0;\n        if (colEnd < 0) colEnd = 0;\n        if (colStart == colEnd) {\n          if (colStart > 0) colStart--; else colEnd++; // show at least one column\n        }\n        // ---------\n        if (colStart != obj.last.colStart || colEnd != obj.last.colEnd) {\n          var $box = $(obj.box);\n          var deltaStart = Math.abs(colStart - obj.last.colStart);\n          var deltaEnd = Math.abs(colEnd - obj.last.colEnd)\n          // add/remove columns for small jumps\n          if (deltaStart < 5 && deltaEnd < 5) {\n            var $cfirst = $box.find('.w2ui-grid-columns #grid_' + obj.name + '_column_start');\n            var $clast = $box.find('.w2ui-grid-columns .w2ui-head-last');\n            var $rfirst = $box.find('#grid_' + obj.name + '_records .w2ui-grid-data-spacer');\n            var $rlast = $box.find('#grid_' + obj.name + '_records .w2ui-grid-data-last');\n            var $sfirst = $box.find('#grid_' + obj.name + '_summary .w2ui-grid-data-spacer');\n            var $slast = $box.find('#grid_' + obj.name + '_summary .w2ui-grid-data-last');\n            // remove on left\n            if (colStart > obj.last.colStart) {\n              for (var i = obj.last.colStart; i < colStart; i++) {\n                $box.find('#grid_' + obj.name + '_columns #grid_' + obj.name + '_column_' + i).remove(); // column\n                $box.find('#grid_' + obj.name + '_records td[col=\"' + i + '\"]').remove(); // record\n                $box.find('#grid_' + obj.name + '_summary td[col=\"' + i + '\"]').remove(); // summary\n              }\n            }\n            // remove on right\n            if (colEnd < obj.last.colEnd) {\n              for (var i = obj.last.colEnd; i > colEnd; i--) {\n                $box.find('#grid_' + obj.name + '_columns #grid_' + obj.name + '_column_' + i).remove(); // column\n                $box.find('#grid_' + obj.name + '_records td[col=\"' + i + '\"]').remove(); // record\n                $box.find('#grid_' + obj.name + '_summary td[col=\"' + i + '\"]').remove(); // summary\n              }\n            }\n            // add on left\n            if (colStart < obj.last.colStart) {\n              for (var i = obj.last.colStart - 1; i >= colStart; i--) {\n                if (obj.columns[i] && (obj.columns[i].frozen || obj.columns[i].hidden)) continue;\n                $cfirst.after(obj.getColumnCellHTML(i)); // column\n                // record\n                $rfirst.each(function (ind, el) {\n                  var index = $(el).parent().attr('index');\n                  var td = '<td class=\"w2ui-grid-data\" col=\"' + i + '\" style=\"height: 0px\"></td>'; // width column\n                  if (index != null) td = obj.getCellHTML(parseInt(index), i, false);\n                  $(el).after(td);\n                });\n                // summary\n                $sfirst.each(function (ind, el) {\n                  var index = $(el).parent().attr('index');\n                  var td = '<td class=\"w2ui-grid-data\" col=\"' + i + '\" style=\"height: 0px\"></td>'; // width column\n                  if (index != null) td = obj.getCellHTML(parseInt(index), i, true);\n                  $(el).after(td);\n                });\n              }\n            }\n            // add on right\n            if (colEnd > obj.last.colEnd) {\n              for (var i = obj.last.colEnd + 1; i <= colEnd; i++) {\n                if (obj.columns[i] && (obj.columns[i].frozen || obj.columns[i].hidden)) continue;\n                $clast.before(obj.getColumnCellHTML(i)); // column\n                // record\n                $rlast.each(function (ind, el) {\n                  var index = $(el).parent().attr('index');\n                  var td = '<td class=\"w2ui-grid-data\" col=\"' + i + '\" style=\"height: 0px\"></td>'; // width column\n                  if (index != null) td = obj.getCellHTML(parseInt(index), i, false);\n                  $(el).before(td);\n                });\n                // summary\n                $slast.each(function (ind, el) {\n                  var index = $(el).parent().attr('index') || -1;\n                  var td = obj.getCellHTML(parseInt(index), i, true);\n                  $(el).before(td);\n                });\n              }\n            }\n            obj.last.colStart = colStart;\n            obj.last.colEnd = colEnd;\n            obj.resizeRecords();\n          } else {\n            obj.last.colStart = colStart;\n            obj.last.colEnd = colEnd;\n            // dot not just call obj.refresh();\n            var colHTML = this.getColumnsHTML();\n            var recHTML = this.getRecordsHTML();\n            var sumHTML = this.getSummaryHTML();\n            var $columns = $box.find('#grid_' + this.name + '_columns');\n            var $records = $box.find('#grid_' + this.name + '_records');\n            var $frecords = $box.find('#grid_' + this.name + '_frecords');\n            var $summary = $box.find('#grid_' + this.name + '_summary');\n            $columns.find('tbody').html(colHTML[1]);\n            $frecords.html(recHTML[0]);\n            $records.prepend(recHTML[1]);\n            if (sumHTML != null) $summary.html(sumHTML[1]);\n            // need timeout to clean up (otherwise scroll problem)\n            setTimeout(function () {\n              $records.find('> table').not('table:first-child').remove();\n              if ($summary[0]) $summary[0].scrollLeft = obj.last.scrollLeft;\n            }, 1);\n            obj.resizeRecords();\n          }\n        }\n      }\n      // perform virtual scroll\n      var buffered = this.records.length;\n      if (buffered > this.total && this.total !== -1) buffered = this.total;\n      if (this.searchData.length != 0 && !url) buffered = this.last.searchIds.length;\n      if (buffered === 0 || records.length === 0 || records.height() === 0) return;\n      if (buffered > this.vs_start) this.last.show_extra = this.vs_extra; else this.last.show_extra = this.vs_start;\n      // update footer\n      var t1 = Math.round(records[0].scrollTop / this.recordHeight + 1);\n      var t2 = t1 + (Math.round(records.height() / this.recordHeight) - 1);\n      if (t1 > buffered) t1 = buffered;\n      if (t2 >= buffered - 1) t2 = buffered;\n      $('#grid_' + this.name + '_footer .w2ui-footer-right').html(\n        (obj.show.statusRange\n          ? w2utils.formatNumber(this.offset + t1) + '-' + w2utils.formatNumber(this.offset + t2) +\n          (this.total != -1 ? ' ' + w2utils.lang('of') + ' ' + w2utils.formatNumber(this.total) : '')\n          : '') +\n        (url && obj.show.statusBuffered ? ' (' + w2utils.lang('buffered') + ' ' + w2utils.formatNumber(buffered) +\n          (this.offset > 0 ? ', skip ' + w2utils.formatNumber(this.offset) : '') + ')' : '')\n      );\n      // only for local data source, else no extra records loaded\n      if (!url && (!this.fixedBody || (this.total != -1 && this.total <= this.vs_start))) return;\n      // regular processing\n      var start = Math.floor(records[0].scrollTop / this.recordHeight) - this.last.show_extra;\n      var end = start + Math.floor(records.height() / this.recordHeight) + this.last.show_extra * 2 + 1;\n      // var div  = start - this.last.range_start;\n      if (start < 1) start = 1;\n      if (end > this.total && this.total != -1) end = this.total;\n      var tr1 = records.find('#grid_' + this.name + '_rec_top');\n      var tr2 = records.find('#grid_' + this.name + '_rec_bottom');\n      var tr1f = frecords.find('#grid_' + this.name + '_frec_top');\n      var tr2f = frecords.find('#grid_' + this.name + '_frec_bottom');\n      // if row is expanded\n      if (String(tr1.next().prop('id')).indexOf('_expanded_row') != -1) {\n        tr1.next().remove();\n        tr1f.next().remove();\n      }\n      if (this.total > end && String(tr2.prev().prop('id')).indexOf('_expanded_row') != -1) {\n        tr2.prev().remove();\n        tr2f.prev().remove();\n      }\n      var first = parseInt(tr1.next().attr('line'));\n      var last = parseInt(tr2.prev().attr('line'));\n      //$('#log').html('buffer: '+ this.buffered +' start-end: ' + start + '-'+ end + ' ===> first-last: ' + first + '-' + last);\n      if (first < start || first == 1 || this.last.pull_refresh) { // scroll down\n        if (end <= last + this.last.show_extra - 2 && end != this.total) return;\n        this.last.pull_refresh = false;\n        // remove from top\n        while (true) {\n          var tmp1 = frecords.find('#grid_' + this.name + '_frec_top').next();\n          var tmp2 = records.find('#grid_' + this.name + '_rec_top').next();\n          if (tmp2.attr('line') == 'bottom') break;\n          if (parseInt(tmp2.attr('line')) < start) { tmp1.remove(); tmp2.remove(); } else break;\n        }\n        // add at bottom\n        var tmp = records.find('#grid_' + this.name + '_rec_bottom').prev();\n        var rec_start = tmp.attr('line');\n        if (rec_start == 'top') rec_start = start;\n        for (var i = parseInt(rec_start) + 1; i <= end; i++) {\n          if (!this.records[i - 1]) continue;\n          var tmp2 = this.records[i - 1].w2ui;\n          if (tmp2 && !Array.isArray(tmp2.children)) {\n            tmp2.expanded = false;\n          }\n          var rec_html = this.getRecordHTML(i - 1, i);\n          tr2.before(rec_html[1]);\n          tr2f.before(rec_html[0]);\n        }\n        markSearch();\n        setTimeout(function () { obj.refreshRanges(); }, 0);\n      } else { // scroll up\n        if (start >= first - this.last.show_extra + 2 && start > 1) return;\n        // remove from bottom\n        while (true) {\n          var tmp1 = frecords.find('#grid_' + this.name + '_frec_bottom').prev();\n          var tmp2 = records.find('#grid_' + this.name + '_rec_bottom').prev();\n          if (tmp2.attr('line') == 'top') break;\n          if (parseInt(tmp2.attr('line')) > end) { tmp1.remove(); tmp2.remove(); } else break;\n        }\n        // add at top\n        var tmp = records.find('#grid_' + this.name + '_rec_top').next();\n        var rec_start = tmp.attr('line');\n        if (rec_start == 'bottom') rec_start = end;\n        for (var i = parseInt(rec_start) - 1; i >= start; i--) {\n          if (!this.records[i - 1]) continue;\n          var tmp2 = this.records[i - 1].w2ui;\n          if (tmp2 && !Array.isArray(tmp2.children)) {\n            tmp2.expanded = false;\n          }\n          var rec_html = this.getRecordHTML(i - 1, i);\n          tr1.after(rec_html[1]);\n          tr1f.after(rec_html[0]);\n        }\n        markSearch();\n        setTimeout(function () { obj.refreshRanges(); }, 0);\n      }\n      // first/last row size\n      var h1 = (start - 1) * obj.recordHeight;\n      var h2 = (buffered - end) * this.recordHeight;\n      if (h2 < 0) h2 = 0;\n      tr1.css('height', h1 + 'px');\n      tr1f.css('height', h1 + 'px');\n      tr2.css('height', h2 + 'px');\n      tr2f.css('height', h2 + 'px');\n      obj.last.range_start = start;\n      obj.last.range_end = end;\n      // load more if needed\n      var s = Math.floor(records[0].scrollTop / this.recordHeight);\n      var e = s + Math.floor(records.height() / this.recordHeight);\n      if (e + 10 > buffered && this.last.pull_more !== true && (buffered < this.total - this.offset || (this.total == -1 && this.last.xhr_hasMore))) {\n        if (this.autoLoad === true) {\n          this.last.pull_more = true;\n          this.last.xhr_offset += this.limit;\n          this.request('get');\n        }\n        // scroll function\n        var more = $('#grid_' + this.name + '_rec_more, #grid_' + this.name + '_frec_more');\n        more.show()\n          .eq(1) // only main table\n          .off('.load-more')\n          .on('click.load-more', function () {\n            // show spinner\n            $(this).find('td').html('<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>');\n            // load more\n            obj.last.pull_more = true;\n            obj.last.xhr_offset += obj.limit;\n            obj.request('get');\n          })\n          .find('td')\n          .html(obj.autoLoad\n            ? '<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>'\n            : '<div style=\"padding-top: 15px\">' + w2utils.lang('Load') + ' ' + obj.limit + ' ' + w2utils.lang('More') + '...</div>'\n          )\n      }\n\n      function markSearch() {\n        // mark search\n        if (!obj.markSearch) return;\n        clearTimeout(obj.last.marker_timer);\n        obj.last.marker_timer = setTimeout(function () {\n          // mark all search strings\n          var search = [];\n          for (var s = 0; s < obj.searchData.length; s++) {\n            var sdata = obj.searchData[s];\n            var fld = obj.getSearch(sdata.field);\n            if (!fld || fld.hidden) continue;\n            var ind = obj.getColumn(sdata.field, true);\n            search.push({ field: sdata.field, search: sdata.value, col: ind });\n          }\n          if (search.length > 0) {\n            search.forEach(function (item) {\n              $(obj.box).find('td[col=\"' + item.col + '\"]').not('.w2ui-head').w2marker(item.search);\n            });\n          }\n        }, 50);\n      }\n    },\n\n    getRecordHTML: function (ind, lineNum, summary) {\n      var tmph = '';\n      var rec_html1 = '';\n      var rec_html2 = '';\n      var sel = this.last.selection;\n      var record;\n      // first record needs for resize purposes\n      if (ind == -1) {\n        rec_html1 += '<tr line=\"0\">';\n        rec_html2 += '<tr line=\"0\">';\n        if (this.show.lineNumbers) rec_html1 += '<td class=\"w2ui-col-number\" style=\"height: 0px;\"></td>';\n        if (this.show.selectColumn) rec_html1 += '<td class=\"w2ui-col-select\" style=\"height: 0px;\"></td>';\n        if (this.show.expandColumn) rec_html1 += '<td class=\"w2ui-col-expand\" style=\"height: 0px;\"></td>';\n        rec_html2 += '<td class=\"w2ui-grid-data w2ui-grid-data-spacer\" col=\"start\" style=\"height: 0px; width: 0px;\"></td>';\n        if (this.show.orderColumn) rec_html2 += '<td class=\"w2ui-col-order\" style=\"height: 0px;\" col=\"order\"></td>';\n        for (var i = 0; i < this.columns.length; i++) {\n          var col = this.columns[i];\n          tmph = '<td class=\"w2ui-grid-data\" col=\"' + i + '\" style=\"height: 0px;\"></td>';\n          if (col.frozen && !col.hidden) {\n            rec_html1 += tmph;\n          } else {\n            if (col.hidden || i < this.last.colStart || i > this.last.colEnd) continue;\n            rec_html2 += tmph;\n          }\n        }\n        rec_html1 += '<td class=\"w2ui-grid-data-last\" style=\"height: 0px\"></td>';\n        rec_html2 += '<td class=\"w2ui-grid-data-last\" col=\"end\" style=\"height: 0px\"></td>';\n        rec_html1 += '</tr>';\n        rec_html2 += '</tr>';\n        return [rec_html1, rec_html2];\n      }\n      // regular record\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (summary !== true) {\n        if (this.searchData.length > 0 && !url) {\n          if (ind >= this.last.searchIds.length) return '';\n          ind = this.last.searchIds[ind];\n          record = this.records[ind];\n        } else {\n          if (ind >= this.records.length) return '';\n          record = this.records[ind];\n        }\n      } else {\n        if (ind >= this.summary.length) return '';\n        record = this.summary[ind];\n      }\n      if (!record) return '';\n      if (record.recid == null && this.recid != null) {\n        var rid = this.parseField(record, this.recid)\n        if (rid != null) record.recid = rid;\n      }\n      var id = w2utils.escapeId(record.recid);\n      var isRowSelected = false;\n      if (sel.indexes.indexOf(ind) != -1) isRowSelected = true;\n      var rec_style = (record.w2ui ? record.w2ui.style : '');\n      if (rec_style == null || typeof rec_style != 'string') rec_style = '';\n      var rec_class = (record.w2ui ? record.w2ui.class : '');\n      if (rec_class == null || typeof rec_class != 'string') rec_class = '';\n      // render TR\n      rec_html1 += '<tr id=\"grid_' + this.name + '_frec_' + record.recid + '\" recid=\"' + record.recid + '\" line=\"' + lineNum + '\" index=\"' + ind + '\" ' +\n        ' class=\"' + (lineNum % 2 === 0 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-record ' + rec_class +\n        (isRowSelected && this.selectType == 'row' ? ' w2ui-selected' : '') +\n        (record.w2ui && record.w2ui.editable === false ? ' w2ui-no-edit' : '') +\n        (record.w2ui && record.w2ui.expanded === true ? ' w2ui-expanded' : '') + '\" ' +\n        ' style=\"height: ' + this.recordHeight + 'px; ' + (!isRowSelected && rec_style != '' ? rec_style : rec_style.replace('background-color', 'none')) + '\" ' +\n        (rec_style != '' ? 'custom_style=\"' + rec_style + '\"' : '') +\n        '>';\n      rec_html2 += '<tr id=\"grid_' + this.name + '_rec_' + record.recid + '\" recid=\"' + record.recid + '\" line=\"' + lineNum + '\" index=\"' + ind + '\" ' +\n        ' class=\"' + (lineNum % 2 === 0 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-record ' + rec_class +\n        (isRowSelected && this.selectType == 'row' ? ' w2ui-selected' : '') +\n        (record.w2ui && record.w2ui.editable === false ? ' w2ui-no-edit' : '') +\n        (record.w2ui && record.w2ui.expanded === true ? ' w2ui-expanded' : '') + '\" ' +\n        ' style=\"height: ' + this.recordHeight + 'px; ' + (!isRowSelected && rec_style != '' ? rec_style : rec_style.replace('background-color', 'none')) + '\" ' +\n        (rec_style != '' ? 'custom_style=\"' + rec_style + '\"' : '') +\n        '>';\n      if (this.show.lineNumbers) {\n        rec_html1 += '<td id=\"grid_' + this.name + '_cell_' + ind + '_number' + (summary ? '_s' : '') + '\" ' +\n          '   class=\"w2ui-col-number ' + (isRowSelected ? ' w2ui-row-selected' : '') + '\"' +\n          (this.reorderRows ? ' style=\"cursor: move\"' : '') + '>' +\n          (summary !== true ? this.getLineHTML(lineNum, record) : '') +\n          '</td>';\n      }\n      if (this.show.selectColumn) {\n        var hideCB = false;\n        if (record && record.w2ui && record.w2ui.hideCheckBox === true) hideCB = true;\n        rec_html1 +=\n          '<td id=\"grid_' + this.name + '_cell_' + ind + '_select' + (summary ? '_s' : '') + '\" class=\"w2ui-grid-data w2ui-col-select\">' +\n          (summary !== true && !(record.w2ui && record.w2ui.hideCheckBox === true) ?\n            '    <div>' +\n            '        <input class=\"w2ui-grid-select-check\" type=\"checkbox\" tabindex=\"-1\" ' +\n            (isRowSelected ? 'checked=\"checked\"' : '') + ' style=\"pointer-events: none\"/>' +\n            '    </div>'\n            :\n            '') +\n          '</td>';\n      }\n      if (this.show.expandColumn) {\n        var tmp_img = '';\n        if (record.w2ui && record.w2ui.expanded === true) tmp_img = '-'; else tmp_img = '+';\n        if (record.w2ui && record.w2ui.expanded == 'none') tmp_img = '';\n        if (record.w2ui && record.w2ui.expanded == 'spinner') tmp_img = '<div class=\"w2ui-spinner\" style=\"width: 16px; margin: -2px 2px;\"></div>';\n        rec_html1 +=\n          '<td id=\"grid_' + this.name + '_cell_' + ind + '_expand' + (summary ? '_s' : '') + '\" class=\"w2ui-grid-data w2ui-col-expand\">' +\n          (summary !== true ?\n            '    <div ondblclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\" ' +\n            '            onclick=\"w2ui[\\'' + this.name + '\\'].toggle(jQuery(this).parents(\\'tr\\').attr(\\'recid\\')); ' +\n            '                if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">' +\n            '        ' + tmp_img + ' </div>'\n            :\n            '') +\n          '</td>';\n      }\n      // insert empty first column\n      rec_html2 += '<td class=\"w2ui-grid-data-spacer\" col=\"start\" style=\"border-right: 0\"></td>';\n      if (this.show.orderColumn) {\n        rec_html2 +=\n          '<td id=\"grid_' + this.name + '_cell_' + ind + '_order' + (summary ? '_s' : '') + '\" class=\"w2ui-grid-data w2ui-col-order\" col=\"order\">' +\n          (summary !== true ? '<div title=\"Drag to reorder\">&nbsp;</div>' : '') +\n          '</td>';\n      }\n      var col_ind = 0;\n      var col_skip = 0;\n      while (true) {\n        var col_span = 1;\n        var col = this.columns[col_ind];\n        if (col == null) break;\n        if (col.hidden) {\n          col_ind++;\n          if (col_skip > 0) col_skip--;\n          continue;\n        }\n        if (col_skip > 0) {\n          col_ind++;\n          if (this.columns[col_ind] == null) break;\n          record.w2ui.colspan[this.columns[col_ind - 1].field] = 0; // need it for other methods\n          col_skip--;\n          continue;\n        } else if (record.w2ui) {\n          var tmp1 = record.w2ui.colspan;\n          var tmp2 = this.columns[col_ind].field;\n          if (tmp1 && tmp1[tmp2] === 0) {\n            delete tmp1[tmp2]; // if no longer colspan then remove 0\n          }\n        }\n        // column virtual scroll\n        if ((col_ind < this.last.colStart || col_ind > this.last.colEnd) && !col.frozen) {\n          col_ind++;\n          continue;\n        }\n        if (record.w2ui) {\n          if (typeof record.w2ui.colspan == 'object') {\n            var span = parseInt(record.w2ui.colspan[col.field]) || null;\n            if (span > 1) {\n              // if there are hidden columns, then no colspan on them\n              var hcnt = 0;\n              for (var i = col_ind; i < col_ind + span; i++) {\n                if (i >= this.columns.length) break;\n                if (this.columns[i].hidden) hcnt++;\n              }\n              col_span = span - hcnt;\n              col_skip = span - 1;\n            }\n          }\n        }\n        var rec_cell = this.getCellHTML(ind, col_ind, summary, col_span);\n        if (col.frozen) rec_html1 += rec_cell; else rec_html2 += rec_cell;\n        col_ind++;\n      }\n      rec_html1 += '<td class=\"w2ui-grid-data-last\"></td>';\n      rec_html2 += '<td class=\"w2ui-grid-data-last\" col=\"end\"></td>';\n      rec_html1 += '</tr>';\n      rec_html2 += '</tr>';\n      return [rec_html1, rec_html2];\n    },\n\n    getLineHTML: function (lineNum) {\n      return '<div>' + lineNum + '</div>';\n    },\n\n    getCellHTML: function (ind, col_ind, summary, col_span) {\n      var obj = this;\n      var col = this.columns[col_ind];\n      if (col == null) return '';\n      var record = (summary !== true ? this.records[ind] : this.summary[ind]);\n      var data = (ind !== -1 ? this.getCellValue(ind, col_ind, summary) : '');\n      var edit = (ind !== -1 ? this.getCellEditable(ind, col_ind) : '');\n      var style = 'max-height: ' + parseInt(this.recordHeight) + 'px;' + (col.clipboardCopy ? 'margin-right: 20px' : '');\n      var isChanged = !summary && record && record.w2ui && record.w2ui.changes && record.w2ui.changes[col.field] != null;\n      var addStyle = '';\n      var addClass = '';\n      var sel = this.last.selection;\n      var isRowSelected = false;\n      var infoBubble = '';\n      if (sel.indexes.indexOf(ind) != -1) isRowSelected = true;\n      if (col_span == null) {\n        if (record && record.w2ui && record.w2ui.colspan && record.w2ui.colspan[col.field]) {\n          col_span = record.w2ui.colspan[col.field];\n        } else {\n          col_span = 1;\n        }\n      }\n      // expand icon\n      if (col_ind === 0 && record && record.w2ui && Array.isArray(record.w2ui.children)) {\n        var level = 0;\n        var subrec = this.get(record.w2ui.parent_recid, true);\n        while (true) {\n          if (subrec != null) {\n            level++\n            var tmp = this.records[subrec].w2ui;\n            if (tmp != null && tmp.parent_recid != null) {\n              subrec = this.get(tmp.parent_recid, true);\n            } else {\n              break;\n            }\n          } else {\n            break;\n          }\n        }\n        if (record.w2ui.parent_recid) {\n          for (var i = 0; i < level; i++) {\n            infoBubble += '<span class=\"w2ui-show-children w2ui-icon-empty\"></span>';\n          }\n        }\n        infoBubble += '<span class=\"w2ui-show-children ' +\n          (record.w2ui.children.length > 0\n            ? (record.w2ui.expanded ? 'w2ui-icon-collapse' : 'w2ui-icon-expand')\n            : 'w2ui-icon-empty'\n          ) + '\" ' +\n          ' onclick=\"event.stopPropagation(); w2ui[\\'' + this.name + '\\'].toggle(jQuery(this).parents(\\'tr\\').attr(\\'recid\\'))\"></span>';\n      }\n      // info bubble\n      if (col.info === true) col.info = {};\n      if (col.info != null) {\n        var infoIcon = 'w2ui-icon-info';\n        if (typeof col.info.icon == 'function') {\n          infoIcon = col.info.icon(record);\n        } else if (typeof col.info.icon == 'object') {\n          infoIcon = col.info.icon[this.parseField(record, col.field)] || ''\n        } else if (typeof col.info.icon == 'string') {\n          infoIcon = col.info.icon;\n        }\n        var infoStyle = col.info.style || '';\n        if (typeof col.info.style == 'function') {\n          infoStyle = col.info.style(record);\n        } else if (typeof col.info.style == 'object') {\n          infoStyle = col.info.style[this.parseField(record, col.field)] || '';\n        } else if (typeof col.info.style == 'string') {\n          infoStyle = col.info.style;\n        }\n        infoBubble += '<span class=\"w2ui-info ' + infoIcon + '\" style=\"' + infoStyle + '\" ' +\n          (col.info.showOn != null ? 'on' + col.info.showOn : 'onclick') +\n          '=\"event.stopPropagation(); w2ui[\\'' + this.name + '\\'].showBubble(' + ind + ', ' + col_ind + ')\"' +\n          (col.info.hideOn != null ? 'on' + col.info.hideOn : '') +\n          '=\"var grid = w2ui[\\'' + this.name + '\\']; if (grid.last.bubbleEl) { $(grid.last.bubbleEl).w2tag() } grid.last.bubbleEl = null;\"' +\n          '></span>';\n      }\n      if (col.render != null && ind !== -1) {\n        if (typeof col.render == 'function') {\n          var html = col.render.call(this, record, ind, col_ind, data);\n          if (html != null && typeof html == 'object') {\n            data = $.trim(html.html || '');\n            addClass = html.class || '';\n            addStyle = html.style || '';\n          } else {\n            data = $.trim(html);\n          }\n          if (data.length < 4 || data.substr(0, 4).toLowerCase() != '<div') {\n            data = '<div style=\"' + style + '\" title=\"' + getTitle(data) + '\">' + infoBubble + String(data) + '</div>';\n          }\n        }\n        // if it is an object\n        if (typeof col.render == 'object') {\n          var dsp = col.render[data];\n          if (dsp == null || dsp === '') dsp = data;\n          data = '<div style=\"' + style + '\" title=\"' + getTitle(dsp) + '\">' + infoBubble + String(dsp) + '</div>';\n        }\n        // formatters\n        if (typeof col.render == 'string') {\n          var t = col.render.toLowerCase().indexOf(':');\n          var tmp = [];\n          if (t == -1) {\n            tmp[0] = col.render.toLowerCase();\n            tmp[1] = '';\n          } else {\n            tmp[0] = col.render.toLowerCase().substr(0, t);\n            tmp[1] = col.render.toLowerCase().substr(t + 1);\n          }\n          // formatters\n          var func = w2utils.formatters[tmp[0]];\n          if (col.options && col.options.autoFormat === false) {\n            func = null;\n          }\n          data = (typeof func == 'function' ? func(data, tmp[1], record) : '');\n          data = '<div style=\"' + style + '\" title=\"' + getTitle(data) + '\">' + infoBubble + String(data) + '</div>';\n        }\n      } else {\n        // if editable checkbox\n        if (edit && ['checkbox', 'check'].indexOf(edit.type) != -1) {\n          var changeInd = summary ? -(ind + 1) : ind;\n          style += 'text-align: center;';\n          data = '<input tabindex=\"-1\" type=\"checkbox\" ' + (data ? 'checked=\"checked\"' : '') + ' onclick=\"' +\n            '    var obj = w2ui[\\'' + this.name + '\\']; ' +\n            '    obj.editChange.call(obj, this, ' + changeInd + ', ' + col_ind + ', event); ' +\n            '\"/>';\n          infoBubble = '';\n        }\n        data = '<div style=\"' + style + '\" title=\"' + getTitle(data) + '\">' + infoBubble + String(data) + '</div>';\n      }\n      if (data == null) data = '';\n      // --> cell TD\n      if (typeof col.render == 'string') {\n        var tmp = col.render.toLowerCase().split(':');\n        if (['number', 'int', 'float', 'money', 'currency', 'percent', 'size'].indexOf(tmp[0]) != -1) addStyle += 'text-align: right;';\n      }\n      if (record && record.w2ui) {\n        if (typeof record.w2ui.style == 'object') {\n          if (typeof record.w2ui.style[col_ind] == 'string') addStyle += record.w2ui.style[col_ind] + ';';\n          if (typeof record.w2ui.style[col.field] == 'string') addStyle += record.w2ui.style[col.field] + ';';\n        }\n        if (typeof record.w2ui.class == 'object') {\n          if (typeof record.w2ui.class[col_ind] == 'string') addClass += record.w2ui.class[col_ind] + ' ';\n          if (typeof record.w2ui.class[col.field] == 'string') addClass += record.w2ui.class[col.field] + ' ';\n        }\n      }\n      var isCellSelected = false;\n      if (isRowSelected && $.inArray(col_ind, sel.columns[ind]) != -1) isCellSelected = true;\n      var clipboardTxt = (typeof col.clipboardCopy == 'string' ? col.clipboardCopy : 'Copy to clipboard')\n      var clipboardIcon = '<span onmouseEnter=\"jQuery(this).w2tag(\\'' + clipboardTxt + '\\', { position: \\'top|bottom\\' })\"'\n        + 'onclick=\"w2ui[\\'' + this.name + '\\'].clipboardCopy(' + ind + ', ' + col_ind + '); jQuery(this).w2tag(\\'Copied\\', { position: \\'top|bottom\\' }); event.stopPropagation();\" '\n        + 'onmouseLeave=\"jQuery(this).w2tag()\" class=\"w2ui-clipboard-copy w2ui-icon-paste\"></span>'\n      // data\n      data = '<td class=\"w2ui-grid-data' + (isCellSelected ? ' w2ui-selected' : '') + ' ' + addClass +\n        (isChanged ? ' w2ui-changed' : '') +\n        '\" ' +\n        '   id=\"grid_' + this.name + '_data_' + ind + '_' + col_ind + '\" col=\"' + col_ind + '\" ' +\n        '   style=\"' + addStyle + (col.style != null ? col.style : '') + '\" ' +\n        (col.attr != null ? col.attr : '') +\n        (col_span > 1 ? 'colspan=\"' + col_span + '\"' : '') +\n        '>' + data + (w2utils.stripTags(data) != '' && col.clipboardCopy && clipboardTxt ? clipboardIcon : '') + '</td>';\n      // summary top row\n      if (ind === -1 && summary === true) {\n        data = '<td class=\"w2ui-grid-data\" col=\"' + col_ind + '\" style=\"height: 0px; ' + addStyle + '\" ' +\n          (col_span > 1 ? 'colspan=\"' + col_span + '\"' : '') +\n          '></td>';\n      }\n      return data;\n\n      function getTitle(cellData) {\n        var title = \"\";\n        if (obj.show.recordTitles) {\n          if (col.title != null) {\n            if (typeof col.title == 'function') title = col.title.call(obj, record, ind, col_ind);\n            if (typeof col.title == 'string') title = col.title;\n          } else {\n            title = w2utils.stripTags(String(cellData).replace(/\"/g, \"''\"));\n          }\n        }\n        return (title != null) ? String(title) : \"\";\n      }\n    },\n\n    clipboardCopy: function (ind, col_ind) {\n      var rec = this.records[ind]\n      var col = this.columns[col_ind]\n      var txt = (col ? this.parseField(rec, col.field) : '');\n      if (typeof col.clipboardCopy == 'function') {\n        txt = col.clipboardCopy(rec)\n      }\n      $('#grid_' + this.name + '_focus').text(txt).select();\n      document.execCommand('copy');\n    },\n\n    showBubble: function (ind, col_ind) {\n      var html = '';\n      var info = this.columns[col_ind].info;\n      var rec = this.records[ind];\n      var el = $(this.box).find('#grid_' + this.name + '_data_' + ind + '_' + col_ind + ' .w2ui-info');\n      if (this.last.bubbleEl) $(this.last.bubbleEl).w2tag();\n      this.last.bubbleEl = el;\n      // if no fields defined - show all\n      if (info.fields == null) {\n        info.fields = [];\n        for (var i = 0; i < this.columns.length; i++) {\n          var col = this.columns[i];\n          info.fields.push(col.field + (typeof col.render == 'string' ? ':' + col.render : ''));\n        }\n      }\n      var fields = info.fields;\n      if (typeof fields == 'function') {\n        fields = fields(rec, ind, col_ind); // custom renderer\n      }\n      // generate html\n      if (typeof info.render == 'function') {\n        html = info.render(rec, ind, col_ind);\n\n      } else if ($.isArray(fields)) {\n        // display mentioned fields\n        html = '<table cellpadding=\"0\" cellspacing=\"0\">';\n        for (var i = 0; i < fields.length; i++) {\n          var tmp = String(fields[i]).split(':');\n          if (tmp[0] == '' || tmp[0] == '-' || tmp[0] == '--' || tmp[0] == '---') {\n            html += '<tr><td colspan=2><div style=\"border-top: ' + (tmp[0] == '' ? '0' : '1') + 'px solid #C1BEBE; margin: 6px 0px;\"></div></td></tr>';\n            continue;\n          }\n          var col = this.getColumn(tmp[0]);\n          if (col == null) col = { field: tmp[0], caption: tmp[0] }; // if not found in columns\n          var val = (col ? this.parseField(rec, col.field) : '');\n          if (tmp.length > 1) {\n            if (w2utils.formatters[tmp[1]]) {\n              val = w2utils.formatters[tmp[1]](val, tmp[2] || null, rec);\n            } else {\n              console.log('ERROR: w2utils.formatters[\"' + tmp[1] + '\"] does not exists.')\n            }\n          }\n          if (info.showEmpty !== true && (val == null || val == '')) continue;\n          if (info.maxLength != null && typeof val == 'string' && val.length > info.maxLength) val = val.substr(0, info.maxLength) + '...';\n          html += '<tr><td>' + col.text + '</td><td>' + ((val === 0 ? '0' : val) || '') + '</td></tr>';\n        }\n        html += '</table>';\n      } else if ($.isPlainObject(fields)) {\n        // display some fields\n        html = '<table cellpadding=\"0\" cellspacing=\"0\">';\n        for (var caption in fields) {\n          var fld = fields[caption];\n          if (fld == '' || fld == '-' || fld == '--' || fld == '---') {\n            html += '<tr><td colspan=2><div style=\"border-top: ' + (fld == '' ? '0' : '1') + 'px solid #C1BEBE; margin: 6px 0px;\"></div></td></tr>';\n            continue;\n          }\n          var tmp = String(fld).split(':');\n          var col = this.getColumn(tmp[0]);\n          if (col == null) col = { field: tmp[0], caption: tmp[0] }; // if not found in columns\n          var val = (col ? this.parseField(rec, col.field) : '');\n          if (tmp.length > 1) {\n            if (w2utils.formatters[tmp[1]]) {\n              val = w2utils.formatters[tmp[1]](val, tmp[2] || null, rec);\n            } else {\n              console.log('ERROR: w2utils.formatters[\"' + tmp[1] + '\"] does not exists.')\n            }\n          }\n          if (typeof fld == 'function') {\n            val = fld(rec, ind, col_ind);\n          }\n          if (info.showEmpty !== true && (val == null || val == '')) continue;\n          if (info.maxLength != null && typeof val == 'string' && val.length > info.maxLength) val = val.substr(0, info.maxLength) + '...';\n          html += '<tr><td>' + caption + '</td><td>' + (val || '') + '</td></tr>';\n        }\n        html += '</table>';\n      }\n      $(el).w2tag($.extend({\n        html: html,\n        left: -4,\n        position: 'bottom|top',\n        className: 'w2ui-info-bubble',\n        style: '',\n        hideOnClick: true\n      }, info.options || {}));\n    },\n\n    // return null or the editable object if the given cell is editable\n    getCellEditable: function (ind, col_ind) {\n      var col = this.columns[col_ind];\n      var rec = this.records[ind];\n      if (!rec || !col) return null;\n      var edit = (rec.w2ui ? rec.w2ui.editable : null);\n      if (edit === false) return null;\n      if (edit == null || edit === true) {\n        edit = (col ? col.editable : null);\n        if (typeof (edit) === 'function') {\n          var data = this.getCellValue(ind, col_ind, false);\n          // same arguments as col.render()\n          edit = edit.call(this, rec, ind, col_ind, data);\n        }\n      }\n      return edit;\n    },\n\n    getCellValue: function (ind, col_ind, summary) {\n      var col = this.columns[col_ind];\n      var record = (summary !== true ? this.records[ind] : this.summary[ind]);\n      var data = this.parseField(record, col.field);\n      if (record && record.w2ui && record.w2ui.changes && record.w2ui.changes[col.field] != null) {\n        data = record.w2ui.changes[col.field];\n      }\n      if ($.isPlainObject(data) /*&& col.editable*/) {    //It can be an object btw\n        if (col.options && col.options.items) {\n          val = col.options.items.find(function (item) { return item.id == data.id });\n          if (val) data = val.text;\n          else data = data.id;\n        } else {\n          if (data.text != null) data = data.text;\n          if (data.id != null) data = data.id;\n        }\n      }\n      if (data == null) data = '';\n      return data;\n    },\n\n    getFooterHTML: function () {\n      return '<div>' +\n        '    <div class=\"w2ui-footer-left\"></div>' +\n        '    <div class=\"w2ui-footer-right\"></div>' +\n        '    <div class=\"w2ui-footer-center\"></div>' +\n        '</div>';\n    },\n\n    status: function (msg) {\n      if (msg != null) {\n        $('#grid_' + this.name + '_footer').find('.w2ui-footer-left').html(msg);\n      } else {\n        // show number of selected\n        var msgLeft = '';\n        var sel = this.getSelection();\n        if (sel.length > 0) {\n          if (this.show.statusSelection && sel.length > 1) {\n            msgLeft = String(sel.length).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + ' ' + w2utils.lang('selected');\n          }\n          if (this.show.statusRecordID && sel.length == 1) {\n            var tmp = sel[0];\n            if (typeof tmp == 'object') tmp = tmp.recid + ', ' + w2utils.lang('Column') + ': ' + tmp.column;\n            msgLeft = w2utils.lang('Record ID') + ': ' + tmp + ' ';\n          }\n        }\n        $('#grid_' + this.name + '_footer .w2ui-footer-left').html(msgLeft);\n        // toolbar\n        if (sel.length == 1) this.toolbar.enable('w2ui-edit'); else this.toolbar.disable('w2ui-edit');\n        if (sel.length >= 1) this.toolbar.enable('w2ui-delete'); else this.toolbar.disable('w2ui-delete');\n      }\n    },\n\n    lock: function (msg, showSpinner) {\n      var obj = this;\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.unshift(this.box);\n      setTimeout(function () {\n        // hide empty msg if any\n        $(obj.box).find('#grid_' + obj.name + '_empty_msg').remove();\n        w2utils.lock.apply(window, args);\n      }, 10);\n    },\n\n    unlock: function (speed) {\n      var box = this.box;\n      setTimeout(function () {\n        // do not unlock if there is a message\n        if ($(box).find('.w2ui-message').not('.w2ui-closing').length > 0) return;\n        w2utils.unlock(box, speed);\n      }, 25); // needed timer so if server fast, it will not flash\n    },\n\n    stateSave: function (returnOnly) {\n      var obj = this;\n      if (!w2utils.hasLocalStorage) return null;\n      var state = {\n        columns: [],\n        show: $.extend({}, this.show),\n        last: {\n          search: this.last.search,\n          multi: this.last.multi,\n          logic: this.last.logic,\n          label: this.last.label,\n          field: this.last.field,\n          scrollTop: this.last.scrollTop,\n          scrollLeft: this.last.scrollLeft\n        },\n        sortData: [],\n        searchData: []\n      };\n      var prop_val;\n      for (var i = 0; i < this.columns.length; i++) {\n        var col = obj.columns[i];\n        var col_save_obj = {};\n        // iterate properties to save\n        Object.keys(obj.stateColProps).forEach(function (prop, idx) {\n          if (obj.stateColProps[prop]) {\n            // check if the property is defined on the column\n            if (col[prop] !== undefined) {\n              prop_val = col[prop];\n            } else {\n              // use fallback or null\n              prop_val = obj.stateColDefaults[prop] || null;\n            }\n            col_save_obj[prop] = prop_val;\n          }\n        });\n        state.columns.push(col_save_obj);\n      }\n      for (var i = 0; i < this.sortData.length; i++) state.sortData.push($.extend({}, this.sortData[i]));\n      for (var i = 0; i < this.searchData.length; i++) state.searchData.push($.extend({}, this.searchData[i]));\n      // save into local storage\n      if (returnOnly !== true) {\n        // event before\n        var edata = this.trigger({ phase: 'before', type: 'stateSave', target: this.name, state: state });\n        if (edata.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n        try {\n          var savedState = $.parseJSON(localStorage.w2ui || '{}');\n          if (!savedState) savedState = {};\n          if (!savedState.states) savedState.states = {};\n          savedState.states[(this.stateId || this.name)] = state;\n          localStorage.w2ui = JSON.stringify(savedState);\n        } catch (e) {\n          delete localStorage.w2ui;\n          return null;\n        }\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n      return state;\n    },\n\n    stateRestore: function (newState) {\n      var obj = this;\n      var url = (typeof this.url != 'object' ? this.url : this.url.get);\n      if (!newState) {\n        // read it from local storage\n        try {\n          if (!w2utils.hasLocalStorage) return false;\n          var tmp = $.parseJSON(localStorage.w2ui || '{}');\n          if (!tmp) tmp = {};\n          if (!tmp.states) tmp.states = {};\n          newState = tmp.states[(this.stateId || this.name)];\n        } catch (e) {\n          delete localStorage.w2ui;\n          return null;\n        }\n      }\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'stateRestore', target: this.name, state: newState });\n      if (edata.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n      // default behavior\n      if ($.isPlainObject(newState)) {\n        $.extend(this.show, newState.show);\n        $.extend(this.last, newState.last);\n        var sTop = this.last.scrollTop;\n        var sLeft = this.last.scrollLeft;\n        for (var c = 0; c < newState.columns.length; c++) {\n          var tmp = newState.columns[c];\n          var col_index = this.getColumn(tmp.field, true);\n          if (col_index !== null) {\n            $.extend(this.columns[col_index], tmp);\n            // restore column order from saved state\n            if (c !== col_index) this.columns.splice(c, 0, this.columns.splice(col_index, 1)[0]);\n          }\n        }\n        this.sortData.splice(0, this.sortData.length);\n        for (var c = 0; c < newState.sortData.length; c++) this.sortData.push(newState.sortData[c]);\n        this.searchData.splice(0, this.searchData.length);\n        for (var c = 0; c < newState.searchData.length; c++) this.searchData.push(newState.searchData[c]);\n        // apply sort and search\n        setTimeout(function () {\n          // needs timeout as records need to be populated\n          // ez 10.09.2014 this -->\n          if (!url) {\n            if (obj.sortData.length > 0) obj.localSort();\n            if (obj.searchData.length > 0) obj.localSearch();\n          }\n          obj.last.scrollTop = sTop;\n          obj.last.scrollLeft = sLeft;\n          obj.refresh();\n        }, 1);\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return true;\n    },\n\n    stateReset: function () {\n      var obj = this;\n      this.stateRestore(this.last.state);\n      // remove from local storage\n      if (w2utils.hasLocalStorage) {\n        try {\n          var tmp = $.parseJSON(localStorage.w2ui || '{}');\n          if (tmp.states && tmp.states[(this.stateId || this.name)]) {\n            delete tmp.states[(this.stateId || this.name)];\n          }\n          localStorage.w2ui = JSON.stringify(tmp);\n        } catch (e) {\n          delete localStorage.w2ui;\n          return null;\n        }\n      }\n    },\n\n    parseField: function (obj, field) {\n      if (this.nestedFields) {\n        var val = '';\n        try { // need this to make sure no error in fields\n          val = obj;\n          var tmp = String(field).split('.');\n          for (var i = 0; i < tmp.length; i++) {\n            val = val[tmp[i]];\n          }\n        } catch (event) {\n          val = '';\n        }\n        return val;\n      } else {\n        return obj ? obj[field] : '';\n      }\n    },\n\n    prepareData: function () {\n      var obj = this;\n\n      // loops thru records and prepares date and time objects\n      for (var r = 0; r < this.records.length; r++) {\n        var rec = this.records[r];\n        prepareRecord(rec);\n      }\n\n      // prepare date and time objects for the 'rec' record and its closed children\n      function prepareRecord(rec) {\n        for (var c = 0; c < obj.columns.length; c++) {\n          var column = obj.columns[c];\n          if (rec[column.field] == null || typeof column.render != 'string') continue;\n          // number\n          if (['number', 'int', 'float', 'money', 'currency', 'percent'].indexOf(column.render.split(':')[0]) != -1) {\n            if (typeof rec[column.field] != 'number') rec[column.field] = parseFloat(rec[column.field]);\n          }\n          // date\n          if (['date', 'age'].indexOf(column.render.split(':')[0]) != -1) {\n            if (!rec[column.field + '_']) {\n              var dt = rec[column.field];\n              if (w2utils.isInt(dt)) dt = parseInt(dt);\n              rec[column.field + '_'] = new Date(dt);\n            }\n          }\n          // time\n          if (['time'].indexOf(column.render) != -1) {\n            if (w2utils.isTime(rec[column.field])) { // if string\n              var tmp = w2utils.isTime(rec[column.field], true);\n              var dt = new Date();\n              dt.setHours(tmp.hours, tmp.minutes, (tmp.seconds ? tmp.seconds : 0), 0); // sets hours, min, sec, mills\n              if (!rec[column.field + '_']) rec[column.field + '_'] = dt;\n            } else { // if date object\n              var tmp = rec[column.field];\n              if (w2utils.isInt(tmp)) tmp = parseInt(tmp);\n              var tmp = (tmp != null ? new Date(tmp) : new Date());\n              var dt = new Date();\n              dt.setHours(tmp.getHours(), tmp.getMinutes(), tmp.getSeconds(), 0); // sets hours, min, sec, mills\n              if (!rec[column.field + '_']) rec[column.field + '_'] = dt;\n            }\n          }\n        }\n\n        if (rec.w2ui && rec.w2ui.children && rec.w2ui.expanded !== true) {\n          // there are closed children, prepare them too.\n          for (var r = 0; r < rec.w2ui.children.length; r++) {\n            var subRec = rec.w2ui.children[r];\n            prepareRecord(subRec);\n          }\n        }\n      }\n    },\n\n    nextCell: function (index, col_ind, editable) {\n      var check = col_ind + 1;\n      if (check >= this.columns.length) return null;\n      var tmp = this.records[index].w2ui;\n      var ccol = this.columns[col_ind];\n      // if (tmp && tmp.colspan[ccol.field]) check += parseInt(tmp.colspan[ccol.field]) -1; // colspan of a column\n      var col = this.columns[check];\n      var span = (tmp && tmp.colspan && !isNaN(tmp.colspan[col.field]) ? parseInt(tmp.colspan[col.field]) : 1);\n      if (col == null) return null;\n      if (col && col.hidden || span === 0) return this.nextCell(index, check, editable);\n      if (editable) {\n        var edit = this.getCellEditable(index, col_ind);\n        if (edit == null || ['checkbox', 'check'].indexOf(edit.type) != -1) {\n          return this.nextCell(index, check, editable);\n        }\n      }\n      return check;\n    },\n\n    prevCell: function (index, col_ind, editable) {\n      var check = col_ind - 1;\n      if (check < 0) return null;\n      var tmp = this.records[index].w2ui;\n      var col = this.columns[check];\n      var span = (tmp && tmp.colspan && !isNaN(tmp.colspan[col.field]) ? parseInt(tmp.colspan[col.field]) : 1);\n      if (col == null) return null;\n      if (col && col.hidden || span === 0) return this.prevCell(index, check, editable);\n      if (editable) {\n        var edit = this.getCellEditable(index, col_ind);\n        if (edit == null || ['checkbox', 'check'].indexOf(edit.type) != -1) {\n          return this.prevCell(index, check, editable);\n        }\n      }\n      return check;\n    },\n\n    nextRow: function (ind, col_ind) {\n      var sids = this.last.searchIds;\n      var ret = null;\n      if ((ind + 1 < this.records.length && sids.length === 0) // if there are more records\n        || (sids.length > 0 && ind < sids[sids.length - 1])) {\n        ind++;\n        if (sids.length > 0) while (true) {\n          if ($.inArray(ind, sids) != -1 || ind > this.records.length) break;\n          ind++;\n        }\n        // colspan\n        var tmp = this.records[ind].w2ui;\n        var col = this.columns[col_ind];\n        var span = (tmp && tmp.colspan && col != null && !isNaN(tmp.colspan[col.field]) ? parseInt(tmp.colspan[col.field]) : 1);\n        if (span === 0) {\n          ret = this.nextRow(ind, col_ind);\n        } else {\n          ret = ind;\n        }\n      }\n      return ret;\n    },\n\n    prevRow: function (ind, col_ind) {\n      var sids = this.last.searchIds;\n      var ret = null;\n      if ((ind > 0 && sids.length === 0)  // if there are more records\n        || (sids.length > 0 && ind > sids[0])) {\n        ind--;\n        if (sids.length > 0) while (true) {\n          if ($.inArray(ind, sids) != -1 || ind < 0) break;\n          ind--;\n        }\n        // colspan\n        var tmp = this.records[ind].w2ui;\n        var col = this.columns[col_ind];\n        var span = (tmp && tmp.colspan && col != null && !isNaN(tmp.colspan[col.field]) ? parseInt(tmp.colspan[col.field]) : 1);\n        if (span === 0) {\n          ret = this.prevRow(ind, col_ind);\n        } else {\n          ret = ind;\n        }\n      }\n      return ret;\n    },\n\n    selectionSave: function () {\n      this.last._selection = this.getSelection();\n      return this.last._selection;\n    },\n\n    selectionRestore: function (noRefresh) {\n      var time = (new Date()).getTime();\n      this.last.selection = { indexes: [], columns: {} };\n      var sel = this.last.selection;\n      var lst = this.last._selection;\n      if (lst) for (var i = 0; i < lst.length; i++) {\n        if ($.isPlainObject(lst[i])) {\n          // selectType: cell\n          var tmp = this.get(lst[i].recid, true);\n          if (tmp != null) {\n            if (sel.indexes.indexOf(tmp) == -1) sel.indexes.push(tmp);\n            if (!sel.columns[tmp]) sel.columns[tmp] = [];\n            sel.columns[tmp].push(lst[i].column);\n          }\n        } else {\n          // selectType: row\n          var tmp = this.get(lst[i], true);\n          if (tmp != null) sel.indexes.push(tmp);\n        }\n      }\n      delete this.last._selection;\n      if (noRefresh !== true) this.refresh();\n      return (new Date()).getTime() - time;\n    },\n\n    message: function (options, callBack) {\n      if (typeof options == 'string') {\n        options = {\n          width: (options.length < 300 ? 350 : 550),\n          height: (options.length < 300 ? 170 : 250),\n          body: '<div class=\"w2ui-centered\">' + options + '</div>',\n          buttons: '<button type=\"button\" class=\"w2ui-btn\" onclick=\"w2ui[\\'' + this.name + '\\'].message()\">Ok</button>',\n          onOpen: function (event) {\n            setTimeout(function () {\n              $(this.box).find('.w2ui-btn').focus();\n            }, 25);\n          },\n          onClose: function (even) {\n            if (typeof callBack == 'function') callBack();\n          }\n        };\n      }\n      w2utils.message.call(this, {\n        box: this.box,\n        path: 'w2ui.' + this.name,\n        title: '.w2ui-grid-header:visible',\n        body: '.w2ui-grid-box'\n      }, options);\n    }\n  }\n\n  $.extend(w2grid.prototype, w2utils.event);\n  w2obj.grid = w2grid;\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2layout        - layout widget\n*        - $().w2layout    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2toolbar, w2tabs\n*\n* == changes\n*   - negative values for left, right panel\n*   - onResize for layout as well as onResizing\n*   - panel.callBack - one time\n*   - layout.html().replaced(function () {})\n*\n* == NICE TO HAVE ==\n*   - onResize for the panel\n*   - add more panel title positions (left=rotated, right=rotated, bottom)\n*   - bug: when you assign content before previous transition completed.\n*\n************************************************************************/\n\n(function ($) {\n  var w2layout = function (options) {\n    this.box = null;     // DOM Element that holds the element\n    this.name = null;     // unique name for w2ui\n    this.panels = [];\n    this.tmp = {};\n    this.padding = 1;        // panel padding\n    this.resizer = 4;        // resizer width or height\n    this.style = '';\n\n    $.extend(true, this, w2obj.layout, options);\n  };\n\n  var w2panels = ['top', 'left', 'main', 'preview', 'right', 'bottom'];\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2layout = function (method) {\n    //if ($.isPlainObject(method)) { // MARK-FLAMM\n    // check name parameter\n    if (!w2utils.checkName(method, 'w2layout')) return;\n    var panels = method.panels || [];\n    var object = new w2layout(method);\n    $.extend(object, { handlers: [], panels: [] });\n    // add defined panels\n    for (var p = 0, len = panels.length; p < len; p++) {\n      object.panels[p] = $.extend(true, {}, w2layout.prototype.panel, panels[p]);\n      if ($.isPlainObject(object.panels[p].tabs) || Array.isArray(object.panels[p].tabs)) initTabs(object, panels[p].type);\n      if ($.isPlainObject(object.panels[p].toolbar) || Array.isArray(object.panels[p].toolbar)) initToolbar(object, panels[p].type);\n    }\n    // add all other panels\n    for (var p1 = 0; p1 < w2panels.length; p1++) {\n      if (object.get(w2panels[p1]) != null) continue;\n      object.panels.push($.extend(true, {}, w2layout.prototype.panel, { type: w2panels[p1], hidden: (w2panels[p1] !== 'main'), size: 50 }));\n    }\n    w2ui[object.name] = object;\n    if ($(this).length > 0) {\n      object.render($(this)[0]);\n    }\n    return object;\n\n    /*} else { // MARK-FLAMM\n        var obj = w2ui[$(this).attr('name')];\n        if (!obj) return null;\n        if (arguments.length > 0) {\n            if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n            return this;\n        } else {\n            return obj;\n        }\n    }*/\n\n    function initTabs(object, panel, tabs) {\n      var pan = object.get(panel);\n      console.log(panel, '!!!!!!!!!!!!!!!!')\n      if (pan != null && tabs == null) tabs = pan.tabs;\n      if (pan == null || tabs == null) return false;\n      // instanciate tabs\n      if ($.isArray(tabs)) tabs = { tabs: tabs };\n      $().w2destroy(object.name + '_' + panel + '_tabs'); // destroy if existed\n      pan.tabs = $().w2tabs($.extend({}, tabs, { owner: object, name: object.name + '_' + panel + '_tabs' }));\n      pan.show.tabs = true;\n\n      return true;\n    }\n\n    function initToolbar(object, panel, toolbar) {\n      var pan = object.get(panel);\n      if (pan != null && toolbar == null) toolbar = pan.toolbar;\n      if (pan == null || toolbar == null) return false;\n      // instanciate toolbar\n      if ($.isArray(toolbar)) toolbar = { items: toolbar };\n      $().w2destroy(object.name + '_' + panel + '_toolbar'); // destroy if existed\n      pan.toolbar = $().w2toolbar($.extend({}, toolbar, { owner: object, name: object.name + '_' + panel + '_toolbar' }));\n      pan.show.toolbar = true;\n      return true;\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2layout.prototype = {\n    onShow: null,\n    onHide: null,\n    onResizing: null,\n    onResizerClick: null,\n    onRender: null,\n    onRefresh: null,\n    onContent: null,\n    onResize: null,\n    onDestroy: null,\n\n    // default setting for a panel\n    panel: {\n      type: null,       // left, right, top, bottom\n      title: '',\n      size: 100,        // width or height depending on panel name\n      minSize: 20,\n      maxSize: false,\n      hidden: false,\n      resizable: false,\n      overflow: 'auto',\n      flex: false,\n      zIndex: 1,\n      style: '',\n      content: '',         // can be String or Object with .render(box) method\n      tabs: null,\n      toolbar: null,\n      width: null,       // read only\n      height: null,       // read only\n      show: {\n        toolbar: false,\n        tabs: false\n      },\n      callBack: null,      // function to call when content is overwritten\n      onRefresh: null,\n      onShow: null,\n      onHide: null\n    },\n\n    // alias for content\n    content: function (panel, data, transition) {\n      console.log('NOTICE: layout.content method is deprecated, please use layout.html() instead');\n      return this.html(panel, data, transition);\n    },\n\n    html: function (panel, data, transition) {\n      var obj = this;\n      var p = this.get(panel);\n      var promise = {\n        panel: panel,\n        html: p.content,\n        error: false,\n        cancelled: false,\n        removed: function (callBack) {\n          if (typeof callBack == 'function') {\n            p.callBack = callBack\n          }\n        }\n      }\n      if (typeof p.callBack == 'function') {\n        p.callBack({ panel: panel, content: p.content, new_content: data, transition: transition || 'none' });\n        p.callBack = null; // this is one time call back only\n      }\n      // if it is CSS panel\n      if (panel == 'css') {\n        $('#layout_' + obj.name + '_panel_css').html('<style>' + data + '</style>');\n        promise.status = true;\n        return promise;\n      }\n      if (p == null) {\n        console.log('ERROR: incorrect panel name. Panel name can be main, left, right, top, bottom, preview or css')\n        promise.error = true;\n        return promise;\n      }\n      if (data == null) {\n        return promise;\n      }\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'content', target: panel, object: p, content: data, transition: transition });\n      if (edata.isCancelled === true) {\n        promise.cancelled = true;\n        return promise;\n      }\n\n      if (data instanceof jQuery) {\n        console.log('ERROR: You can not pass jQuery object to w2layout.content() method');\n        return promise;\n      }\n      var pname = '#layout_' + this.name + '_panel_' + p.type;\n      var current = $(pname + '> .w2ui-panel-content');\n      var panelTop = 0;\n      if (current.length > 0) {\n        $(pname).scrollTop(0);\n        panelTop = $(current).position().top;\n      }\n      if (p.content === '') {\n        p.content = data;\n        this.refresh(panel);\n      } else {\n        p.content = data;\n        if (!p.hidden) {\n          if (transition != null && transition !== '') {\n            // apply transition\n            var div1 = $(pname + '> .w2ui-panel-content');\n            div1.after('<div class=\"w2ui-panel-content new-panel\" style=\"' + div1[0].style.cssText + '\"></div>');\n            var div2 = $(pname + '> .w2ui-panel-content.new-panel');\n            div1.css('top', panelTop);\n            div2.css('top', panelTop);\n            if (typeof data == 'object') {\n              data.box = div2[0]; // do not do .render(box);\n              data.render();\n            } else {\n              div2.html(data);\n            }\n            w2utils.transition(div1[0], div2[0], transition, function () {\n              div1.remove();\n              div2.removeClass('new-panel');\n              div2.css('overflow', p.overflow);\n              // make sure only one content left\n              $(pname + '> .w2ui-panel-content').slice(1).remove()\n              // IE Hack\n              obj.resize();\n              if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n            });\n          }\n        }\n        this.refresh(panel);\n      }\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n      // IE Hack\n      obj.resize();\n      if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n      return promise;\n    },\n\n    message: function (panel, options) {\n      var obj = this;\n      if (typeof options == 'string') {\n        options = {\n          width: (options.length < 300 ? 350 : 550),\n          height: (options.length < 300 ? 170 : 250),\n          body: '<div class=\"w2ui-centered\">' + options + '</div>',\n          buttons: '<button class=\"w2ui-btn\" onclick=\"w2ui[\\'' + this.name + '\\'].message(\\'' + panel + '\\')\">Ok</button>',\n          onOpen: function (event) {\n            setTimeout(function () {\n              $(this.box).find('.w2ui-btn').focus();\n            }, 25);\n          }\n        };\n      }\n      var p = this.get(panel);\n      var $el = $('#layout_' + this.name + '_panel_' + p.type);\n      var oldOverflow = $el.css('overflow');\n      var oldOnClose;\n      if (options) {\n        if (options.onClose) oldOnClose = options.onClose;\n        options.onClose = function (event) {\n          if (typeof oldOnClose == 'function') oldOnClose(event);\n          event.done(function () {\n            $('#layout_' + obj.name + '_panel_' + p.type).css('overflow', oldOverflow);\n          });\n        };\n      }\n      $('#layout_' + this.name + '_panel_' + p.type).css('overflow', 'hidden');\n      w2utils.message.call(this, {\n        box: $('#layout_' + this.name + '_panel_' + p.type),\n        param: panel,\n        path: 'w2ui.' + this.name,\n        title: '.w2ui-panel-title:visible',\n        body: '.w2ui-panel-content'\n      }, options);\n    },\n\n    load: function (panel, url, transition, onLoad) {\n      var obj = this;\n      if (panel == 'css') {\n        $.get(url, function (data, status, xhr) { // should always be $.get as it is template\n          obj.html(panel, xhr.responseText);\n          if (onLoad) onLoad();\n        });\n        return true;\n      }\n      if (this.get(panel) != null) {\n        $.get(url, function (data, status, xhr) { // should always be $.get as it is template\n          obj.html(panel, xhr.responseText, transition);\n          if (onLoad) onLoad();\n          // IE Hack\n          obj.resize();\n          if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n        });\n        return true;\n      }\n      return false;\n    },\n\n    sizeTo: function (panel, size, instant) {\n      var obj = this;\n      var pan = obj.get(panel);\n      if (pan == null) return false;\n      // resize\n      $(obj.box).find(' > div > .w2ui-panel')\n        .css(w2utils.cssPrefix('transition', (instant !== true ? '.2s' : '0s')));\n      setTimeout(function () {\n        obj.set(panel, { size: size });\n      }, 1);\n      // clean\n      setTimeout(function () {\n        $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n        obj.resize();\n      }, 500);\n      return true;\n    },\n\n    show: function (panel, immediate) {\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'show', target: panel, object: this.get(panel), immediate: immediate });\n      if (edata.isCancelled === true) return;\n\n      var p = obj.get(panel);\n      if (p == null) return false;\n      p.hidden = false;\n      if (immediate === true) {\n        $('#layout_' + obj.name + '_panel_' + panel).css({ 'opacity': '1' });\n        obj.trigger($.extend(edata, { phase: 'after' }));\n        obj.resize();\n      } else {\n        // resize\n        $('#layout_' + obj.name + '_panel_' + panel).css({ 'opacity': '0' });\n        $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '.2s'));\n        setTimeout(function () { obj.resize(); }, 1);\n        // show\n        setTimeout(function () {\n          $('#layout_' + obj.name + '_panel_' + panel).css({ 'opacity': '1' });\n        }, 250);\n        // clean\n        setTimeout(function () {\n          $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n          obj.trigger($.extend(edata, { phase: 'after' }));\n          obj.resize();\n        }, 500);\n      }\n      return true;\n    },\n\n    hide: function (panel, immediate) {\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'hide', target: panel, object: this.get(panel), immediate: immediate });\n      if (edata.isCancelled === true) return;\n\n      var p = obj.get(panel);\n      if (p == null) return false;\n      p.hidden = true;\n      if (immediate === true) {\n        $('#layout_' + obj.name + '_panel_' + panel).css({ 'opacity': '0' });\n        obj.trigger($.extend(edata, { phase: 'after' }));\n        obj.resize();\n      } else {\n        // hide\n        $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '.2s'));\n        $('#layout_' + obj.name + '_panel_' + panel).css({ 'opacity': '0' });\n        setTimeout(function () { obj.resize(); }, 1);\n        // clean\n        setTimeout(function () {\n          $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n          obj.trigger($.extend(edata, { phase: 'after' }));\n          obj.resize();\n        }, 500);\n      }\n      return true;\n    },\n\n    toggle: function (panel, immediate) {\n      var p = this.get(panel);\n      if (p == null) return false;\n      if (p.hidden) return this.show(panel, immediate); else return this.hide(panel, immediate);\n    },\n\n    set: function (panel, options) {\n      var ind = this.get(panel, true);\n      if (ind == null) return false;\n      $.extend(this.panels[ind], options);\n      // refresh only when content changed\n      if (options.content != null || options.resizable != null) {\n        this.refresh(panel);\n      }\n      // show/hide resizer\n      this.resize(); // resize is needed when panel size is changed\n      return true;\n    },\n\n    get: function (panel, returnIndex) {\n      for (var p = 0; p < this.panels.length; p++) {\n        if (this.panels[p].type == panel) {\n          if (returnIndex === true) return p; else return this.panels[p];\n        }\n      }\n      return null;\n    },\n\n    el: function (panel) {\n      var el = $('#layout_' + this.name + '_panel_' + panel + '> .w2ui-panel-content');\n      if (el.length != 1) return null;\n      return el[0];\n    },\n\n    hideToolbar: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      pan.show.toolbar = false;\n      $('#layout_' + this.name + '_panel_' + panel + '> .w2ui-panel-toolbar').hide();\n      this.resize();\n    },\n\n    showToolbar: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      pan.show.toolbar = true;\n      $('#layout_' + this.name + '_panel_' + panel + '> .w2ui-panel-toolbar').show();\n      this.resize();\n    },\n\n    toggleToolbar: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      if (pan.show.toolbar) this.hideToolbar(panel); else this.showToolbar(panel);\n    },\n\n    assignToolbar: function (panel, toolbar) {\n      if (typeof toolbar == 'string' && w2ui[toolbar] != null) toolbar = w2ui[toolbar];\n      var pan = this.get(panel);\n      pan.toolbar = toolbar;\n      var tmp = $(this.box).find(panel + '> .w2ui-panel-toolbar');\n      if (pan.toolbar != null) {\n        if (tmp.find('[name=' + pan.toolbar.name + ']').length === 0) {\n          tmp.w2render(pan.toolbar);\n        } else if (pan.toolbar != null) {\n          pan.toolbar.refresh();\n        }\n        toolbar.owner = this;\n        this.showToolbar(panel);\n        this.refresh(panel);\n      } else {\n        tmp.html('');\n        this.hideToolbar(panel);\n      }\n    },\n\n    assignTabs: function (panel, tabs) {\n      if (typeof tabs == 'string' && w2ui[tabs] != null) tabs = w2ui[tabs];\n      var pan = this.get(panel);\n      pan.tabs = tabs;\n      var tmp = $(this.box).find(panel + '> .w2ui-panel-tabs');\n      if (pan.tabs != null) {\n        if (tmp.find('[name=' + pan.tabs.name + ']').length === 0) {\n          tmp.w2render(pan.tabs);\n        } else if (pan.tabs != null) {\n          pan.tabs.refresh();\n        }\n        tabs.owner = this;\n        this.showTabs(panel);\n        this.refresh(panel);\n      } else {\n        tmp.html('');\n        this.hideTabs(panel);\n      }\n    },\n\n    hideTabs: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      pan.show.tabs = false;\n      $('#layout_' + this.name + '_panel_' + panel + '> .w2ui-panel-tabs').hide();\n      this.resize();\n    },\n\n    showTabs: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      pan.show.tabs = true;\n      $('#layout_' + this.name + '_panel_' + panel + '> .w2ui-panel-tabs').show();\n      this.resize();\n    },\n\n    toggleTabs: function (panel) {\n      var pan = this.get(panel);\n      if (!pan) return;\n      if (pan.show.tabs) this.hideTabs(panel); else this.showTabs(panel);\n    },\n\n    render: function (box) {\n      var obj = this;\n      // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n      var time = (new Date()).getTime();\n      // event before\n      var edata = obj.trigger({ phase: 'before', type: 'render', target: obj.name, box: box });\n      if (edata.isCancelled === true) return;\n\n      if (box != null) {\n        if ($(obj.box).find('#layout_' + obj.name + '_panel_main').length > 0) {\n          $(obj.box)\n            .removeAttr('name')\n            .removeClass('w2ui-layout')\n            .html('');\n        }\n        obj.box = box;\n      }\n      if (!obj.box) return false;\n      $(obj.box)\n        .attr('name', obj.name)\n        .addClass('w2ui-layout')\n        .html('<div></div>');\n      // console.log(obj); // MARK-FLAMM\n      if ($(obj.box).length > 0) $(obj.box)[0].style.cssText += obj.style;\n      // create all panels\n      for (var p1 = 0; p1 < w2panels.length; p1++) {\n        var pan = obj.get(w2panels[p1]);\n        var html = '<div id=\"layout_' + obj.name + '_panel_' + w2panels[p1] + '\" class=\"w2ui-panel\">' +\n          '    <div class=\"w2ui-panel-title\"></div>' +\n          '    <div class=\"w2ui-panel-tabs\"></div>' +\n          '    <div class=\"w2ui-panel-toolbar\"></div>' +\n          '    <div class=\"w2ui-panel-content\"></div>' +\n          '</div>' +\n          '<div id=\"layout_' + obj.name + '_resizer_' + w2panels[p1] + '\" class=\"w2ui-resizer\"></div>';\n        $(obj.box).find(' > div').append(html);\n        // tabs are rendered in refresh()\n      }\n      $(obj.box).find(' > div')\n        .append('<div id=\"layout_' + obj.name + '_panel_css\" style=\"position: absolute; top: 10000px;\"></div>');\n      obj.refresh(); // if refresh is not called here, the layout will not be available right after initialization\n      // process event\n      obj.trigger($.extend(edata, { phase: 'after' }));\n      // reinit events\n      setTimeout(function () { // needed this timeout to allow browser to render first if there are tabs or toolbar\n        initEvents();\n        obj.resize();\n      }, 0);\n      return (new Date()).getTime() - time;\n\n      function initEvents() {\n        obj.tmp.events = {\n          resize: function (event) {\n            if (w2ui[obj.name] == null) {\n              $(window).off('resize.w2ui-' + obj.name);\n            } else {\n              w2ui[obj.name].resize();\n            }\n          },\n          resizeStart: resizeStart,\n          mouseMove: resizeMove,\n          mouseUp: resizeStop\n        };\n        $(window).on('resize.w2ui-' + obj.name, obj.tmp.events.resize);\n      }\n\n      function resizeStart(type, evnt) {\n        if (!obj.box) return;\n        if (!evnt) evnt = window.event;\n        $(document).off('mousemove', obj.tmp.events.mouseMove).on('mousemove', obj.tmp.events.mouseMove);\n        $(document).off('mouseup', obj.tmp.events.mouseUp).on('mouseup', obj.tmp.events.mouseUp);\n        obj.tmp.resize = {\n          type: type,\n          x: evnt.screenX,\n          y: evnt.screenY,\n          diff_x: 0,\n          diff_y: 0,\n          value: 0\n        };\n        // lock all panels\n        for (var p1 = 0; p1 < w2panels.length; p1++) {\n          var $tmp = $(obj.el(w2panels[p1])).parent().find('.w2ui-lock');\n          if ($tmp.length > 0) {\n            $tmp.attr('locked', 'previous');\n          } else {\n            obj.lock(w2panels[p1], { opacity: 0 });\n          }\n        }\n        if (type == 'left' || type == 'right') {\n          obj.tmp.resize.value = parseInt($('#layout_' + obj.name + '_resizer_' + type)[0].style.left);\n        }\n        if (type == 'top' || type == 'preview' || type == 'bottom') {\n          obj.tmp.resize.value = parseInt($('#layout_' + obj.name + '_resizer_' + type)[0].style.top);\n        }\n      }\n\n      function resizeUpdate(evnt) {\n        if (obj.tmp.diff_x !== 0 || obj.tmp.resize.diff_y !== 0) { // only recalculate if changed\n          var ptop = obj.get('top');\n          var pbottom = obj.get('bottom');\n          var panel = obj.get(obj.tmp.resize.type);\n          var height = parseInt($(obj.box).height());\n          var width = parseInt($(obj.box).width());\n          var str = String(panel.size);\n          var ns, nd;\n          switch (obj.tmp.resize.type) {\n            case 'top':\n              ns = parseInt(panel.sizeCalculated) + obj.tmp.resize.diff_y;\n              nd = 0;\n              break;\n            case 'bottom':\n              ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_y;\n              nd = 0;\n              break;\n            case 'preview':\n              ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_y;\n              nd = (ptop && !ptop.hidden ? ptop.sizeCalculated : 0) +\n                (pbottom && !pbottom.hidden ? pbottom.sizeCalculated : 0);\n              break;\n            case 'left':\n              ns = parseInt(panel.sizeCalculated) + obj.tmp.resize.diff_x;\n              nd = 0;\n              break;\n            case 'right':\n              ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_x;\n              nd = 0;\n              break;\n          }\n          // set size\n          if (str.substr(str.length - 1) == '%') {\n            panel.size = Math.floor(ns * 100 / (panel.type == 'left' || panel.type == 'right' ? width : height - nd) * 100) / 100 + '%';\n          } else {\n            if (String(panel.size).substr(0, 1) == '-') {\n              panel.size = parseInt(panel.size) - panel.sizeCalculated + ns;\n            } else {\n              panel.size = ns;\n            }\n          }\n          obj.resize();\n        }\n      }\n\n      function resizeStop(evnt) {\n        if (!obj.box) return;\n        if (!evnt) evnt = window.event;\n        $(document).off('mousemove', obj.tmp.events.mouseMove);\n        $(document).off('mouseup', obj.tmp.events.mouseUp);\n        if (obj.tmp.resize == null) return;\n        // unlock all panels\n        for (var p1 = 0; p1 < w2panels.length; p1++) {\n          var $tmp = $(obj.el(w2panels[p1])).parent().find('.w2ui-lock');\n          if ($tmp.attr('locked') == 'previous') {\n            $tmp.removeAttr('locked');\n          } else {\n            obj.unlock(w2panels[p1]);\n          }\n        }\n        // set new size\n        resizeUpdate(evnt);\n        $('#layout_' + obj.name + '_resizer_' + obj.tmp.resize.type).removeClass('active');\n        delete obj.tmp.resize;\n      }\n\n      function resizeMove(evnt) {\n        if (!obj.box) return;\n        if (!evnt) evnt = window.event;\n        if (obj.tmp.resize == null) return;\n        var panel = obj.get(obj.tmp.resize.type);\n        // event before\n        var tmp = obj.tmp.resize;\n        var edata = obj.trigger({\n          phase: 'before', type: 'resizing', target: obj.name, object: panel, originalEvent: evnt,\n          panel: tmp ? tmp.type : 'all', diff_x: tmp ? tmp.diff_x : 0, diff_y: tmp ? tmp.diff_y : 0\n        });\n        if (edata.isCancelled === true) return;\n\n        var o = $('#layout_' + obj.name + '_panel_' + tmp.type).offset();\n\n        var p = $('#layout_' + obj.name + '_resizer_' + tmp.type);\n        var resize_x = evnt.pageX - o.left + (tmp.type == 'left' ? -panel.width : 0);\n        var resize_y = evnt.pageY - o.top + (tmp.type == 'top' ? -panel.height : 0)\n        var mainPanel = obj.get('main');\n\n        if (!p.hasClass('active')) p.addClass('active');\n\n        switch (tmp.type) {\n          case 'left':\n            if (panel.minSize - resize_x > panel.width) {\n              resize_x = panel.minSize - panel.width;\n            }\n            if (panel.maxSize && (panel.width + resize_x > panel.maxSize)) {\n              resize_x = panel.maxSize - panel.width;\n            }\n            if (mainPanel.minSize + resize_x > mainPanel.width) {\n              resize_x = mainPanel.width - mainPanel.minSize;\n            }\n            break;\n\n          case 'right':\n            if (panel.minSize + resize_x > panel.width) {\n              resize_x = panel.width - panel.minSize;\n            }\n            if (panel.maxSize && (panel.width - resize_x > panel.maxSize)) {\n              resize_x = panel.width - panel.maxSize;\n            }\n            if (mainPanel.minSize - resize_x > mainPanel.width) {\n              resize_x = mainPanel.minSize - mainPanel.width;\n            }\n            break;\n\n          case 'top':\n            if (panel.minSize - resize_y > panel.height) {\n              resize_y = panel.minSize - panel.height;\n            }\n            if (panel.maxSize && (panel.height + resize_y > panel.maxSize)) {\n              resize_y = panel.maxSize - panel.height;\n            }\n            if (mainPanel.minSize + resize_y > mainPanel.height) {\n              resize_y = mainPanel.height - mainPanel.minSize;\n            }\n            break;\n\n          case 'preview':\n          case 'bottom':\n            if (panel.minSize + resize_y > panel.height) {\n              resize_y = panel.height - panel.minSize;\n            }\n            if (panel.maxSize && (panel.height - resize_y > panel.maxSize)) {\n              resize_y = panel.height - panel.maxSize;\n            }\n            if (mainPanel.minSize - resize_y > mainPanel.height) {\n              resize_y = mainPanel.minSize - mainPanel.height;\n            }\n            break;\n        }\n        tmp.diff_x = resize_x;\n        tmp.diff_y = resize_y;\n\n        switch (tmp.type) {\n          case 'top':\n          case 'preview':\n          case 'bottom':\n            tmp.diff_x = 0;\n            if (p.length > 0) p[0].style.top = (tmp.value + tmp.diff_y) + 'px';\n            break;\n\n          case 'left':\n          case 'right':\n            tmp.diff_y = 0;\n            if (p.length > 0) p[0].style.left = (tmp.value + tmp.diff_x) + 'px';\n            break;\n        }\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after' }));\n\n        resizeUpdate(evnt);\n      }\n    },\n\n    refresh: function (panel) {\n      var obj = this;\n      // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n      if (panel == null) panel = null;\n      var time = (new Date()).getTime();\n      // event before\n      var edata = obj.trigger({ phase: 'before', type: 'refresh', target: (panel != null ? panel : obj.name), object: obj.get(panel) });\n      if (edata.isCancelled === true) return;\n      // obj.unlock(panel);\n      if (typeof panel == 'string') {\n        var p = obj.get(panel);\n        if (p == null) return;\n        //p = $.extend({}, w2layout.prototype.panel, p); // MARK-FLAMM\n        var pname = '#layout_' + obj.name + '_panel_' + p.type;\n        var rname = '#layout_' + obj.name + '_resizer_' + p.type;\n        // apply properties to the panel\n        $(pname).css({ display: p.hidden ? 'none' : 'block' });\n        $(pname).css({ zIndex: p.zIndex });\n        if (p.resizable) $(rname).show(); else $(rname).hide();\n        // insert content\n        if (typeof p.content == 'object' && typeof p.content.render === 'function') {\n          p.content.box = $(pname + '> .w2ui-panel-content')[0];\n          setTimeout(function () {\n            // need to remove unnecessary classes\n            if ($(pname + '> .w2ui-panel-content').length > 0) {\n              $(pname + '> .w2ui-panel-content')\n                .removeClass()\n                .removeAttr('name')\n                .addClass('w2ui-panel-content')\n                .css('overflow', p.overflow)[0].style.cssText += ';' + p.style;\n            }\n            if (p.content && typeof p.content.render == 'function') {\n              p.content.render(); // do not do .render(box);\n            }\n          }, 1);\n        } else {\n          // need to remove unnecessary classes\n          if ($(pname + '> .w2ui-panel-content').length > 0) {\n            $(pname + '> .w2ui-panel-content')\n              .removeClass()\n              .removeAttr('name')\n              .addClass('w2ui-panel-content')\n              .html(p.content)\n              .css('overflow', p.overflow)[0].style.cssText += ';' + p.style;\n          }\n        }\n        // if there are tabs and/or toolbar - render it\n        var tmp = $(obj.box).find(pname + '> .w2ui-panel-tabs');\n        if (p.show.tabs && p.tabs != null) {\n          if (tmp.find('[name=' + p.tabs.name + ']').length === 0 && p.tabs != null) tmp.w2render(p.tabs); else p.tabs.refresh();\n        } else {\n          tmp.html('').removeClass('w2ui-tabs').hide();\n        }\n        tmp = $(obj.box).find(pname + '> .w2ui-panel-toolbar');\n        if (p.show.toolbar) {\n          if (tmp.find('[name=' + p.toolbar.name + ']').length === 0 && p.toolbar != null) tmp.w2render(p.toolbar); else p.toolbar.refresh();\n        } else {\n          tmp.html('').removeClass('w2ui-toolbar').hide();\n        }\n        // show title\n        tmp = $(obj.box).find(pname + '> .w2ui-panel-title');\n        if (p.title) {\n          tmp.html(p.title).show();\n        } else {\n          tmp.html('').hide();\n        }\n        /*tmp = $(obj.box).find(pname + '> .w2ui-panel-content'); // MARK-FLAMM\n        if (p.content) {\n          tmp.append(p.content)\n        }*/\n      } else {\n        /*if ($('#layout_' + obj.name + '_panel_main').length === 0) { // MARK-FLAMM\n          obj.render();\n          return;\n        }*/\n        obj.resize();\n        // refresh all of them\n        for (var p1 = 0; p1 < this.panels.length; p1++) { obj.refresh(this.panels[p1].type); }\n      }\n      obj.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    resize: function () {\n      // if (window.getSelection) window.getSelection().removeAllRanges();    // clear selection\n      if (!this.box) return false;\n      var time = (new Date()).getTime();\n      // event before\n      var tmp = this.tmp.resize;\n      var edata = this.trigger({\n        phase: 'before', type: 'resize', target: this.name,\n        panel: tmp ? tmp.type : 'all', diff_x: tmp ? tmp.diff_x : 0, diff_y: tmp ? tmp.diff_y : 0\n      });\n      if (edata.isCancelled === true) return;\n      if (this.padding < 0) this.padding = 0;\n\n      // layout itself\n      var width = parseInt($(this.box).width());\n      var height = parseInt($(this.box).height());\n      if (height == 0) {\n        width = parseInt($(this.box).parent().width());\n        height = parseInt($(this.box).parent().height());\n      }\n      $(this.box).find(' > div').css({\n        width: width + 'px',\n        height: height + 'px'\n      });\n      var obj = this;\n      // panelsdiff_x\n      var pmain = this.get('main');\n      var pprev = this.get('preview');\n      var pleft = this.get('left');\n      var pright = this.get('right');\n      var ptop = this.get('top');\n      var pbottom = this.get('bottom');\n      var smain = true; // main always on\n      var sprev = (pprev != null && pprev.hidden !== true ? true : false);\n      var sleft = (pleft != null && pleft.hidden !== true ? true : false);\n      var sright = (pright != null && pright.hidden !== true ? true : false);\n      var stop = (ptop != null && ptop.hidden !== true ? true : false);\n      var sbottom = (pbottom != null && pbottom.hidden !== true ? true : false);\n      var l, t, w, h, e;\n      // calculate %\n      for (var p = 0; p < w2panels.length; p++) {\n        if (w2panels[p] === 'main') continue;\n        tmp = this.get(w2panels[p]);\n        if (!tmp) continue;\n        var str = String(tmp.size || 0);\n        if (str.substr(str.length - 1) == '%') {\n          var tmph = height;\n          if (tmp.type == 'preview') {\n            tmph = tmph -\n              (ptop && !ptop.hidden ? ptop.sizeCalculated : 0) -\n              (pbottom && !pbottom.hidden ? pbottom.sizeCalculated : 0);\n          }\n          tmp.sizeCalculated = parseInt((tmp.type == 'left' || tmp.type == 'right' ? width : tmph) * parseFloat(tmp.size) / 100);\n        } else {\n          tmp.sizeCalculated = parseInt(tmp.size);\n        }\n        tmp.sizeCalculated = Math.max(tmp.sizeCalculated, parseInt(tmp.minSize));\n      }\n      // negative size\n      if (String(pright.size).substr(0, 1) == '-') {\n        if (sleft && String(pleft.size).substr(0, 1) == '-') {\n          console.log('ERROR: you cannot have both left panel.size and right panel.size be negative.');\n        } else {\n          pright.sizeCalculated = width - (sleft ? pleft.sizeCalculated : 0) + parseInt(pright.size);\n        }\n      }\n      if (String(pleft.size).substr(0, 1) == '-') {\n        if (sright && pright.size.substr(0, 1) == '-') {\n          console.log('ERROR: you cannot have both left panel.size and right panel.size be negative.');\n        } else {\n          pleft.sizeCalculated = width - (sright ? pright.sizeCalculated : 0) + parseInt(pleft.size);\n        }\n      }\n      // top if any\n      if (ptop != null && ptop.hidden !== true) {\n        l = 0;\n        t = 0;\n        w = width;\n        h = ptop.sizeCalculated;\n        $('#layout_' + this.name + '_panel_top').css({\n          'display': 'block',\n          'left': l + 'px',\n          'top': t + 'px',\n          'width': w + 'px',\n          'height': h + 'px'\n        }).show();\n        ptop.width = w;\n        ptop.height = h;\n        // resizer\n        if (ptop.resizable) {\n          t = ptop.sizeCalculated - (this.padding === 0 ? this.resizer : 0);\n          h = (this.resizer > this.padding ? this.resizer : this.padding);\n          $('#layout_' + this.name + '_resizer_top').show().css({\n            'display': 'block',\n            'left': l + 'px',\n            'top': t + 'px',\n            'width': w + 'px',\n            'height': h + 'px',\n            'cursor': 'ns-resize'\n          }).off('mousedown').on('mousedown', function (event) {\n            // event before\n            var edata = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'top', originalEvent: event });\n            if (edata.isCancelled === true) return;\n            // default action\n            w2ui[obj.name].tmp.events.resizeStart('top', event);\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            return false;\n          });\n        }\n      } else {\n        $('#layout_' + this.name + '_panel_top').hide();\n        $('#layout_' + this.name + '_resizer_top').hide();\n      }\n      // left if any\n      if (pleft != null && pleft.hidden !== true) {\n        l = 0;\n        t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n        w = pleft.sizeCalculated;\n        h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n          (sbottom ? pbottom.sizeCalculated + this.padding : 0);\n        e = $('#layout_' + this.name + '_panel_left');\n        if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n        e.css({\n          'display': 'block',\n          'left': l + 'px',\n          'top': t + 'px',\n          'width': w + 'px',\n          'height': h + 'px'\n        }).show();\n        pleft.width = w;\n        pleft.height = h;\n        // resizer\n        if (pleft.resizable) {\n          l = pleft.sizeCalculated - (this.padding === 0 ? this.resizer : 0);\n          w = (this.resizer > this.padding ? this.resizer : this.padding);\n          $('#layout_' + this.name + '_resizer_left').show().css({\n            'display': 'block',\n            'left': l + 'px',\n            'top': t + 'px',\n            'width': w + 'px',\n            'height': h + 'px',\n            'cursor': 'ew-resize'\n          }).off('mousedown').on('mousedown', function (event) {\n            // event before\n            var edata = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'left', originalEvent: event });\n            if (edata.isCancelled === true) return;\n            // default action\n            w2ui[obj.name].tmp.events.resizeStart('left', event);\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            return false;\n          });\n        }\n      } else {\n        $('#layout_' + this.name + '_panel_left').hide();\n        $('#layout_' + this.name + '_resizer_left').hide();\n      }\n      // right if any\n      if (pright != null && pright.hidden !== true) {\n        l = width - pright.sizeCalculated;\n        t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n        w = pright.sizeCalculated;\n        h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n          (sbottom ? pbottom.sizeCalculated + this.padding : 0);\n        $('#layout_' + this.name + '_panel_right').css({\n          'display': 'block',\n          'left': l + 'px',\n          'top': t + 'px',\n          'width': w + 'px',\n          'height': h + 'px'\n        }).show();\n        pright.width = w;\n        pright.height = h;\n        // resizer\n        if (pright.resizable) {\n          l = l - this.padding;\n          w = (this.resizer > this.padding ? this.resizer : this.padding);\n          $('#layout_' + this.name + '_resizer_right').show().css({\n            'display': 'block',\n            'left': l + 'px',\n            'top': t + 'px',\n            'width': w + 'px',\n            'height': h + 'px',\n            'cursor': 'ew-resize'\n          }).off('mousedown').on('mousedown', function (event) {\n            // event before\n            var edata = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'right', originalEvent: event });\n            if (edata.isCancelled === true) return;\n            // default action\n            w2ui[obj.name].tmp.events.resizeStart('right', event);\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            return false;\n          });\n        }\n      } else {\n        $('#layout_' + this.name + '_panel_right').hide();\n        $('#layout_' + this.name + '_resizer_right').hide();\n      }\n      // bottom if any\n      if (pbottom != null && pbottom.hidden !== true) {\n        l = 0;\n        t = height - pbottom.sizeCalculated;\n        w = width;\n        h = pbottom.sizeCalculated;\n        $('#layout_' + this.name + '_panel_bottom').css({\n          'display': 'block',\n          'left': l + 'px',\n          'top': t + 'px',\n          'width': w + 'px',\n          'height': h + 'px'\n        }).show();\n        pbottom.width = w;\n        pbottom.height = h;\n        // resizer\n        if (pbottom.resizable) {\n          t = t - (this.padding === 0 ? 0 : this.padding);\n          h = (this.resizer > this.padding ? this.resizer : this.padding);\n          $('#layout_' + this.name + '_resizer_bottom').show().css({\n            'display': 'block',\n            'left': l + 'px',\n            'top': t + 'px',\n            'width': w + 'px',\n            'height': h + 'px',\n            'cursor': 'ns-resize'\n          }).off('mousedown').on('mousedown', function (event) {\n            // event before\n            var edata = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'bottom', originalEvent: event });\n            if (edata.isCancelled === true) return;\n            // default action\n            w2ui[obj.name].tmp.events.resizeStart('bottom', event);\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            return false;\n          });\n        }\n      } else {\n        $('#layout_' + this.name + '_panel_bottom').hide();\n        $('#layout_' + this.name + '_resizer_bottom').hide();\n      }\n      // main - always there\n      l = 0 + (sleft ? pleft.sizeCalculated + this.padding : 0);\n      t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n      w = width - (sleft ? pleft.sizeCalculated + this.padding : 0) -\n        (sright ? pright.sizeCalculated + this.padding : 0);\n      h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n        (sbottom ? pbottom.sizeCalculated + this.padding : 0) -\n        (sprev ? pprev.sizeCalculated + this.padding : 0);\n      e = $('#layout_' + this.name + '_panel_main');\n      if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n      e.css({\n        'display': 'block',\n        'left': l + 'px',\n        'top': t + 'px',\n        'width': w + 'px',\n        'height': h + 'px'\n      });\n      pmain.width = w;\n      pmain.height = h;\n\n      // preview if any\n      if (pprev != null && pprev.hidden !== true) {\n        l = 0 + (sleft ? pleft.sizeCalculated + this.padding : 0);\n        t = height - (sbottom ? pbottom.sizeCalculated + this.padding : 0) - pprev.sizeCalculated;\n        w = width - (sleft ? pleft.sizeCalculated + this.padding : 0) -\n          (sright ? pright.sizeCalculated + this.padding : 0);\n        h = pprev.sizeCalculated;\n        e = $('#layout_' + this.name + '_panel_preview');\n        if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n        e.css({\n          'display': 'block',\n          'left': l + 'px',\n          'top': t + 'px',\n          'width': w + 'px',\n          'height': h + 'px'\n        }).show();\n        pprev.width = w;\n        pprev.height = h;\n        // resizer\n        if (pprev.resizable) {\n          t = t - (this.padding === 0 ? 0 : this.padding);\n          h = (this.resizer > this.padding ? this.resizer : this.padding);\n          $('#layout_' + this.name + '_resizer_preview').show().css({\n            'display': 'block',\n            'left': l + 'px',\n            'top': t + 'px',\n            'width': w + 'px',\n            'height': h + 'px',\n            'cursor': 'ns-resize'\n          }).off('mousedown').on('mousedown', function (event) {\n            // event before\n            var edata = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'preview', originalEvent: event });\n            if (edata.isCancelled === true) return;\n            // default action\n            w2ui[obj.name].tmp.events.resizeStart('preview', event);\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            return false;\n          });\n        }\n      } else {\n        $('#layout_' + this.name + '_panel_preview').hide();\n        $('#layout_' + this.name + '_resizer_preview').hide();\n      }\n\n      // display tabs and toolbar if needed\n      for (var p1 = 0; p1 < w2panels.length; p1++) {\n        var pan = this.get(w2panels[p1]);\n        var tmp2 = '#layout_' + this.name + '_panel_' + w2panels[p1] + ' > .w2ui-panel-';\n        var tabHeight = 0;\n        if (pan) {\n          //pan = $.extend({}, w2layout.prototype.panel, pan); // MARK-FLAMM\n          if (pan.title) {\n            tabHeight += w2utils.getSize($(tmp2 + 'title').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n          }\n          if (pan.show.tabs) {\n            if (pan.tabs != null && w2ui[this.name + '_' + w2panels[p1] + '_tabs']) w2ui[this.name + '_' + w2panels[p1] + '_tabs'].resize();\n            tabHeight += w2utils.getSize($(tmp2 + 'tabs').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n          }\n          if (pan.show.toolbar) {\n            if (pan.toolbar != null && w2ui[this.name + '_' + w2panels[p1] + '_toolbar']) w2ui[this.name + '_' + w2panels[p1] + '_toolbar'].resize();\n            tabHeight += w2utils.getSize($(tmp2 + 'toolbar').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n          }\n        }\n        $(tmp2 + 'content').css({ display: pan.flex ? 'flex' : 'block' }).css({ top: tabHeight + 'px' });\n      }\n      // send resize to all objects\n      //clearTimeout(this._resize_timer); // MARK-FLAMM\n      //this._resize_timer = setTimeout(function () { // MARK-FLAMM\n      for (var e in w2ui) {\n        if (typeof w2ui[e].resize == 'function') {\n          // sent to all none-layouts\n          if (w2ui[e].panels == null) w2ui[e].resize();\n          // only send to nested layouts\n          var parent = $(w2ui[e].box).parents('.w2ui-layout');\n          if (parent.length > 0 && parent.attr('name') == obj.name) w2ui[e].resize();\n        }\n      }\n      //}, 0); // MARK-FLAMM\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n      if (edata.isCancelled === true) return;\n      if (w2ui[this.name] == null) return false;\n      // clean up\n      if ($(this.box).find('#layout_' + this.name + '_panel_main').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-layout')\n          .html('');\n      }\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      if (this.tmp.events && this.tmp.events.resize) $(window).off('resize', this.tmp.events.resize);\n      return true;\n    },\n\n    lock: function (panel, msg, showSpinner) {\n      if (w2panels.indexOf(panel) == -1) {\n        console.log('ERROR: First parameter needs to be the a valid panel name.');\n        return;\n      }\n      var args = Array.prototype.slice.call(arguments, 0);\n      args[0] = '#layout_' + this.name + '_panel_' + panel;\n      w2utils.lock.apply(window, args);\n    },\n\n    unlock: function (panel, speed) {\n      if (w2panels.indexOf(panel) == -1) {\n        console.log('ERROR: First parameter needs to be the a valid panel name.');\n        return;\n      }\n      var nm = '#layout_' + this.name + '_panel_' + panel;\n      w2utils.unlock(nm, speed);\n    }\n  };\n\n  $.extend(w2layout.prototype, w2utils.event);\n  w2obj.layout = w2layout;\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2popup      - popup widget\n*        - $().w2popup  - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == changes\n*   - added onMove event\n*   - w2prompt.options.ok_class, cancel_class\n*   - w2confirm.options.onOpen, w2confirm.options.onClose\n*   - w2prompt.options.onOpen, w2prompt.options.onClose\n*   - w2popup.actions, w2popup.action, w2popup.onAction\n*   - w2popup.onMsgOpen, w2popup.onMsgClose\n*   - options.multiple\n*\n* == NICE TO HAVE ==\n*   - hide overlay on esc\n*   - make popup width/height in %\n*\n************************************************************************/\n\nvar w2popup = {};\n\n(function ($) {\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2popup = function (method, options) {\n    if (method == null) {\n      options = {};\n      method = 'open';\n    }\n    if ($.isPlainObject(method)) {\n      options = method;\n      method = 'open';\n    }\n    method = method.toLowerCase();\n    if (method === 'load' && typeof options === 'string') {\n      options = $.extend({ url: options }, arguments.length > 2 ? arguments[2] : {});\n    }\n    if (method === 'open' && options.url != null) method = 'load';\n    options = options || {};\n    // load options from markup\n    var dlgOptions = {};\n    if ($(this).length > 0 && method == 'open') {\n      if ($(this).find('div[rel=title], div[rel=body], div[rel=buttons]').length > 0) {\n        // remember previous tempalte\n        if ($('#w2ui-popup').length > 0) {\n          var tmp = $('#w2ui-popup').data('options');\n          w2popup._prev = {\n            template: w2popup._template,\n            title: tmp.title,\n            body: tmp.body,\n            buttons: tmp.buttons\n          };\n        }\n        w2popup._template = this;\n\n        if ($(this).find('div[rel=title]').length > 0) {\n          dlgOptions['title'] = $(this).find('div[rel=title]');\n        }\n        if ($(this).find('div[rel=body]').length > 0) {\n          dlgOptions['body'] = $(this).find('div[rel=body]');\n          dlgOptions['style'] = $(this).find('div[rel=body]')[0].style.cssText;\n        }\n        if ($(this).find('div[rel=buttons]').length > 0) {\n          dlgOptions['buttons'] = $(this).find('div[rel=buttons]');\n        }\n      } else {\n        dlgOptions['title'] = '&#160;';\n        dlgOptions['body'] = $(this).html();\n      }\n      if (parseInt($(this).css('width')) !== 0) dlgOptions['width'] = parseInt($(this).css('width'));\n      //if the popup will have a title bar, we must add the height of title bar to the popup height\n      var hasTitlebar = options.title || (options.showClose || options.showClose === undefined) || (options.showMax || options.showMax === undefined);\n      if (parseInt($(this).css('height')) !== 0) dlgOptions['height'] = parseInt($(this).css('height')) + (hasTitlebar ? 32 : 0);\n    }\n    // show popup\n    return w2popup[method]($.extend({}, dlgOptions, options));\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality (SINGLETON)\n\n  w2popup = {\n    defaults: {\n      title: '',\n      body: '',\n      buttons: [],\n      style: '',\n      color: '#000',\n      opacity: 0.4,\n      speed: 0.3,\n      modal: false,\n      maximized: false,\n      keyboard: true,     // will close popup on esc if not modal\n      width: 500,\n      height: 300,\n      showClose: true,\n      showMax: false,\n      transition: null,\n      multiple: false     // if popup already open, opens as a message\n    },\n    status: 'closed',     // string that describes current status\n    handlers: [],\n    onOpen: null,\n    onClose: null,\n    onMax: null,\n    onMin: null,\n    onToggle: null,\n    onKeydown: null,\n\n    open: function (options) {\n      var obj = this;\n      var orig_options = $.extend(true, {}, options);\n      if (w2popup.status == 'closing') {\n        setTimeout(function () { obj.open.call(obj, options); }, 100);\n        return;\n      }\n      // get old options and merge them\n      var old_options = $('#w2ui-popup').data('options');\n      var options = $.extend({}, this.defaults, old_options, { title: '', body: '', buttons: [] }, options, { maximized: false });\n      // need timer because popup might not be open\n      setTimeout(function () { $('#w2ui-popup').data('options', options); }, 100);\n      // if new - reset event handlers\n      if ($('#w2ui-popup').length === 0) {\n        // w2popup.handlers  = []; // if commented, allows to add w2popup.on() for all\n        w2popup.onMax = null;\n        w2popup.onMin = null;\n        w2popup.onToggle = null;\n        w2popup.onOpen = null;\n        w2popup.onClose = null;\n        w2popup.onKeydown = null;\n        w2popup.onAction = null;\n      }\n      if (options.onOpen) w2popup.onOpen = options.onOpen;\n      if (options.onClose) w2popup.onClose = options.onClose;\n      if (options.onMax) w2popup.onMax = options.onMax;\n      if (options.onMin) w2popup.onMin = options.onMin;\n      if (options.onToggle) w2popup.onToggle = options.onToggle;\n      if (options.onKeydown) w2popup.onKeydown = options.onKeydown;\n      if (options.onAction) w2popup.onAction = options.onAction;\n      options.width = parseInt(options.width);\n      options.height = parseInt(options.height);\n\n      var maxW, maxH;\n      if (window.innerHeight == undefined) {\n        maxW = parseInt(document.documentElement.offsetWidth);\n        maxH = parseInt(document.documentElement.offsetHeight);\n        if (w2utils.engine === 'IE7') { maxW += 21; maxH += 4; }\n      } else {\n        maxW = parseInt(window.innerWidth);\n        maxH = parseInt(window.innerHeight);\n      }\n      if (maxW - 10 < options.width) options.width = maxW - 10;\n      if (maxH - 10 < options.height) options.height = maxH - 10;\n      var top = (maxH - options.height) / 2 * 0.6;\n      var left = (maxW - options.width) / 2;\n\n      // convert action arrays into buttons\n      if (options.actions != null) {\n        options.buttons = [];\n        Object.keys(options.actions).forEach(function (action) {\n          var handler = options.actions[action];\n          if (typeof handler == 'function') {\n            var c = document.createElement('button');\n            c.classList.add('w2ui-btn');\n            c.onclick = handler;\n            c.innerHTML = action;\n            options.buttons.push(c);\n          }\n          if (typeof handler == 'object') {\n            var c = document.createElement('button');\n            c.classList.add('w2ui-btn');\n            c.classList.add(handler['class'] || '');\n            c.style.cssText = handler['style'] || '';\n            c.onclick = handler['handler'] || function () { };\n            c.innerHTML = handler['text'] || action;\n            options.buttons.push(c);\n          }\n          if (typeof handler == 'string') {\n            options.buttons.push(handler)\n          }\n        });\n      }\n\n      // check if message is already displayed\n      if ($('#w2ui-popup').length === 0) {\n        // trigger event\n        var edata = this.trigger({ phase: 'before', type: 'open', target: 'popup', options: options, present: false });\n        if (edata.isCancelled === true) return;\n        w2popup.status = 'opening';\n        // output message\n        w2popup.lockScreen(options);\n        var btn = [];\n        if (options.showClose) {\n          const d = document.createElement('div');\n          d.classList.add('w2ui-popup-button', 'w2ui-popup-close');\n          d.onmousedown = function (event) {\n            event.stopPropagation();\n          };\n          d.onclick = function () {\n            w2popup.close();\n          };\n          d.innerHTML = 'Close';\n          btn.push(d);\n        }\n        if (options.showMax) {\n          const d = document.createElement('div');\n          d.classList.add('w2ui-popup-button', 'w2ui-popup-max');\n          d.onmousedown = function (event) {\n            event.stopPropagation();\n          };\n          d.onclick = function () {\n            w2popup.toggle();\n          };\n          d.innerHTML = 'Max';\n          btn.push(d);\n        }\n        // first insert just body\n        var msg = '<div id=\"w2ui-popup\" class=\"w2ui-popup w2ui-popup-opening\" style=\"left: ' + left + 'px; top: ' + top + 'px;' +\n          '     width: ' + parseInt(options.width) + 'px; height: ' + parseInt(options.height) + 'px;\"></div>';\n        $('body').append(msg);\n        // parse rel=*\n        /*var parts = $('#w2ui-popup'); // MARK-FLAMM\n        if (parts.find('div[rel=title], div[rel=body], div[rel=buttons]').length > 0) {\n          // title\n          var tmp = parts.find('div[rel=title]');\n          if (tmp.length > 0) { options.title = tmp.html(); tmp.remove(); }\n          // buttons\n          var tmp = parts.find('div[rel=buttons]');\n          if (tmp.length > 0) { options.buttons = tmp.html(); tmp.remove(); }\n          // body\n          var tmp = parts.find('div[rel=body]');\n          if (tmp.length > 0) options.body = tmp.html(); else options.body = parts.html();\n        }*/\n        // then content\n        var msg = '<div class=\"w2ui-popup-title\" style=\"' + (!options.title ? 'display: none' : '') + '\"></div>' +\n          '<div class=\"w2ui-box\" style=\"' + (!options.title ? 'top: 0px !important;' : '') +\n          (!options.buttons ? 'bottom: 0px !important;' : '') + '\">' +\n          '    <div class=\"w2ui-popup-body' + (!options.title ? ' w2ui-popup-no-title' : '') +\n          (!options.buttons ? ' w2ui-popup-no-buttons' : '') + '\" style=\"' + options.style + '\">' +\n          '    </div>' +\n          '</div>' +\n          '<div class=\"w2ui-popup-buttons\" style=\"' + (!options.buttons ? 'display: none' : '') + '\"></div>' +\n          '<input class=\"w2ui-popup-hidden\" style=\"position: absolute; top: -100px\"/>'; // this is needed to keep focus in popup\n        $('#w2ui-popup').html(msg);\n        $('#w2ui-popup .w2ui-popup-title').append(btn);\n\n        if (options.title) $('#w2ui-popup .w2ui-popup-title').append(options.title);\n        if (options.buttons) $('#w2ui-popup .w2ui-popup-buttons').append(options.buttons);\n        if (options.body) $('#w2ui-popup .w2ui-popup-body').append(options.body);\n\n        // allow element to render\n        setTimeout(function () {\n          $('#w2ui-popup')\n            .css(w2utils.cssPrefix({\n              'transition': options.speed + 's opacity, ' + options.speed + 's -webkit-transform'\n            }))\n            .removeClass(\"w2ui-popup-opening\");\n          obj.focus();\n        }, 1);\n        // clean transform\n        setTimeout(function () {\n          $('#w2ui-popup').css(w2utils.cssPrefix('transform', ''));\n        }, options.speed * 1000);\n        // event after\n        w2popup.status = 'open';\n        obj.trigger($.extend(edata, { phase: 'after' }));\n\n      } else if (options.multiple === true) {\n        // popup is not compatible with w2popup.message\n        w2popup.message(orig_options)\n      } else {\n        // if was from template and now not\n        if (w2popup._prev == null && w2popup._template != null) obj.restoreTemplate();\n\n        // trigger event\n        var edata = this.trigger({ phase: 'before', type: 'open', target: 'popup', options: options, present: true });\n        if (edata.isCancelled === true) return;\n        // check if size changed\n        w2popup.status = 'opening';\n        if (old_options != null) {\n          if (!old_options.maximized && (old_options['width'] != options['width'] || old_options['height'] != options['height'])) {\n            w2popup.resize(options.width, options.height);\n          }\n          options.prevSize = options.width + 'px:' + options.height + 'px';\n          options.maximized = old_options.maximized;\n        }\n        // show new items\n        var cloned = $('#w2ui-popup .w2ui-box').clone();\n        cloned.removeClass('w2ui-box').addClass('w2ui-box-temp').find('.w2ui-popup-body').empty().append(options.body);\n        // parse rel=* // MARK-FLAMM\n        /*if (typeof options.body == 'string' && cloned.find('div[rel=title], div[rel=body], div[rel=buttons]').length > 0) {\n          // title\n          var tmp = cloned.find('div[rel=title]');\n          if (tmp.length > 0) { options['title'] = tmp.html(); tmp.remove(); }\n          // buttons\n          var tmp = cloned.find('div[rel=buttons]');\n          if (tmp.length > 0) { options['buttons'] = tmp.html(); tmp.remove(); }\n          // body\n          var tmp = cloned.find('div[rel=body]');\n          if (tmp.length > 0) options['body'] = tmp.html(); else options['body'] = cloned.html();\n          // set proper body\n          cloned.html(options.body);\n        }*/\n        $('#w2ui-popup .w2ui-box').after(cloned);\n\n        if (options.buttons) {\n          $('#w2ui-popup .w2ui-popup-buttons').show().html('').append(options.buttons);\n          $('#w2ui-popup .w2ui-popup-body').removeClass('w2ui-popup-no-buttons');\n          $('#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp').css('bottom', '');\n        } else {\n          $('#w2ui-popup .w2ui-popup-buttons').hide().html('');\n          $('#w2ui-popup .w2ui-popup-body').addClass('w2ui-popup-no-buttons');\n          $('#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp').css('bottom', '0px');\n        }\n        if (options.title) {\n          var btn = [];\n          if (options.showClose) {\n            const d = document.createElement('div');\n            d.classList.add('w2ui-popup-button', 'w2ui-popup-close');\n            d.onmousedown = function (event) {\n              event.stopPropagation();\n            };\n            d.onclick = function () {\n              w2popup.close();\n            };\n            d.innerHTML = 'Close';\n            btn.push(d);\n          }\n          if (options.showMax) {\n            const d = document.createElement('div');\n            d.classList.add('w2ui-popup-button', 'w2ui-popup-max');\n            d.onmousedown = function (event) {\n              event.stopPropagation();\n            };\n            d.onclick = function () {\n              w2popup.toggle();\n            };\n            d.innerHTML = 'Max';\n            btn.push(d);\n          }\n          $('#w2ui-popup .w2ui-popup-title')\n            .show()\n            .append(btn)\n            .append(options.title);\n          $('#w2ui-popup .w2ui-popup-body').removeClass('w2ui-popup-no-title');\n          $('#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp').css('top', '');\n        } else {\n          $('#w2ui-popup .w2ui-popup-title').hide().html('');\n          $('#w2ui-popup .w2ui-popup-body').addClass('w2ui-popup-no-title');\n          $('#w2ui-popup .w2ui-box, #w2ui-popup .w2ui-box-temp').css('top', '0px');\n        }\n        // transition\n        var div_old = $('#w2ui-popup .w2ui-box')[0];\n        var div_new = $('#w2ui-popup .w2ui-box-temp')[0];\n        w2utils.transition(div_old, div_new, options.transition, function () {\n          // clean up\n          obj.restoreTemplate();\n          $(div_old).remove();\n          $(div_new).removeClass('w2ui-box-temp').addClass('w2ui-box');\n          var $body = $(div_new).find('.w2ui-popup-body');\n          if ($body.length == 1) $body[0].style.cssText = options.style;\n          // remove max state\n          $('#w2ui-popup').data('prev-size', null);\n          // focus on first button\n          obj.focus();\n        });\n        // call event onOpen\n        w2popup.status = 'open';\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }\n\n      // save new options\n      options._last_focus = $(':focus');\n      // keyboard events\n      if (options.keyboard) $(document).on('keydown', this.keydown);\n\n      // initialize move\n      var tmp = {\n        resizing: false,\n        mvMove: mvMove,\n        mvStop: mvStop\n      };\n      $('#w2ui-popup .w2ui-popup-title').on('mousedown', function (event) {\n        if (!w2popup.get().maximized) mvStart(event);\n      });\n\n      return this;\n\n      // handlers\n      function mvStart(evnt) {\n        if (!evnt) evnt = window.event;\n        w2popup.status = 'moving';\n        tmp.resizing = true;\n        tmp.isLocked = $('#w2ui-popup > .w2ui-lock').length == 1 ? true : false;\n        tmp.x = evnt.pageX;\n        tmp.y = evnt.pageY;\n        tmp.pos_x = $('#w2ui-popup').position().left;\n        tmp.pos_y = $('#w2ui-popup').position().top;\n        if (!tmp.isLocked) w2popup.lock({ opacity: 0 });\n        $(document).on('mousemove', tmp.mvMove);\n        $(document).on('mouseup', tmp.mvStop);\n        if (evnt.stopPropagation) evnt.stopPropagation(); else evnt.cancelBubble = true;\n        if (evnt.preventDefault) evnt.preventDefault(); else return false;\n      }\n\n      function mvMove(evnt) {\n        if (tmp.resizing != true) return;\n        if (!evnt) evnt = window.event;\n        tmp.div_x = evnt.pageX - tmp.x;\n        tmp.div_y = evnt.pageY - tmp.y;\n        // trigger event\n        var edata = w2popup.trigger({ phase: 'before', type: 'move', target: 'popup', div_x: tmp.div_x, div_y: tmp.div_y });\n        if (edata.isCancelled === true) return;\n        // default behavior\n        $('#w2ui-popup').css(w2utils.cssPrefix({\n          'transition': 'none',\n          'transform': 'translate3d(' + tmp.div_x + 'px, ' + tmp.div_y + 'px, 0px)'\n        }));\n        // event after\n        w2popup.trigger($.extend(edata, { phase: 'after' }));\n      }\n\n      function mvStop(evnt) {\n        if (tmp.resizing != true) return;\n        if (!evnt) evnt = window.event;\n        w2popup.status = 'open';\n        tmp.div_x = (evnt.pageX - tmp.x);\n        tmp.div_y = (evnt.pageY - tmp.y);\n        $('#w2ui-popup').css({\n          'left': (tmp.pos_x + tmp.div_x) + 'px',\n          'top': (tmp.pos_y + tmp.div_y) + 'px'\n        }).css(w2utils.cssPrefix({\n          'transition': 'none',\n          'transform': 'translate3d(0px, 0px, 0px)'\n        }));\n        tmp.resizing = false;\n        $(document).off('mousemove', tmp.mvMove);\n        $(document).off('mouseup', tmp.mvStop);\n        if (!tmp.isLocked) w2popup.unlock();\n      }\n    },\n\n    action: function (action, msgId) {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options');\n      if (msgId != null) {\n        options = $('#w2ui-message' + msgId).data('options');\n        obj = {\n          parent: this,\n          options: options,\n          close: function () {\n            w2popup.message({ msgId: msgId })\n          }\n        }\n      }\n      var act = options.actions[action];\n      console.log(act, options.actions)\n      var click = act;\n      if ($.isPlainObject(act) && act.onClick) click = act.onClick;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: action, msgId: msgId, type: 'action', action: act, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default actions\n      if (typeof click === 'function') click.call(obj, event);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    keydown: function (event) {\n      var options = $('#w2ui-popup').data('options');\n      if (options && !options.keyboard) return;\n      // trigger event\n      var edata = w2popup.trigger({ phase: 'before', type: 'keydown', target: 'popup', options: options, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      switch (event.keyCode) {\n        case 27:\n          event.preventDefault();\n          if ($('#w2ui-popup .w2ui-message').length > 0) w2popup.message(); else w2popup.close();\n          break;\n      }\n      // event after\n      w2popup.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    close: function (options) {\n      var obj = this;\n      var options = $.extend({}, $('#w2ui-popup').data('options'), options);\n      if ($('#w2ui-popup').length === 0 || this.status == 'closed') return;\n      if (this.status == 'opening') {\n        setTimeout(function () { w2popup.close(); }, 100);\n        return;\n      }\n      // trigger event\n      var edata = this.trigger({ phase: 'before', type: 'close', target: 'popup', options: options });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      w2popup.status = 'closing';\n      $('#w2ui-popup')\n        .css(w2utils.cssPrefix({\n          'transition': options.speed + 's opacity, ' + options.speed + 's -webkit-transform'\n        }))\n        .addClass(\"w2ui-popup-closing\");\n      w2popup.unlockScreen(options);\n      setTimeout(function () {\n        // return template\n        obj.restoreTemplate();\n        $('#w2ui-popup').remove();\n        w2popup.status = 'closed';\n        // restore active\n        if (options._last_focus && options._last_focus.length > 0) options._last_focus.focus();\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }, options.speed * 1000);\n      // remove keyboard events\n      if (options.keyboard) $(document).off('keydown', this.keydown);\n    },\n\n    toggle: function () {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options');\n      // trigger event\n      var edata = this.trigger({ phase: 'before', type: 'toggle', target: 'popup', options: options });\n      if (edata.isCancelled === true) return;\n      // defatul action\n      if (options.maximized === true) w2popup.min(); else w2popup.max();\n      // event after\n      setTimeout(function () {\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }, (options.speed * 1000) + 50);\n    },\n\n    max: function () {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options');\n      if (options.maximized === true) return;\n      // trigger event\n      var edata = this.trigger({ phase: 'before', type: 'max', target: 'popup', options: options });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      w2popup.status = 'resizing';\n      options.prevSize = $('#w2ui-popup').css('width') + ':' + $('#w2ui-popup').css('height');\n      // do resize\n      w2popup.resize(10000, 10000, function () {\n        w2popup.status = 'open';\n        options.maximized = true;\n        obj.trigger($.extend(edata, { phase: 'after' }));\n        // resize gird, form, layout inside popup\n        $('#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout').each(function () {\n          var name = $(this).attr('name');\n          if (w2ui[name] && w2ui[name].resize) w2ui[name].resize();\n        })\n      });\n    },\n\n    min: function () {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options');\n      if (options.maximized !== true) return;\n      var size = options.prevSize.split(':');\n      // trigger event\n      var edata = this.trigger({ phase: 'before', type: 'min', target: 'popup', options: options });\n      if (edata.isCancelled === true) return;\n      // default behavior\n      w2popup.status = 'resizing';\n      // do resize\n      w2popup.resize(parseInt(size[0]), parseInt(size[1]), function () {\n        w2popup.status = 'open';\n        options.maximized = false;\n        options.prevSize = null;\n        obj.trigger($.extend(edata, { phase: 'after' }));\n        // resize gird, form, layout inside popup\n        $('#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout').each(function () {\n          var name = $(this).attr('name');\n          if (w2ui[name] && w2ui[name].resize) w2ui[name].resize();\n        })\n      });\n    },\n\n    get: function () {\n      return $('#w2ui-popup').data('options');\n    },\n\n    set: function (options) {\n      w2popup.open(options);\n    },\n\n    clear: function () {\n      $('#w2ui-popup .w2ui-popup-title').html('');\n      $('#w2ui-popup .w2ui-popup-body').html('');\n      $('#w2ui-popup .w2ui-popup-buttons').html('');\n    },\n\n    reset: function () {\n      w2popup.open(w2popup.defaults);\n    },\n\n    load: function (options) {\n      w2popup.status = 'loading';\n      if (options.url == null) {\n        console.log('ERROR: The url parameter is empty.');\n        return;\n      }\n      var tmp = String(options.url).split('#');\n      var url = tmp[0];\n      var selector = tmp[1];\n      if (options == null) options = {};\n      // load url\n      var html = $('#w2ui-popup').data(url);\n      if (html != null) {\n        popup(html, selector);\n      } else {\n        $.get(url, function (data, status, obj) { // should always be $.get as it is template\n          popup(obj.responseText, selector);\n          $('#w2ui-popup').data(url, obj.responseText); // remember for possible future purposes\n        });\n      }\n      function popup(html, selector) {\n        delete options.url;\n        $('body').append('<div id=\"w2ui-tmp\" style=\"display: none\">' + html + '</div>');\n        if (selector != null && $('#w2ui-tmp #' + selector).length > 0) {\n          $('#w2ui-tmp #' + selector).w2popup(options);\n        } else {\n          $('#w2ui-tmp > div').w2popup(options);\n        }\n        // link styles\n        if ($('#w2ui-tmp > style').length > 0) {\n          var style = $('<div>').append($('#w2ui-tmp > style').clone()).html();\n          if ($('#w2ui-popup #div-style').length === 0) {\n            $('#w2ui-popup').append('<div id=\"div-style\" style=\"position: absolute; left: -100; width: 1px\"></div>');\n          }\n          $('#w2ui-popup #div-style').html(style);\n        }\n        $('#w2ui-tmp').remove();\n      }\n    },\n\n    message: function (options) {\n      var obj = this;\n      $().w2tag(); // hide all tags\n      if (!options) options = { width: 200, height: 100 };\n      var pWidth = parseInt($('#w2ui-popup').width());\n      var pHeight = parseInt($('#w2ui-popup').height());\n      options.originalWidth = options.width;\n      options.originalHeight = options.height;\n      if (parseInt(options.width) < 10) options.width = 10;\n      if (parseInt(options.height) < 10) options.height = 10;\n      if (options.hideOnClick == null) options.hideOnClick = false;\n      var poptions = $('#w2ui-popup').data('options') || {};\n      var titleHeight = parseInt($('#w2ui-popup > .w2ui-popup-title').css('height'));\n      if (options.width == null || options.width > poptions.width - 10) {\n        options.width = poptions.width - 10;\n      }\n      if (options.height == null || options.height > poptions.height - titleHeight - 5) {\n        options.height = poptions.height - titleHeight - 5; // need margin from bottom only\n      }\n      // negative value means margin\n      if (options.originalHeight < 0) options.height = pHeight + options.originalHeight - titleHeight;\n      if (options.originalWidth < 0) options.width = pWidth + options.originalWidth * 2; // x 2 because there is left and right margin\n\n      var head = $('#w2ui-popup .w2ui-popup-title');\n      var msgCount = $('#w2ui-popup .w2ui-message').length;\n\n      // convert action arrays into buttons\n      if (options.actions != null) {\n        options.buttons = '';\n        Object.keys(options.actions).forEach(function (action) {\n          var handler = options.actions[action];\n          if (typeof handler == 'function') {\n            options.buttons += '<button class=\"w2ui-btn\" onclick=\"w2popup.action(\\'' + action + '\\', ' + msgCount + ')\">' + action + '</button>'\n          }\n          if (typeof handler == 'object') {\n            options.buttons += '<button class=\"w2ui-btn ' + (handler['class'] || '') + '\" style=\"' + (handler['style'] || '') + '\"'\n              + 'onclick=\"w2popup.action(\\'' + action + '\\', ' + msgCount + ')\">' + (handler['text'] || action) + '</button>'\n          }\n          if (typeof handler == 'string') {\n            options.buttons += handler\n          }\n        });\n      }\n\n      // remove message\n      if ($.trim(options.html) === '' && $.trim(options.body) === '' && $.trim(options.buttons) === '') {\n        var $msg = $('#w2ui-popup .w2ui-message').last();\n        if (options.msgId != null) {\n          $msg = $('#w2ui-message' + options.msgId);\n        }\n        var options = $msg.data('options') || {};\n        // message close event\n        var edata = obj.trigger({ phase: 'before', type: 'msgClose', msgId: $msg.attr('data-msgId'), target: 'popup', options: options });\n        if (edata.isCancelled === true) return;\n        // start hide transition\n        $msg.css(w2utils.cssPrefix({\n          'transition': '0.15s',\n          'transform': 'translateY(-' + options.height + 'px)'\n        }));\n        var $focus = $('#w2ui-popup .w2ui-message');\n        $focus = $($focus[$focus.length - 2])\n          .css('z-index', 1500)\n          .data('msg-focus');\n        if ($focus && $focus.length > 0) $focus.focus(); else obj.focus();\n        if (msgCount == 1) w2popup.unlock(150);\n        setTimeout(function () {\n          $msg.remove();\n          // default action\n          if (typeof options.onClose == 'function') {\n            options.onClose(edata);\n          }\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        }, 150);\n      } else {\n        if ($.trim(options.body) !== '' || $.trim(options.buttons) !== '') {\n          options.html = '<div class=\"w2ui-message-body\">' + options.body + '</div>' +\n            '<div class=\"w2ui-message-buttons\">' + options.buttons + '</div>';\n        }\n        // hide previous messages\n        $('#w2ui-popup .w2ui-message').css('z-index', 1390).data('msg-focus', $(':focus'));\n        head.css('z-index', 1501);\n        if (options.close == null) {\n          options.close = function () {\n            w2popup.message({ msgId: msgCount })\n          }\n        }\n        // add message\n        $('#w2ui-popup .w2ui-box')\n          .before('<div id=\"w2ui-message' + msgCount + '\" class=\"w2ui-message\" style=\"display: none; z-index: 1500; ' +\n            (head.length === 0 ? 'top: 0px;' : 'top: ' + w2utils.getSize(head, 'height') + 'px;') +\n            (options.width != null ? 'width: ' + options.width + 'px; left: ' + ((pWidth - options.width) / 2) + 'px;' : 'left: 10px; right: 10px;') +\n            (options.height != null ? 'height: ' + options.height + 'px;' : 'bottom: 6px;') +\n            w2utils.cssPrefix('transition', '0s', true) + '\" data-msgId=\"' + msgCount + '\" ' +\n            (options.hideOnClick === true ? 'onclick=\"w2popup.message();\"' : '') + '>' +\n            '</div>');\n        $('#w2ui-popup #w2ui-message' + msgCount).data('options', options);\n        var display = $('#w2ui-popup #w2ui-message' + msgCount).css('display');\n        $('#w2ui-popup #w2ui-message' + msgCount).css(w2utils.cssPrefix({\n          'transform': (display == 'none' ? 'translateY(-' + options.height + 'px)' : 'translateY(0px)')\n        }));\n        if (display == 'none') {\n          $('#w2ui-popup #w2ui-message' + msgCount).show().html(options.html);\n          // timer needs to animation\n          setTimeout(function () {\n            $('#w2ui-popup #w2ui-message' + msgCount).css(\n              $.extend(\n                w2utils.cssPrefix('transition', '.3s', false),\n                w2utils.cssPrefix({\n                  'transform': (display == 'none' ? 'translateY(0px)' : 'translateY(-' + options.height + 'px)')\n                })\n              )\n            );\n          }, 1);\n          // timer for lock\n          if (msgCount === 0) w2popup.lock();\n          // message open event\n          var edata = obj.trigger({ phase: 'before', type: 'msgOpen', msgId: msgCount, target: 'popup', options: options });\n          if (edata.isCancelled === true) return;\n          setTimeout(function () {\n            obj.focus();\n            // has to be on top of lock\n            $('#w2ui-popup #w2ui-message' + msgCount).css(w2utils.cssPrefix({ 'transition': '0s' }));\n            if (typeof options.onOpen == 'function') {\n              options.onOpen(edata);\n            }\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n          }, 350);\n        }\n      }\n    },\n\n    focus: function () {\n      var tmp = null;\n      var pop = $('#w2ui-popup');\n      var sel = 'input:visible, button:visible, select:visible, textarea:visible, [contentEditable], .w2ui-input';\n      // clear previous blur\n      $(pop).find(sel).off('.keep-focus');\n      // in message or popup\n      var cnt = $('#w2ui-popup .w2ui-message').length - 1;\n      var msg = $('#w2ui-popup #w2ui-message' + cnt);\n      if (msg.length > 0) {\n        var btn = $(msg[msg.length - 1]).find('button');\n        if (btn.length > 0) btn[0].focus();\n        tmp = msg;\n      } else if (pop.length > 0) {\n        var btn = pop.find('.w2ui-popup-buttons button');\n        if (btn.length > 0) btn[0].focus();\n        tmp = pop;\n      }\n      // keep focus/blur inside popup\n      $(tmp).find(sel)\n        .on('blur.keep-focus', function (event) {\n          setTimeout(function () {\n            var focus = $(':focus');\n            if ((focus.length > 0 && !$(tmp).find(sel).is(focus)) || focus.hasClass('w2ui-popup-hidden')) {\n              var el = $(tmp).find(sel);\n              if (el.length > 0) el[0].focus();\n            }\n          }, 1);\n        });\n    },\n\n    lock: function (msg, showSpinner) {\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.unshift($('#w2ui-popup'));\n      w2utils.lock.apply(window, args);\n    },\n\n    unlock: function (speed) {\n      w2utils.unlock($('#w2ui-popup'), speed);\n    },\n\n    // --- INTERNAL FUNCTIONS\n\n    lockScreen: function (options) {\n      if ($('#w2ui-lock').length > 0) return false;\n      if (options == null) options = $('#w2ui-popup').data('options');\n      if (options == null) options = {};\n      options = $.extend({}, w2popup.defaults, options);\n      // show element\n      $('body').append('<div id=\"w2ui-lock\" ' +\n        '    onmousewheel=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;\"' +\n        '    style=\"position: ' + (w2utils.engine == 'IE5' ? 'absolute' : 'fixed') + '; z-Index: 1199; left: 0px; top: 0px; ' +\n        '           padding: 0px; margin: 0px; background-color: ' + options.color + '; width: 100%; height: 100%; opacity: 0;\"></div>');\n      // lock screen\n      setTimeout(function () {\n        $('#w2ui-lock')\n          .css('opacity', options.opacity)\n          .css(w2utils.cssPrefix('transition', options.speed + 's opacity'));\n      }, 1);\n      // add events\n      if (options.modal == true) {\n        $('#w2ui-lock').on('mousedown', function () {\n          $('#w2ui-lock')\n            .css('opacity', '0.6')\n            .css(w2utils.cssPrefix('transition', '.1s'));\n        });\n        $('#w2ui-lock').on('mouseup', function () {\n          setTimeout(function () {\n            $('#w2ui-lock')\n              .css('opacity', options.opacity)\n              .css(w2utils.cssPrefix('transition', '.1s'));\n          }, 100);\n        });\n      } else {\n        $('#w2ui-lock').on('mousedown', function () { w2popup.close(); });\n      }\n      return true;\n    },\n\n    unlockScreen: function (options) {\n      if ($('#w2ui-lock').length === 0) return false;\n      if (options == null) options = $('#w2ui-popup').data('options');\n      if (options == null) options = {};\n      options = $.extend({}, w2popup.defaults, options);\n      $('#w2ui-lock')\n        .css('opacity', '0')\n        .css(w2utils.cssPrefix('transition', options.speed + 's opacity'));\n      setTimeout(function () {\n        $('#w2ui-lock').remove();\n      }, options.speed * 1000);\n      return true;\n    },\n\n    resizeMessages: function () {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options');\n      // see if there are messages and resize them\n      $('#w2ui-popup .w2ui-message').each(function () {\n        var moptions = $(this).data('options');\n        var $popup = $('#w2ui-popup');\n        if (parseInt(moptions.width) < 10) moptions.width = 10;\n        if (parseInt(moptions.height) < 10) moptions.height = 10;\n        var titleHeight = parseInt($popup.find('> .w2ui-popup-title').css('height'));\n        var pWidth = parseInt($popup.width());\n        var pHeight = parseInt($popup.height());\n        // recalc width\n        moptions.width = moptions.originalWidth;\n        if (moptions.width > pWidth - 10) {\n          moptions.width = pWidth - 10;\n        }\n        // recalc height\n        moptions.height = moptions.originalHeight;\n        if (moptions.height > pHeight - titleHeight - 5) {\n          moptions.height = pHeight - titleHeight - 5;\n        }\n        if (moptions.originalHeight < 0) moptions.height = pHeight + moptions.originalHeight - titleHeight;\n        if (moptions.originalWidth < 0) moptions.width = pWidth + moptions.originalWidth * 2; // x 2 because there is left and right margin\n        $(this).css({\n          left: ((pWidth - moptions.width) / 2) + 'px',\n          width: moptions.width + 'px',\n          height: moptions.height + 'px'\n        });\n      });\n    },\n\n    resize: function (width, height, callBack) {\n      var obj = this;\n      var options = $('#w2ui-popup').data('options') || {};\n      if (options.speed == null) options.speed = 0;\n      width = parseInt(width);\n      height = parseInt(height);\n      // calculate new position\n      var maxW, maxH;\n      if (window.innerHeight == undefined) {\n        maxW = parseInt(document.documentElement.offsetWidth);\n        maxH = parseInt(document.documentElement.offsetHeight);\n        if (w2utils.engine === 'IE7') { maxW += 21; maxH += 4; }\n      } else {\n        maxW = parseInt(window.innerWidth);\n        maxH = parseInt(window.innerHeight);\n      }\n      if (maxW - 10 < width) width = maxW - 10;\n      if (maxH - 10 < height) height = maxH - 10;\n      var top = (maxH - height) / 2 * 0.6;\n      var left = (maxW - width) / 2;\n      // resize there\n      $('#w2ui-popup')\n        .css(w2utils.cssPrefix({\n          'transition': options.speed + 's width, ' + options.speed + 's height, ' + options.speed + 's left, ' + options.speed + 's top'\n        }))\n        .css({\n          'top': top,\n          'left': left,\n          'width': width,\n          'height': height\n        });\n      var tmp_int = setInterval(function () { obj.resizeMessages(); }, 10); // then messages resize nicely\n      setTimeout(function () {\n        clearInterval(tmp_int);\n        options.width = width;\n        options.height = height;\n        obj.resizeMessages();\n        if (typeof callBack == 'function') callBack();\n      }, (options.speed * 1000) + 50); // give extra 50 ms\n    },\n\n    /***********************\n    *  Internal\n    **/\n\n    // restores template\n    restoreTemplate: function () {\n      var options = $('#w2ui-popup').data('options');\n      if (options == null) return;\n      var template = w2popup._template;\n      var title = options.title;\n      var body = options.body;\n      var buttons = options.buttons;\n      if (w2popup._prev) {\n        template = w2popup._prev.template;\n        title = w2popup._prev.title;\n        body = w2popup._prev.body;\n        buttons = w2popup._prev.buttons;\n        delete w2popup._prev;\n      } else {\n        delete w2popup._template;\n      }\n      if (template != null) {\n        var $tmp = $(template);\n        if ($tmp.length === 0) return;\n        if ($(body).attr('rel') == 'body') {\n          if (title) $tmp.append(title);\n          if (body) $tmp.append(body);\n          if (buttons) $tmp.append(buttons);\n        } else {\n          $tmp.append(body);\n        }\n      }\n    }\n  };\n\n  // merge in event handling\n  $.extend(w2popup, w2utils.event);\n\n})(jQuery);\n\n// ============================================\n// --- Common dialogs\n\nvar w2alert = function (msg, title, callBack) {\n  var $ = jQuery;\n  if (title == null) title = w2utils.lang('Notification');\n  if ($('#w2ui-popup').length > 0 && w2popup.status != 'closing') {\n    w2popup.message({\n      width: 400,\n      height: 170,\n      body: '<div class=\"w2ui-centered w2ui-alert-msg\" style=\"font-size: 13px;\">' + msg + '</div>',\n      buttons: '<button onclick=\"w2popup.message();\" class=\"w2ui-popup-btn w2ui-btn\">' + w2utils.lang('Ok') + '</button>',\n      onOpen: function () {\n        $('#w2ui-popup .w2ui-message .w2ui-popup-btn').focus();\n      },\n      onClose: function () {\n        if (typeof callBack == 'function') callBack();\n      }\n    });\n  } else {\n    w2popup.open({\n      width: 450,\n      height: 220,\n      showMax: false,\n      showClose: false,\n      title: title,\n      body: '<div class=\"w2ui-centered w2ui-alert-msg\" style=\"font-size: 13px;\">' + msg + '</div>',\n      buttons: '<button onclick=\"w2popup.close();\" class=\"w2ui-popup-btn w2ui-btn\">' + w2utils.lang('Ok') + '</button>',\n      onOpen: function (event) {\n        // do not use onComplete as it is slower\n        setTimeout(function () { $('#w2ui-popup .w2ui-popup-btn').focus(); }, 1);\n      },\n      onKeydown: function (event) {\n        $('#w2ui-popup .w2ui-popup-btn').focus().addClass('clicked');\n      },\n      onClose: function () {\n        if (typeof callBack == 'function') callBack();\n      }\n    });\n  }\n  return {\n    ok: function (fun) {\n      callBack = fun;\n      return this;\n    },\n    done: function (fun) {\n      callBack = fun;\n      return this;\n    }\n  };\n};\n\nvar w2confirm = function (msg, title, callBack) {\n  var $ = jQuery;\n  var options = {};\n  var defaults = {\n    msg: '',\n    title: w2utils.lang('Confirmation'),\n    width: ($('#w2ui-popup').length > 0 ? 400 : 450),\n    height: ($('#w2ui-popup').length > 0 ? 170 : 220),\n    yes_text: 'Yes',\n    yes_class: '',\n    yes_style: '',\n    yes_callBack: null,\n    no_text: 'No',\n    no_class: '',\n    no_style: '',\n    no_callBack: null,\n    focus_to_no: false,\n    callBack: null\n  };\n  if (arguments.length == 1 && typeof msg == 'object') {\n    $.extend(options, defaults, msg);\n  } else {\n    if (typeof title == 'function') {\n      $.extend(options, defaults, {\n        msg: msg,\n        callBack: title\n      })\n    } else {\n      $.extend(options, defaults, {\n        msg: msg,\n        title: title,\n        callBack: callBack\n      })\n    }\n  }\n  // if there is a yes/no button object\n  if (typeof options.btn_yes == 'object') {\n    options.yes_text = options.btn_yes.text || options.yes_text;\n    options.yes_class = options.btn_yes[\"class\"] || options.yes_class;\n    options.yes_style = options.btn_yes.style || options.yes_style;\n    options.yes_callBack = options.btn_yes.callBack || options.yes_callBack;\n  }\n  if (typeof options.btn_no == 'object') {\n    options.no_text = options.btn_no.text || options.no_text;\n    options.no_class = options.btn_no[\"class\"] || options.no_class;\n    options.no_style = options.btn_no.style || options.no_style;\n    options.no_callBack = options.btn_no.callBack || options.no_callBack;\n  }\n  if ($('#w2ui-popup').length > 0 && w2popup.status != 'closing' && w2popup.get()) {\n    if (options.width > w2popup.get().width) options.width = w2popup.get().width;\n    if (options.height > (w2popup.get().height - 50)) options.height = w2popup.get().height - 50;\n    w2popup.message({\n      width: options.width,\n      height: options.height,\n      body: '<div class=\"w2ui-centered w2ui-confirm-msg\" style=\"font-size: 13px;\">' + options.msg + '</div>',\n      buttons: (w2utils.settings.macButtonOrder\n        ? '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn ' + options.no_class + '\" style=\"' + options.no_style + '\">' + w2utils.lang(options.no_text) + '</button>' +\n        '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn ' + options.yes_class + '\" style=\"' + options.yes_style + '\">' + w2utils.lang(options.yes_text) + '</button>'\n        : '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn ' + options.yes_class + '\" style=\"' + options.yes_style + '\">' + w2utils.lang(options.yes_text) + '</button>' +\n        '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn ' + options.no_class + '\" style=\"' + options.no_style + '\">' + w2utils.lang(options.no_text) + '</button>'\n      ),\n      onOpen: function (event) {\n        $('#w2ui-popup .w2ui-message .w2ui-btn').on('click.w2confirm', function (event) {\n          w2popup._confirm_btn = event.target.id;\n          w2popup.message();\n        });\n        if (typeof options.onOpen == 'function') options.onOpen()\n      },\n      onClose: function (event) {\n        // needed this because there might be other messages\n        $('#w2ui-popup .w2ui-message .w2ui-btn').off('click.w2confirm');\n        // need to wait for message to slide up\n        setTimeout(function () {\n          if (typeof options.callBack == 'function') options.callBack(w2popup._confirm_btn);\n          if (w2popup._confirm_btn == 'Yes' && typeof options.yes_callBack == 'function') options.yes_callBack();\n          if (w2popup._confirm_btn == 'No' && typeof options.no_callBack == 'function') options.no_callBack();\n        }, 300);\n        if (typeof options.onClose == 'function') options.onClose()\n      }\n      // onKeydown will not work here\n    });\n\n  } else {\n\n    if (!w2utils.isInt(options.height)) options.height = options.height + 50;\n    w2popup.open({\n      width: options.width,\n      height: options.height,\n      title: options.title,\n      modal: true,\n      showClose: false,\n      body: '<div class=\"w2ui-centered w2ui-confirm-msg\" style=\"font-size: 13px;\">' + options.msg + '</div>',\n      buttons: (w2utils.settings.macButtonOrder\n        ? '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn ' + options.no_class + '\" style=\"' + options.no_style + '\">' + w2utils.lang(options.no_text) + '</button>' +\n        '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn ' + options.yes_class + '\" style=\"' + options.yes_style + '\">' + w2utils.lang(options.yes_text) + '</button>'\n        : '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn ' + options.yes_class + '\" style=\"' + options.yes_style + '\">' + w2utils.lang(options.yes_text) + '</button>' +\n        '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn ' + options.no_class + '\" style=\"' + options.no_style + '\">' + w2utils.lang(options.no_text) + '</button>'\n      ),\n      onOpen: function (event) {\n        // do not use onComplete as it is slower\n        setTimeout(function () {\n          $('#w2ui-popup .w2ui-popup-btn').on('click', function (event) {\n            w2popup.close();\n            if (typeof options.callBack == 'function') options.callBack(event.target.id);\n            if (event.target.id == 'Yes' && typeof options.yes_callBack == 'function') options.yes_callBack();\n            if (event.target.id == 'No' && typeof options.no_callBack == 'function') options.no_callBack();\n          });\n          if (options.focus_to_no) {\n            $('#w2ui-popup .w2ui-popup-btn#No').focus();\n          } else {\n            $('#w2ui-popup .w2ui-popup-btn#Yes').focus();\n          }\n          if (typeof options.onOpen == 'function') options.onOpen()\n        }, 1);\n      },\n      onClose: function (event) {\n        if (typeof options.onClose == 'function') options.onClose()\n      },\n      onKeydown: function (event) {\n        // if there are no messages\n        if ($('#w2ui-popup .w2ui-message').length === 0) {\n          switch (event.originalEvent.keyCode) {\n            case 13: // enter\n              $('#w2ui-popup .w2ui-popup-btn#Yes').focus().addClass('clicked'); // no need fo click as enter will do click\n              w2popup.close();\n              break;\n            case 27: // esc\n              $('#w2ui-popup .w2ui-popup-btn#No').focus().click();\n              w2popup.close();\n              break;\n          }\n        }\n      }\n    });\n  }\n\n  return {\n    yes: function (fun) {\n      options.yes_callBack = fun;\n      return this;\n    },\n    no: function (fun) {\n      options.no_callBack = fun;\n      return this;\n    }\n  };\n};\n\nvar w2prompt = function (label, title, callBack) {\n  var $ = jQuery;\n  var options = {};\n  var defaults = {\n    title: w2utils.lang('Notification'),\n    width: ($('#w2ui-popup').length > 0 ? 400 : 450),\n    height: ($('#w2ui-popup').length > 0 ? 170 : 220),\n    label: '',\n    value: '',\n    attrs: '',\n    textarea: false,\n    ok_text: w2utils.lang('Ok'),\n    ok_class: '',\n    cancel_text: w2utils.lang('Cancel'),\n    cancel_class: '',\n    callBack: null,\n    onOpen: null,\n    onClose: null\n  }\n  w2popup.tmp = w2popup.tmp || {}\n\n  if (arguments.length == 1 && typeof label == 'object') {\n    $.extend(options, defaults, label);\n  } else {\n    if (typeof title == 'function') {\n      $.extend(options, defaults, {\n        label: label,\n        callBack: title\n      })\n    } else {\n      $.extend(options, defaults, {\n        label: label,\n        title: title,\n        callBack: callBack\n      })\n    }\n  }\n\n  if ($('#w2ui-popup').length > 0 && w2popup.status != 'closing' && w2popup.get()) {\n    if (options.width > w2popup.get().width) options.width = w2popup.get().width;\n    if (options.height > (w2popup.get().height - 50)) options.height = w2popup.get().height - 50;\n    w2popup.message({\n      width: options.width,\n      height: options.height,\n      body: (options.textarea\n        ? '<div class=\"w2ui-prompt textarea\">' +\n        '  <div>' + options.label + '</div>' +\n        '  <textarea id=\"w2prompt\" class=\"w2ui-input\" ' + options.attrs + '></textarea>' +\n        '</div>'\n        : '<div class=\"w2ui-prompt w2ui-centered\">' +\n        '  <label>' + options.label + '</label>' +\n        '  <input id=\"w2prompt\" class=\"w2ui-input\" ' + options.attrs + '>' +\n        '</div>'\n      ),\n      buttons: (w2utils.settings.macButtonOrder\n        ? '<button id=\"Cancel\" class=\"w2ui-popup-btn w2ui-btn ' + options.cancel_class + '\">' + options.cancel_text + '</button>' +\n        '<button id=\"Ok\" class=\"w2ui-popup-btn w2ui-btn ' + options.ok_class + '\">' + options.ok_text + '</button>'\n        : '<button id=\"Ok\" class=\"w2ui-popup-btn w2ui-btn ' + options.ok_class + '\">' + options.ok_text + '</button>' +\n        '<button id=\"Cancel\" class=\"w2ui-popup-btn w2ui-btn ' + options.cancel_class + '\">' + options.cancel_text + '</button>'\n      ),\n      onOpen: function () {\n        $('#w2prompt').val(options.value).off('.w2prompt').on('keydown.w2prompt', function (event) {\n          if (event.keyCode == 13) {\n            $('#w2ui-popup .w2ui-message .w2ui-btn#Ok').click()\n          }\n        });\n        $('#w2ui-popup .w2ui-message .w2ui-btn#Ok').off('.w2prompt').on('click.w2prompt', function (event) {\n          w2popup.tmp.btn = 'ok';\n          w2popup.tmp.value = $('#w2prompt').val();\n          w2popup.message();\n        });\n        $('#w2ui-popup .w2ui-message .w2ui-btn#Cancel').off('.w2prompt').on('click.w2prompt', function (event) {\n          w2popup.tmp.btn = 'cancel';\n          w2popup.tmp.value = null;\n          w2popup.message();\n        });\n        // set focus\n        setTimeout(function () { $('#w2prompt').focus(); }, 100);\n        // some event\n        if (typeof options.onOpen == 'function') options.onOpen()\n      },\n      onClose: function () {\n        // needed this because there might be other messages\n        $('#w2ui-popup .w2ui-message .w2ui-btn').off('click.w2prompt');\n        // need to wait for message to slide up\n        setTimeout(function () {\n          btnClick(w2popup.tmp.btn, w2popup.tmp.value);\n        }, 300);\n        // some event\n        if (typeof options.onClose == 'function') options.onClose()\n      }\n      // onKeydown will not work here\n    });\n\n  } else {\n\n    if (!w2utils.isInt(options.height)) options.height = options.height + 50;\n    w2popup.open({\n      width: options.width,\n      height: options.height,\n      title: options.title,\n      modal: true,\n      showClose: false,\n      body: (options.textarea\n        ? '<div class=\"w2ui-prompt\">' +\n        '  <div>' + options.label + '</div>' +\n        '  <textarea id=\"w2prompt\" class=\"w2ui-input\" ' + options.attrs + '></textarea>' +\n        '</div>'\n        : '<div class=\"w2ui-prompt w2ui-centered\" style=\"font-size: 13px;\">' +\n        '  <label>' + options.label + '</label>' +\n        '  <input id=\"w2prompt\" class=\"w2ui-input\" ' + options.attrs + '>' +\n        '</div>'\n      ),\n      buttons: (w2utils.settings.macButtonOrder\n        ? '<button id=\"Cancel\" class=\"w2ui-popup-btn w2ui-btn ' + options.cancel_class + '\">' + options.cancel_text + '</button>' +\n        '<button id=\"Ok\" class=\"w2ui-popup-btn w2ui-btn ' + options.ok_class + '\">' + options.ok_text + '</button>'\n        : '<button id=\"Ok\" class=\"w2ui-popup-btn w2ui-btn ' + options.ok_class + '\">' + options.ok_text + '</button>' +\n        '<button id=\"Cancel\" class=\"w2ui-popup-btn w2ui-btn ' + options.cancel_class + '\">' + options.cancel_text + '</button>'\n      ),\n      onOpen: function (event) {\n        // do not use onComplete as it is slower\n        setTimeout(function () {\n          $('#w2prompt').val(options.value);\n          $('#w2prompt').w2field('text');\n          $('#w2ui-popup .w2ui-popup-btn#Ok').on('click', function (event) {\n            w2popup.tmp.btn = 'ok';\n            w2popup.tmp.value = $('#w2prompt').val();\n            w2popup.close();\n          });\n          $('#w2ui-popup .w2ui-popup-btn#Cancel').on('click', function (event) {\n            w2popup.tmp.btn = 'cancel';\n            w2popup.tmp.value = null;\n            w2popup.close();\n          });\n          $('#w2ui-popup .w2ui-popup-btn#Ok');\n          // set focus\n          setTimeout(function () { $('#w2prompt').focus(); }, 100);\n          // some event\n          if (typeof options.onOpen == 'function') options.onOpen()\n        }, 1);\n      },\n      onClose: function (event) {\n        // some event\n        btnClick(w2popup.tmp.btn, w2popup.tmp.value);\n        if (typeof options.onClose == 'function') options.onClose()\n      },\n      onKeydown: function (event) {\n        // if there are no messages\n        if ($('#w2ui-popup .w2ui-message').length === 0) {\n          switch (event.originalEvent.keyCode) {\n            case 13: // enter\n              $('#w2ui-popup .w2ui-popup-btn#Ok').focus().addClass('clicked'); // no need fo click as enter will do click\n              break;\n            case 27: // esc\n              w2popup.tmp.btn = 'cancel';\n              w2popup.tmp.value = null;\n              break;\n          }\n        }\n      }\n    });\n  }\n  function btnClick(btn, value) {\n    if (btn == 'ok' && typeof options.ok_callBack == 'function') {\n      options.ok_callBack(value)\n    }\n    if (btn == 'cancel' && typeof options.cancel_callBack == 'function') {\n      options.cancel_callBack(value)\n    }\n    if (typeof options.callBack == 'function') {\n      options.callBack(btn, value);\n    }\n  }\n  return {\n    change: function (fun) {\n      $('#w2prompt').on('keyup', fun).keyup();\n      return this;\n    },\n    ok: function (fun) {\n      options.ok_callBack = fun;\n      return this;\n    },\n    cancel: function (fun) {\n      options.cancel_callBack = fun;\n      return this;\n    }\n  };\n};\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2tabs        - tabs widget\n*        - $().w2tabs    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - align = left, right, center ??\n*\n* == 1.5 changes ==\n*   - tab.caption - deprecated\n*   - getTabHTML()\n*   - refactored with display: flex\n*   - reorder\n*   - initReorder\n*   - dragMove\n*   - tmp\n*\n************************************************************************/\n\n(function ($) {\n  var w2tabs = function (options) {\n    this.box = null;        // DOM Element that holds the element\n    this.name = null;        // unique name for w2ui\n    this.active = null;\n    this.reorder = false;\n    this.flow = 'down';      // can be down or up\n    this.tooltip = 'top|left';  // can be top, bottom, left, right\n    this.tabs = [];\n    this.routeData = {};          // data for dynamic routes\n    this.tmp = {};          // placeholder for internal variables\n    this.right = '';\n    this.style = '';\n\n    $.extend(this, { handlers: [] });\n    $.extend(true, this, w2obj.tabs, options);\n  };\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2tabs = function (method) {\n    if ($.isPlainObject(method)) {\n      // check name parameter\n      if (!w2utils.checkName(method, 'w2tabs')) return;\n      // extend tabs\n      var tabs = method.tabs || [];\n      var object = new w2tabs(method);\n      for (var i = 0; i < tabs.length; i++) {\n        object.tabs[i] = $.extend({}, w2tabs.prototype.tab, tabs[i]);\n      }\n      // register new object\n      w2ui[object.name] = object;\n      // render\n      if ($(this).length !== 0) {\n        object.render($(this)[0]);\n      }\n      return object;\n    } else {\n      var obj = w2ui[$(this).attr('name')];\n      if (!obj) return null;\n      if (arguments.length > 0) {\n        if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n        return this;\n      } else {\n        return obj;\n      }\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2tabs.prototype = {\n    onClick: null,\n    onClose: null,\n    onRender: null,\n    onRefresh: null,\n    onResize: null,\n    onDestroy: null,\n\n    tab: {\n      id: null,        // command to be sent to all event handlers\n      text: null,\n      route: null,\n      hidden: false,\n      disabled: false,\n      closable: false,\n      tooltip: null,\n      style: '',\n      onClick: null,\n      onRefresh: null,\n      onClose: null\n    },\n\n    add: function (tab) {\n      return this.insert(null, tab);\n    },\n\n    insert: function (id, tab) {\n      if (!$.isArray(tab)) tab = [tab];\n      // assume it is array\n      for (var i = 0; i < tab.length; i++) {\n        // checks\n        if (tab[i].id == null) {\n          console.log('ERROR: The parameter \"id\" is required but not supplied. (obj: ' + this.name + ')');\n          return;\n        }\n        if (!w2utils.checkUniqueId(tab[i].id, this.tabs, 'tabs', this.name)) return;\n        // add tab\n        var newTab = $.extend({}, w2tabs.prototype.tab, tab[i]);\n        if (id == null) {\n          this.tabs.push(newTab);\n        } else {\n          var middle = this.get(id, true);\n          var before = this.tabs[middle].id\n          this.insertTabHTML(before, newTab)\n        }\n      }\n    },\n\n    remove: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var tab = this.get(arguments[a]);\n        if (!tab) return false;\n        removed++;\n        // remove from array\n        this.tabs.splice(this.get(tab.id, true), 1);\n        // remove from screen\n        $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(tab.id)).remove();\n      }\n      this.resize();\n      return removed;\n    },\n\n    select: function (id) {\n      if (this.active == id || this.get(id) == null) return false;\n      this.active = id;\n      this.refresh();\n      return true;\n    },\n\n    set: function (id, tab) {\n      var index = this.get(id, true);\n      if (index == null) return false;\n      $.extend(this.tabs[index], tab);\n      this.refresh(id);\n      return true;\n    },\n\n    get: function (id, returnIndex) {\n      if (arguments.length === 0) {\n        var all = [];\n        for (var i1 = 0; i1 < this.tabs.length; i1++) {\n          if (this.tabs[i1].id != null) {\n            all.push(this.tabs[i1].id);\n          }\n        }\n        return all;\n      } else {\n        for (var i2 = 0; i2 < this.tabs.length; i2++) {\n          if (this.tabs[i2].id == id) { // need to be == since id can be numeric\n            return (returnIndex === true ? i2 : this.tabs[i2]);\n          }\n        }\n      }\n      return null;\n    },\n\n    show: function () {\n      var obj = this;\n      var shown = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var tab = this.get(arguments[a]);\n        if (!tab || tab.hidden === false) continue;\n        shown++;\n        tab.hidden = false;\n        tmp.push(tab.id);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); obj.resize(); }, 15); // needs timeout\n      return shown;\n    },\n\n    hide: function () {\n      var obj = this;\n      var hidden = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var tab = this.get(arguments[a]);\n        if (!tab || tab.hidden === true) continue;\n        hidden++;\n        tab.hidden = true;\n        tmp.push(tab.id);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); obj.resize(); }, 15); // needs timeout\n      return hidden;\n    },\n\n    enable: function () {\n      var obj = this;\n      var enabled = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var tab = this.get(arguments[a]);\n        if (!tab || tab.disabled === false) continue;\n        enabled++;\n        tab.disabled = false;\n        tmp.push(tab.id);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout\n      return enabled;\n    },\n\n    disable: function () {\n      var obj = this;\n      var disabled = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var tab = this.get(arguments[a]);\n        if (!tab || tab.disabled === true) continue;\n        disabled++;\n        tab.disabled = true;\n        tmp.push(tab.id);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout\n      return disabled;\n    },\n\n    dragMove: function (event) {\n      if (!this.tmp.reordering) return\n      var obj = this;\n      var info = this.tmp.moving\n      var tab = this.tabs[info.index];\n      var next = _find(info.index, 1);\n      var prev = _find(info.index, -1);\n      var $el = $('#tabs_' + this.name + '_tab_' + w2utils.escapeId(tab.id))\n      if (info.divX > 0 && next) {\n        var $nextEl = $('#tabs_' + this.name + '_tab_' + w2utils.escapeId(next.id))\n        var width1 = parseInt($el.css('width'));\n        var width2 = parseInt($nextEl.css('width'));\n        if (width1 < width2) {\n          width1 = Math.floor(width1 / 3)\n          width2 = width2 - width1;\n        } else {\n          width1 = Math.floor(width2 / 3)\n          width2 = width2 - width1;\n        }\n        if (info.divX > width2) {\n          var index = this.tabs.indexOf(next)\n          this.tabs.splice(info.index, 0, this.tabs.splice(index, 1)[0]); // reorder in the array\n          info.$tab.before($nextEl)\n          info.$tab.css('opacity', 0);\n          Object.assign(this.tmp.moving, {\n            index: index,\n            divX: -width1,\n            x: event.pageX + width1,\n            left: info.left + info.divX + width1\n          })\n          return\n        }\n      }\n      if (info.divX < 0 && prev) {\n        var $prevEl = $('#tabs_' + this.name + '_tab_' + w2utils.escapeId(prev.id))\n        var width1 = parseInt($el.css('width'));\n        var width2 = parseInt($prevEl.css('width'));\n        if (width1 < width2) {\n          width1 = Math.floor(width1 / 3)\n          width2 = width2 - width1;\n        } else {\n          width1 = Math.floor(width2 / 3)\n          width2 = width2 - width1;\n        }\n        if (Math.abs(info.divX) > width2) {\n          var index = this.tabs.indexOf(prev)\n          this.tabs.splice(info.index, 0, this.tabs.splice(index, 1)[0]); // reorder in the array\n          $prevEl.before(info.$tab)\n          info.$tab.css('opacity', 0);\n          Object.assign(info, {\n            index: index,\n            divX: width1,\n            x: event.pageX - width1,\n            left: info.left + info.divX - width1\n          })\n          return\n        }\n      }\n      function _find(ind, inc) {\n        ind += inc;\n        var tab = obj.tabs[ind]\n        if (tab && tab.hidden) {\n          tab = _find(ind, inc)\n        }\n        return tab\n      }\n    },\n\n    tooltipShow: function (id, event, forceRefresh) {\n      var item = this.get(id);\n      var $el = $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(id));\n      if (this.tooltip == null || item.disabled || this.tmp.reordering) {\n        return;\n      }\n      var pos = this.tooltip;\n      var txt = item.tooltip;\n      if (typeof txt == 'function') txt = txt.call(this, item);\n      $el.prop('_mouse_over', true);\n      setTimeout(function () {\n        if ($el.prop('_mouse_over') === true && $el.prop('_mouse_tooltip') !== true) {\n          $el.prop('_mouse_tooltip', true);\n          // show tooltip\n          $el.w2tag(w2utils.lang(txt), { position: pos });\n        }\n        if (forceRefresh == true) {\n          $el.w2tag(w2utils.lang(txt), { position: pos });\n        }\n      }, 1);\n    },\n\n    tooltipHide: function (id) {\n      var item = this.get(id);\n      var $el = $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(id));\n      if (this.tooltip == null || item.disabled || this.tmp.reordering) {\n        return;\n      }\n      $el.removeProp('_mouse_over');\n      setTimeout(function () {\n        if ($el.prop('_mouse_over') !== true && $el.prop('_mouse_tooltip') === true) {\n          $el.removeProp('_mouse_tooltip');\n          $el.w2tag(); // hide tooltip\n        }\n      }, 1);\n    },\n\n    getTabHTML: function (id) {\n      var index = this.get(id, true);\n      var tab = this.tabs[index];\n      if (tab == null) return false;\n      if (tab.text == null && tab.caption != null) tab.text = tab.caption;\n      if (tab.tooltip == null && tab.hint != null) tab.tooltip = tab.hint; // for backward compatibility\n      if (tab.caption != null) {\n        console.log('NOTICE: tabs tab.caption property is deprecated, please use tab.text. Tab -> ', tab)\n      }\n      if (tab.hint != null) {\n        console.log('NOTICE: tabs tab.hint property is deprecated, please use tab.tooltip. Tab -> ', tab)\n      }\n\n      var text = tab.text;\n      if (typeof text == 'function') text = text.call(this, tab);\n      if (text == null) text = '';\n\n      var closable = '';\n      var addStyle = '';\n      if (tab.hidden) { addStyle += 'display: none;'; }\n      if (tab.disabled) { addStyle += 'opacity: 0.2;'; }\n      if (tab.closable && !tab.disabled) {\n        closable = '<div class=\"w2ui-tab-close' + (this.active === tab.id ? ' active' : '') + '\"'\n          + '  onmouseover= \"w2ui[\\'' + this.name + '\\'].tooltipShow(\\'' + tab.id + '\\', event)\"'\n          + '  onmouseout = \"w2ui[\\'' + this.name + '\\'].tooltipHide(\\'' + tab.id + '\\', event)\"'\n          + '  onmousedown= \"event.stopPropagation()\"'\n          + '  onmouseup  = \"w2ui[\\'' + this.name + '\\'].animateClose(\\'' + tab.id + '\\', event); event.stopPropagation()\">'\n          + '</div>';\n      }\n      var tabHTML = '<div id=\"tabs_' + this.name + '_tab_' + tab.id + '\" style=\"' + addStyle + ' ' + tab.style + '\"'\n        + '   class=\"w2ui-tab' + (this.active === tab.id ? ' active' : '') + (tab.closable ? ' closable' : '') + (tab['class'] ? ' ' + tab['class'] : '') + '\"'\n        + '   onmouseover = \"w2ui[\\'' + this.name + \"'].tooltipShow('\" + tab.id + '\\', event)\"'\n        + '   onmouseout  = \"w2ui[\\'' + this.name + \"'].tooltipHide('\" + tab.id + '\\', event)\"'\n        + '   onmousedown = \"w2ui[\\'' + this.name + \"'].initReorder('\" + tab.id + '\\', event)\"'\n        + '    onclick     = \"w2ui[\\'' + this.name + \"'].click('\" + tab.id + '\\', event)\">'\n        + w2utils.lang(text) + closable\n        + '</div>';\n      return tabHTML;\n    },\n\n    refresh: function (id) {\n      var time = (new Date()).getTime();\n      if (this.flow == 'up') $(this.box).addClass('w2ui-tabs-up'); else $(this.box).removeClass('w2ui-tabs-up');\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'refresh', target: (id != null ? id : this.name), object: this.get(id) });\n      if (edata.isCancelled === true) return;\n      if (id == null) {\n        // refresh all\n        for (var i = 0; i < this.tabs.length; i++) {\n          this.refresh(this.tabs[i].id);\n        }\n      } else {\n        // create or refresh only one item\n        var $tab = $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(id));\n        var tabHTML = this.getTabHTML(id);\n        if ($tab.length === 0) {\n          $(this.box).find('#tabs_' + this.name + '_right').before(tabHTML);\n        } else {\n          $tab.replaceWith(tabHTML);\n        }\n      }\n      // right html\n      $('#tabs_' + this.name + '_right').html(this.right);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      // this.resize();\n      return (new Date()).getTime() - time;\n    },\n\n    render: function (box) {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n      if (edata.isCancelled === true) return;\n      // default action\n      // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n      if (box != null) {\n        if ($(this.box).find('#tabs_' + this.name + '_right').length > 0) {\n          $(this.box)\n            .removeAttr('name')\n            .removeClass('w2ui-reset w2ui-tabs')\n            .html('');\n        }\n        this.box = box;\n      }\n      if (!this.box) return false;\n      // render all buttons\n      var html =\n        '<div class=\"w2ui-scroll-wrapper\" onmousedown=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.resize();\">' +\n        '    <div class=\"w2ui-tabs-line\"></div>' +\n        '    <div id=\"tabs_' + this.name + '_right\" class=\"w2ui-tabs-right\">' + this.right + '</div>' +\n        '</div>' +\n        '<div class=\"w2ui-scroll-left\" onclick=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.scroll(\\'left\\');\"></div>' +\n        '<div class=\"w2ui-scroll-right\" onclick=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.scroll(\\'right\\');\"></div>';\n      $(this.box)\n        .attr('name', this.name)\n        .addClass('w2ui-reset w2ui-tabs')\n        .html(html);\n      if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      this.refresh();\n      this.resize();\n      return (new Date()).getTime() - time;\n    },\n\n    initReorder: function (id, event) {\n      if (!this.reorder) return\n      var obj = this;\n      var $tab = $('#tabs_' + this.name + '_tab_' + w2utils.escapeId(id));\n      var tabIndex = this.get(id, true);\n      var $ghost = $tab.clone();\n      var edata;\n      $ghost.attr('id', '#tabs_' + this.name + '_tab_ghost')\n      // debugger\n      this.tmp.moving = {\n        index: tabIndex,\n        indexFrom: tabIndex,\n        $tab: $tab,\n        $ghost: $ghost,\n        divX: 0,\n        left: $tab.offset().left,\n        parentX: $(this.box).offset().left,\n        x: event.pageX,\n        opacity: $tab.css('opacity')\n      }\n\n      $('body')\n        .off('.w2uiTabReorder')\n        .on('mousemove.w2uiTabReorder', function (event) {\n          if (!obj.tmp.reordering) {\n            // event before\n            edata = obj.trigger({ phase: 'before', type: 'reorder', target: obj.tabs[tabIndex].id, indexFrom: tabIndex, tab: obj.tabs[tabIndex] });\n            if (edata.isCancelled === true) return;\n\n            $().w2tag()\n            obj.tmp.reordering = true;\n            $ghost.addClass('moving')\n            $ghost.css({\n              'pointer-events': 'none',\n              'position': 'absolute',\n              'left': $tab.offset().left\n            })\n            $tab.css('opacity', 0);\n            $(obj.box).find('.w2ui-scroll-wrapper').append($ghost);\n            $(obj.box).find('.w2ui-tab-close').hide();\n          }\n          obj.tmp.moving.divX = event.pageX - obj.tmp.moving.x;\n          $ghost.css('left', (obj.tmp.moving.left - obj.tmp.moving.parentX + obj.tmp.moving.divX) + 'px');\n          obj.dragMove(event);\n        })\n        .on('mouseup.w2uiTabReorder', function () {\n          $('body').off('.w2uiTabReorder');\n          $ghost.css({\n            'transition': '0.1s',\n            'left': obj.tmp.moving.$tab.offset().left - obj.tmp.moving.parentX\n          })\n          $(obj.box).find('.w2ui-tab-close').show();\n          setTimeout(function () {\n            $ghost.remove();\n            $tab.css({ opacity: obj.tmp.moving.opacity });\n            // obj.render()\n            if (obj.tmp.reordering) {\n              obj.trigger($.extend(edata, { phase: 'after', indexTo: obj.tmp.moving.index }));\n              if (edata.isCancelled === true) return;\n            }\n            obj.tmp.reordering = false;\n          }, 100)\n        })\n    },\n\n    scroll: function (direction) {\n      var box = $(this.box);\n      var obj = this;\n      var scrollBox = box.find('.w2ui-scroll-wrapper');\n      var scrollLeft = scrollBox.scrollLeft();\n      var $right = $(this.box).find('.w2ui-tabs-right');\n      var width1 = scrollBox.outerWidth();\n      var width2 = scrollLeft + parseInt($right.offset().left) + parseInt($right.width());\n      var scroll;\n\n      switch (direction) {\n        case 'left':\n          scroll = scrollLeft - width1 + 50; // 35 is width of both button\n          if (scroll <= 0) scroll = 0;\n          scrollBox.animate({ scrollLeft: scroll }, 300);\n          break;\n\n        case 'right':\n          scroll = scrollLeft + width1 - 50; // 35 is width of both button\n          if (scroll >= width2 - width1) scroll = width2 - width1;\n          scrollBox.animate({ scrollLeft: scroll }, 300);\n          break;\n      }\n      setTimeout(function () { obj.resize(); }, 350);\n    },\n\n\n    resize: function () {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n      if (edata.isCancelled === true) return;\n\n      // show hide overflow buttons\n      var box = $(this.box);\n      box.find('.w2ui-scroll-left, .w2ui-scroll-right').hide();\n      var scrollBox = box.find('.w2ui-scroll-wrapper');\n      var $right = $(this.box).find('.w2ui-tabs-right');\n      var boxWidth = scrollBox.outerWidth()\n      var itemsWidth = ($right.length > 0 ? $right[0].offsetLeft + $right[0].clientWidth : 0);\n      if (itemsWidth > boxWidth) {\n        // we have overflowed content\n        if (scrollBox.scrollLeft() > 0) {\n          box.find('.w2ui-scroll-left').show();\n        }\n        var padding = parseInt(scrollBox.css('padding-right'))\n        if (boxWidth < itemsWidth - scrollBox.scrollLeft() - padding) {\n          box.find('.w2ui-scroll-right').show();\n        }\n      }\n\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n      if (edata.isCancelled === true) return;\n      // clean up\n      if ($(this.box).find('#tabs_' + this.name + '_right').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-reset w2ui-tabs')\n          .html('');\n      }\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    // ===================================================\n    // -- Internal Event Handlers\n\n    click: function (id, event) {\n      var tab = this.get(id);\n      if (tab == null || tab.disabled || this.tmp.reordering) return false;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'click', target: id, tab: tab, object: tab, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default action\n      $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(this.active)).removeClass('active');\n      $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(this.active)).removeClass('active');\n      this.active = tab.id;\n      // route processing\n      if (typeof tab.route == 'string') {\n        var route = tab.route !== '' ? String('/' + tab.route).replace(/\\/{2,}/g, '/') : '';\n        var info = w2utils.parseRoute(route);\n        if (info.keys.length > 0) {\n          for (var k = 0; k < info.keys.length; k++) {\n            if (this.routeData[info.keys[k].name] == null) continue;\n            route = route.replace((new RegExp(':' + info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n          }\n        }\n        setTimeout(function () { window.location.hash = route; }, 1);\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      this.refresh(id);\n    },\n\n    animateClose: function (id, event) {\n      var tab = this.get(id);\n      if (tab == null || tab.disabled) return false;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'close', target: id, object: this.get(id), originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default action\n      var obj = this;\n      var $tab = $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(tab.id))\n      $tab.css({ // need to be separate transition\n        'opacity': 0,\n        'transition': '.25s'\n      })\n        .find('.w2ui-tab-close').remove();\n      $tab.css({\n        'padding-left': 0,\n        'padding-right': 0,\n        'text-overflow': 'clip',\n        'overflow': 'hidden',\n        'width': '0px'\n      })\n      setTimeout(function () {\n        obj.remove(id);\n        obj.trigger($.extend(edata, { phase: 'after' }));\n        obj.refresh();\n      }, 250);\n    },\n\n    insertTabHTML: function (id, tab) {\n      var obj = this;\n      var middle = this.get(id, true);\n      this.tabs = this.tabs.slice(0, middle).concat([tab], this.tabs.slice(middle));\n      var $before = $(this.box).find('#tabs_' + this.name + '_tab_' + w2utils.escapeId(id));\n      var $tab = $(this.getTabHTML(tab.id));\n      $before.before($tab);\n      this.resize();\n    }\n  }\n\n  $.extend(w2tabs.prototype, w2utils.event);\n  w2obj.tabs = w2tabs;\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2toolbar        - toolbar widget\n*        - $().w2toolbar    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2field\n*\n* == NICE TO HAVE ==\n*   - vertical toolbar\n*\n* == 1.5 changes ==\n*   - menu drop down can have groups now\n*   - item.caption - deprecated\n*   - item.text - can be a function\n*   - item.icon - can be a function\n*   - item.tooltip - can be a function\n*   - item.color\n*   - item.options\n*   - event.item.get - finds selected item\n*   - item.keepOpen, drop down will not close\n*   - item.type = 'new-line'\n*\n************************************************************************/\n\n(function ($) {\n  var w2toolbar = function (options) {\n    this.box = null;      // DOM Element that holds the element\n    this.name = null;      // unique name for w2ui\n    this.routeData = {};        // data for dynamic routes\n    this.items = [];\n    this.right = '';        // HTML text on the right of toolbar\n    this.tooltip = 'top|left';// can be top, bottom, left, right\n\n    $.extend(true, this, w2obj.toolbar, options);\n  };\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2toolbar = function (method) {\n    if ($.isPlainObject(method)) {\n      // check name parameter\n      if (!w2utils.checkName(method, 'w2toolbar')) return;\n      // extend items\n      var items = method.items || [];\n      var object = new w2toolbar(method);\n      $.extend(object, { items: [], handlers: [] });\n      for (var i = 0; i < items.length; i++) {\n        object.items[i] = $.extend({}, w2toolbar.prototype.item, items[i]);\n        // menus\n        if (object.items[i].type == 'menu-check') {\n          var item = object.items[i];\n          if (!Array.isArray(item.selected)) item.selected = [];\n          if (Array.isArray(item.items)) {\n            for (var j = 0; j < item.items.length; j++) {\n              var it = item.items[j];\n              if (it.checked && item.selected.indexOf(it.id) == -1) item.selected.push(it.id);\n              if (!it.checked && item.selected.indexOf(it.id) != -1) it.checked = true;\n              if (it.checked == null) it.checked = false;\n            }\n          }\n        }\n        else if (object.items[i].type == 'menu-radio') {\n          var item = object.items[i];\n          if (Array.isArray(item.items)) {\n            for (var j = 0; j < item.items.length; j++) {\n              var it = item.items[j];\n              if (it.checked && item.selected == null) item.selected = it.id; else it.checked = false;\n              if (!it.checked && item.selected == it.id) it.checked = true;\n              if (it.checked == null) it.checked = false;\n            }\n          }\n        }\n      }\n      // register new object\n      w2ui[object.name] = object;\n      // render\n      if ($(this).length !== 0) {\n        object.render($(this)[0]);\n      }\n      return object;\n\n    } else {\n      var obj = w2ui[$(this).attr('name')];\n      if (!obj) return null;\n      if (arguments.length > 0) {\n        if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n        return this;\n      } else {\n        return obj;\n      }\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2toolbar.prototype = {\n    onClick: null,\n    onRender: null,\n    onRefresh: null,\n    onResize: null,\n    onDestroy: null,\n\n    item: {\n      id: null,        // command to be sent to all event handlers\n      type: 'button',    // button, check, radio, drop, menu, menu-radio, menu-check, break, html, spacer\n      text: null,\n      html: '',\n      tooltip: null,        // w2toolbar.tooltip should be\n      count: null,\n      hidden: false,\n      disabled: false,\n      checked: false,       // used for radio buttons\n      img: null,\n      icon: null,\n      route: null,        // if not null, it is route to go\n      arrow: true,        // arrow down for drop/menu types\n      style: null,        // extra css style for caption\n      group: null,        // used for radio buttons\n      items: null,        // for type menu* it is an array of items in the menu\n      selected: null,        // used for menu-check, menu-radio\n      overlay: {},\n      color: null,        // color value - used in color pickers\n      options: {\n        advanced: false,   // advanced picker t/f - user in color picker\n        transparent: true,    // transparent t/f - used in color picker\n        html: ''       // additional buttons for color picker\n      },\n      onClick: null,\n      onRefresh: null\n    },\n\n    add: function (items) {\n      this.insert(null, items);\n    },\n\n    insert: function (id, items) {\n      if (!$.isArray(items)) items = [items];\n      for (var o = 0; o < items.length; o++) {\n        // checks\n        if (items[o].type == null) {\n          console.log('ERROR: The parameter \"type\" is required but not supplied in w2toolbar.add() method.');\n          return;\n        }\n        if ($.inArray(String(items[o].type), ['button', 'check', 'radio', 'drop', 'menu', 'menu-radio', 'menu-check', 'color', 'text-color', 'break', 'html', 'spacer']) == -1) {\n          console.log('ERROR: The parameter \"type\" should be one of the following [button, check, radio, drop, menu, break, html, spacer] ' +\n            'in w2toolbar.add() method.');\n          return;\n        }\n        if (items[o].id == null && items[o].type != 'break' && items[o].type != 'spacer') {\n          console.log('ERROR: The parameter \"id\" is required but not supplied in w2toolbar.add() method.');\n          return;\n        }\n        if (!w2utils.checkUniqueId(items[o].id, this.items, 'toolbar items', this.name)) return;\n        // add item\n        var it = $.extend({}, w2toolbar.prototype.item, items[o]);\n        if (id == null) {\n          this.items.push(it);\n        } else {\n          var middle = this.get(id, true);\n          this.items = this.items.slice(0, middle).concat([it], this.items.slice(middle));\n        }\n        this.refresh(it.id);\n        this.resize();\n      }\n    },\n\n    remove: function () {\n      var removed = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it || String(arguments[a]).indexOf(':') != -1) continue;\n        removed++;\n        // remove from screen\n        $(this.box).find('#tb_' + this.name + '_item_' + w2utils.escapeId(it.id)).remove();\n        // remove from array\n        var ind = this.get(it.id, true);\n        if (ind != null) this.items.splice(ind, 1);\n      }\n      this.resize();\n      return removed;\n    },\n\n    set: function (id, newOptions) {\n      var item = this.get(id);\n      if (item == null) return false;\n      $.extend(item, newOptions);\n      this.refresh(String(id).split(':')[0]);\n      return true;\n    },\n\n    get: function (id, returnIndex) {\n      if (arguments.length === 0) {\n        var all = [];\n        for (var i1 = 0; i1 < this.items.length; i1++) if (this.items[i1].id != null) all.push(this.items[i1].id);\n        return all;\n      }\n      var tmp = String(id).split(':');\n      for (var i2 = 0; i2 < this.items.length; i2++) {\n        var it = this.items[i2];\n        // find a menu item\n        if (['menu', 'menu-radio', 'menu-check'].indexOf(it.type) != -1 && tmp.length == 2 && it.id == tmp[0]) {\n          var subItems = it.items\n          if (typeof subItems == 'function') subItems = subItems(this);\n          for (var i = 0; i < subItems.length; i++) {\n            var item = subItems[i];\n            if (item.id == tmp[1] || (item.id == null && item.text == tmp[1])) {\n              if (returnIndex == true) return i; else return item;\n            }\n            if (Array.isArray(item.items)) {\n              for (var j = 0; j < item.items.length; j++) {\n                if (item.items[j].id == tmp[1] || (item.items[j].id == null && item.items[j].text == tmp[1])) {\n                  if (returnIndex == true) return i; else return item.items[j];\n                }\n              }\n            }\n          }\n        } else if (it.id == tmp[0]) {\n          if (returnIndex == true) return i2; else return it;\n        }\n      }\n      return null;\n    },\n\n    show: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it) continue;\n        items++;\n        it.hidden = false;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); obj.resize(); }, 15); // needs timeout\n      return items;\n    },\n\n    hide: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it) continue;\n        items++;\n        it.hidden = true;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) { obj.refresh(tmp[t]); obj.tooltipHide(tmp[t]); } obj.resize(); }, 15); // needs timeout\n      return items;\n    },\n\n    enable: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it) continue;\n        items++;\n        it.disabled = false;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout\n      return items;\n    },\n\n    disable: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it) continue;\n        items++;\n        it.disabled = true;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) { obj.refresh(tmp[t]); obj.tooltipHide(tmp[t]); } }, 15); // needs timeout\n      return items;\n    },\n\n    check: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it || String(arguments[a]).indexOf(':') != -1) continue;\n        items++;\n        it.checked = true;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () { for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout\n      return items;\n    },\n\n    uncheck: function () {\n      var obj = this;\n      var items = 0;\n      var tmp = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var it = this.get(arguments[a]);\n        if (!it || String(arguments[a]).indexOf(':') != -1) continue;\n        // remove overlay\n        if (['menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(it.type) != -1 && it.checked) {\n          // hide overlay\n          setTimeout(function () {\n            var el = $('#tb_' + obj.name + '_item_' + w2utils.escapeId(it.id));\n            el.w2overlay({ name: obj.name, data: { \"tb-item\": it.id } });\n          }, 1);\n        }\n        items++;\n        it.checked = false;\n        tmp.push(String(arguments[a]).split(':')[0]);\n      }\n      setTimeout(function () {\n        for (var t = 0; t < tmp.length; t++) obj.refresh(tmp[t]);\n      }, 15); // needs timeout\n      return items;\n    },\n\n    click: function (id, event) {\n      var obj = this;\n      // click on menu items\n      var tmp = String(id).split(':');\n      var it = this.get(tmp[0]);\n      var items = (it && it.items ? w2obj.field.prototype.normMenu.call(this, it.items, it) : []);\n\n      if (tmp.length > 1) {\n        var subItem = this.get(id);\n        if (subItem && !subItem.disabled) {\n          obj.menuClick({ name: obj.name, item: it, subItem: subItem, originalEvent: event });\n        }\n        return;\n      }\n      if (it && !it.disabled) {\n        // event before\n        var edata = this.trigger({\n          phase: 'before', type: 'click', target: (id != null ? id : this.name),\n          item: it, object: it, originalEvent: event\n        });\n        if (edata.isCancelled === true) return;\n\n        var btn = '#tb_' + this.name + '_item_' + w2utils.escapeId(it.id) + ' table.w2ui-button';\n        $(btn).removeClass('down'); // need to requery at the moment -- as well as elsewhere in this function\n\n        if (it.type == 'radio') {\n          for (var i = 0; i < this.items.length; i++) {\n            var itt = this.items[i];\n            if (itt == null || itt.id == it.id || itt.type !== 'radio') continue;\n            if (itt.group == it.group && itt.checked) {\n              itt.checked = false;\n              this.refresh(itt.id);\n            }\n          }\n          it.checked = true;\n          $(btn).addClass('checked');\n        }\n\n        if (['menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(it.type) != -1) {\n          obj.tooltipHide(id);\n\n          if (it.checked) {\n            // if it was already checked, second click will hide it\n            setTimeout(function () {\n              // hide overlay\n              var el = $('#tb_' + obj.name + '_item_' + w2utils.escapeId(it.id));\n              el.w2overlay({ name: obj.name, data: { \"tb-item\": it.id } });\n              // uncheck\n              it.checked = false;\n              obj.refresh(it.id);\n            }, 1);\n\n          } else {\n\n            // show overlay\n            setTimeout(function () {\n              var el = $('#tb_' + obj.name + '_item_' + w2utils.escapeId(it.id));\n              if (!$.isPlainObject(it.overlay)) it.overlay = {};\n              var left = (el.width() - 50) / 2;\n              if (left > 19) left = 19;\n              if (it.type == 'drop') {\n                el.w2overlay(it.html, $.extend({ name: obj.name, left: left, top: 3, data: { \"tb-item\": it.id } }, it.overlay, {\n                  onHide: function (event) {\n                    hideDrop();\n                  }\n                }));\n              }\n              if (['menu', 'menu-radio', 'menu-check'].indexOf(it.type) != -1) {\n                var menuType = 'normal';\n                if (it.type == 'menu-radio') {\n                  menuType = 'radio';\n                  items.forEach(function (item) {\n                    if (it.selected == item.id) item.checked = true; else item.checked = false;\n                  });\n                }\n                if (it.type == 'menu-check') {\n                  menuType = 'check';\n                  items.forEach(function (item) {\n                    if ($.isArray(it.selected) && it.selected.indexOf(item.id) != -1) item.checked = true; else item.checked = false;\n                  });\n                }\n                el.w2menu($.extend({ name: obj.name, items: items, left: left, top: 3, data: { \"tb-item\": it.id } }, it.overlay, {\n                  type: menuType,\n                  remove: function (event) {\n                    obj.menuClick({ name: obj.name, remove: true, item: it, subItem: event.item, originalEvent: event.originalEvent, keepOpen: event.keepOpen });\n                  },\n                  select: function (event) {\n                    obj.menuClick({ name: obj.name, item: it, subItem: event.item, originalEvent: event.originalEvent, keepOpen: event.keepOpen });\n                  },\n                  onHide: function (event) {\n                    hideDrop();\n                  }\n                }));\n              }\n              if (['color', 'text-color'].indexOf(it.type) != -1) {\n                $(el).w2color($.extend({\n                  color: it.color,\n                  onHide: function (event) {\n                    hideDrop();\n                    if (obj._tmpColor) {\n                      obj.colorClick({ name: obj.name, item: it, color: obj._tmpColor, final: true });\n                    }\n                    delete obj._tmpColor;\n                  },\n                  onSelect: function (color) {\n                    if (color != null) {\n                      obj.colorClick({ name: obj.name, item: it, color: color });\n                      obj._tmpColor = color;\n                    }\n                  }\n                }, it.options));\n              }\n              function hideDrop(event) {\n                it.checked = false;\n                $(btn).removeClass('checked');\n              }\n            }, 1);\n          }\n        }\n\n        if (['check', 'menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(it.type) != -1) {\n          it.checked = !it.checked;\n          if (it.checked) {\n            $(btn).addClass('checked');\n          } else {\n            $(btn).removeClass('checked');\n          }\n        }\n        // route processing\n        if (it.route) {\n          var route = String('/' + it.route).replace(/\\/{2,}/g, '/');\n          var info = w2utils.parseRoute(route);\n          if (info.keys.length > 0) {\n            for (var k = 0; k < info.keys.length; k++) {\n              route = route.replace((new RegExp(':' + info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n            }\n          }\n          setTimeout(function () { window.location.hash = route; }, 1);\n        }\n        if (event && ['button', 'check', 'radio'].indexOf(it.type) != -1) {\n          // need to refresh toolbar as it might be dynamic\n          this.tooltipShow(id, event, true);\n        }\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    scroll: function (direction) {\n      var box = $(this.box);\n      var obj = this;\n      var scrollBox = box.find('.w2ui-scroll-wrapper');\n      var scrollLeft = scrollBox.scrollLeft();\n      var width1, width2, scroll;\n\n      switch (direction) {\n        case 'left':\n          width1 = scrollBox.outerWidth();\n          width2 = scrollBox.find(':first').outerWidth();\n          scroll = scrollLeft - width1 + 50; // 35 is width of both button\n          if (scroll <= 0) scroll = 0;\n          scrollBox.animate({ scrollLeft: scroll }, 300);\n          break;\n\n        case 'right':\n          width1 = scrollBox.outerWidth();\n          width2 = scrollBox.find(':first').outerWidth();\n          scroll = scrollLeft + width1 - 50; // 35 is width of both button\n          if (scroll >= width2 - width1) scroll = width2 - width1;\n          scrollBox.animate({ scrollLeft: scroll }, 300);\n          break;\n      }\n      setTimeout(function () { obj.resize(); }, 350);\n    },\n\n    render: function (box) {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n      if (edata.isCancelled === true) return;\n\n      if (box != null) {\n        if ($(this.box).find('> table #tb_' + this.name + '_right').length > 0) {\n          $(this.box)\n            .removeAttr('name')\n            .removeClass('w2ui-reset w2ui-toolbar')\n            .html('');\n        }\n        this.box = box;\n      }\n      if (!this.box) return;\n      // render all buttons\n      var html = '<div class=\"w2ui-scroll-wrapper\" onmousedown=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.resize();\">' +\n        '<table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"><tbody>' +\n        '<tr>';\n      for (var i = 0; i < this.items.length; i++) {\n        var it = this.items[i];\n        if (it == null) continue;\n        if (it.id == null) it.id = \"item_\" + i;\n        if (it.caption != null) {\n          console.log('NOTICE: toolbar item.caption property is deprecated, please use item.text. Item -> ', it)\n        }\n        if (it.hint != null) {\n          console.log('NOTICE: toolbar item.hint property is deprecated, please use item.tooltip. Item -> ', it)\n        }\n        if (it.type == 'spacer') {\n          html += '<td width=\"100%\" id=\"tb_' + this.name + '_item_' + it.id + '\" align=\"right\"></td>';\n        } else if (it.type == 'new-line') {\n          html += '<td width=\"100%\"></td></tr></tbody></table>'\n            + '<div class=\"w2ui-toolbar-new-line\"></div>'\n            + '<table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"><tbody><tr>';\n\n        } else {\n          html += '<td id=\"tb_' + this.name + '_item_' + it.id + '\" style=\"' + (it.hidden ? 'display: none' : '') + '\" ' +\n            '    class=\"' + (it.disabled ? 'disabled' : '') + '\" valign=\"middle\">' +\n            '</td>';\n        }\n      }\n      html += '<td width=\"100%\" id=\"tb_' + this.name + '_right\" align=\"right\">' + this.right + '</td>';\n      html += '</tr>' +\n        '</tbody></table></div>' +\n        '<div class=\"w2ui-scroll-left\" onclick=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.scroll(\\'left\\');\"></div>' +\n        '<div class=\"w2ui-scroll-right\" onclick=\"var el=w2ui[\\'' + this.name + '\\']; if (el) el.scroll(\\'right\\');\"></div>';\n      $(this.box)\n        .attr('name', this.name)\n        .addClass('w2ui-reset w2ui-toolbar')\n        .html(html);\n      if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n      // refresh all\n      this.refresh();\n      this.resize();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    refresh: function (id) {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'refresh', target: (id != null ? id : this.name), item: this.get(id) });\n      if (edata.isCancelled === true) return;\n      // refresh all\n      if (id == null) {\n        for (var i = 0; i < this.items.length; i++) {\n          var it1 = this.items[i];\n          if (it1.id == null) it1.id = \"item_\" + i;\n          this.refresh(it1.id);\n        }\n        return;\n      }\n      // create or refresh only one item\n      var it = this.get(id);\n      if (it == null) return false;\n      if (typeof it.onRefresh == 'function') {\n        var edata2 = this.trigger({ phase: 'before', type: 'refresh', target: id, item: it, object: it });\n        if (edata2.isCancelled === true) return;\n      }\n      var el = $(this.box).find('#tb_' + this.name + '_item_' + w2utils.escapeId(it.id));\n      var html = this.getItemHTML(it);\n      // hide tooltip\n      this.tooltipHide(id, {});\n\n      if (el.length === 0) {\n        // does not exist - create it\n        if (it.type == 'spacer') {\n          html = '<td width=\"100%\" id=\"tb_' + this.name + '_item_' + it.id + '\" align=\"right\"></td>';\n        } else {\n          html = '<td id=\"tb_' + this.name + '_item_' + it.id + '\" style=\"' + (it.hidden ? 'display: none' : '') + '\" ' +\n            '    class=\"' + (it.disabled ? 'disabled' : '') + '\" valign=\"middle\">' + html +\n            '</td>';\n        }\n        if (this.get(id, true) == this.items.length - 1) {\n          $(this.box).find('#tb_' + this.name + '_right').before(html);\n        } else {\n          $(this.box).find('#tb_' + this.name + '_item_' + w2utils.escapeId(this.items[parseInt(this.get(id, true)) + 1].id)).before(html);\n        }\n      } else {\n        if (['menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(it.type) != -1) {\n          var drop = $('#w2ui-overlay-' + this.name);\n          if (drop.length > 0) {\n            if (it.checked == false) {\n              drop[0].hide();\n            } else {\n              if (['menu', 'menu-radio', 'menu-check'].indexOf(it.type) != -1) {\n                drop.w2menu('refresh', { items: it.items });\n              }\n            }\n          }\n        }\n        // refresh\n        el.html(html);\n        if (it.hidden) { el.css('display', 'none'); } else { el.css('display', ''); }\n        if (it.disabled) { el.addClass('disabled'); } else { el.removeClass('disabled'); }\n      }\n      // event after\n      if (typeof it.onRefresh == 'function') {\n        this.trigger($.extend(edata2, { phase: 'after' }));\n      }\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    resize: function () {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n      if (edata.isCancelled === true) return;\n\n      // show hide overflow buttons\n      var box = $(this.box);\n      box.find('.w2ui-scroll-left, .w2ui-scroll-right').hide();\n      var scrollBox = box.find('.w2ui-scroll-wrapper');\n      if (scrollBox.find(':first').outerWidth() > scrollBox.outerWidth()) {\n        // we have overflowed content\n        if (scrollBox.scrollLeft() > 0) {\n          box.find('.w2ui-scroll-left').show();\n        }\n        if (scrollBox.scrollLeft() < scrollBox.find(':first').outerWidth() - scrollBox.outerWidth()) {\n          box.find('.w2ui-scroll-right').show();\n        }\n      }\n\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n      if (edata.isCancelled === true) return;\n      // clean up\n      if ($(this.box).find('> table #tb_' + this.name + '_right').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-reset w2ui-toolbar')\n          .html('');\n      }\n      $(this.box).html('');\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    // ========================================\n    // --- Internal Functions\n\n    getItemHTML: function (item) {\n      var html = '';\n      if (item.caption != null && item.text == null) item.text = item.caption; // for backward compatibility\n      if (item.text == null) item.text = '';\n      if (item.tooltip == null && item.hint != null) item.tooltip = item.hint; // for backward compatibility\n      if (item.tooltip == null) item.tooltip = '';\n      if (typeof item.get !== 'function' && (Array.isArray(item.items) || typeof item.items == 'function')) {\n        item.get = function (id) {\n          var tmp = item.items;\n          if (typeof tmp == 'function') tmp = item.items(item);\n          return tmp.find(function (it) {\n            if (it.id == id) return true; else return false\n          })\n        }\n      }\n      var img = '<td>&#160;</td>';\n      var text = (typeof item.text == 'function' ? item.text.call(this, item) : item.text);\n      if (item.img) img = '<td><div class=\"w2ui-tb-image w2ui-icon ' + item.img + '\"></div></td>';\n      if (item.icon) {\n        img = '<td><div class=\"w2ui-tb-image\"><span class=\"' +\n          (typeof item.icon == 'function' ? item.icon.call(this, item) : item.icon) + '\"></span></div></td>';\n      }\n      if (html === '') switch (item.type) {\n        case 'color':\n        case 'text-color':\n          if (typeof item.color == 'string') {\n            if (item.color.substr(0, 1) == '#') item.color = item.color.substr(1);\n            if (item.color.length == 3 || item.color.length == 6) item.color = '#' + item.color;\n          }\n          if (item.type == 'color') {\n            text = '<div style=\"height: 12px; width: 12px; margin-top: 1px; border: 1px solid #8A8A8A; border-radius: 1px; box-shadow: 0px 0px 1px #fff; ' +\n              '        background-color: ' + (item.color != null ? item.color : '#fff') + '; float: left;\"></div>' +\n              (item.text ? '<div style=\"margin-left: 17px;\">' + w2utils.lang(item.text) + '</div>' : '');\n          }\n          if (item.type == 'text-color') {\n            text = '<div style=\"color: ' + (item.color != null ? item.color : '#444') + ';\">' +\n              (item.text ? w2utils.lang(item.text) : '<b>Aa</b>') +\n              '</div>';\n          }\n        case 'menu':\n        case 'menu-check':\n        case 'menu-radio':\n        case 'button':\n        case 'check':\n        case 'radio':\n        case 'drop':\n          html += '<table cellpadding=\"0\" cellspacing=\"0\" ' +\n            '       class=\"w2ui-button ' + (item.checked ? 'checked' : '') + ' ' + (item.class ? item.class : '') + '\" ' +\n            '       onclick     = \"var el=w2ui[\\'' + this.name + '\\']; if (el) el.click(\\'' + item.id + '\\', event);\" ' +\n            '       onmouseenter = \"' + (!item.disabled ? \"jQuery(this).addClass('over'); w2ui['\" + this.name + \"'].tooltipShow('\" + item.id + \"', event);\" : \"\") + '\"' +\n            '       onmouseleave = \"' + (!item.disabled ? \"jQuery(this).removeClass('over').removeClass('down'); w2ui['\" + this.name + \"'].tooltipHide('\" + item.id + \"', event);\" : \"\") + '\"' +\n            '       onmousedown = \"' + (!item.disabled ? \"jQuery(this).addClass('down');\" : \"\") + '\"' +\n            '       onmouseup   = \"' + (!item.disabled ? \"jQuery(this).removeClass('down');\" : \"\") + '\"' +\n            '><tbody>' +\n            '<tr><td>' +\n            '  <table cellpadding=\"1\" cellspacing=\"0\"><tbody>' +\n            '  <tr>' +\n            img +\n            (text !== ''\n              ? '<td class=\"w2ui-tb-text w2ui-tb-caption\" nowrap=\"nowrap\" style=\"' + (item.style ? item.style : '') + '\">' + w2utils.lang(text) + '</td>'\n              : ''\n            ) +\n            (item.count != null\n              ? '<td class=\"w2ui-tb-count\" nowrap=\"nowrap\"><span>' + item.count + '</span></td>'\n              : ''\n            ) +\n            (((['menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(item.type) != -1) && item.arrow !== false) ?\n              '<td class=\"w2ui-tb-down\" nowrap=\"nowrap\"><div></div></td>' : '') +\n            '  </tr></tbody></table>' +\n            '</td></tr></tbody></table>';\n          break;\n\n        case 'break':\n          html += '<table cellpadding=\"0\" cellspacing=\"0\"><tbody><tr>' +\n            '    <td><div class=\"w2ui-break\">&#160;</div></td>' +\n            '</tr></tbody></table>';\n          break;\n\n        case 'html':\n          html += '<table cellpadding=\"0\" cellspacing=\"0\"><tbody><tr>' +\n            '    <td nowrap=\"nowrap\">' + (typeof item.html == 'function' ? item.html.call(this, item) : item.html) + '</td>' +\n            '</tr></tbody></table>';\n          break;\n      }\n      return '<div>' + html + '</div>';\n    },\n\n    tooltipShow: function (id, event, forceRefresh) {\n      if (this.tooltip == null) return;\n      var $el = $(this.box).find('#tb_' + this.name + '_item_' + w2utils.escapeId(id));\n      var item = this.get(id);\n      var pos = this.tooltip;\n      var txt = item.tooltip;\n      if (typeof txt == 'function') txt = txt.call(this, item);\n      clearTimeout(this._tooltipTimer);\n      this._tooltipTimer = setTimeout(function () {\n        if ($el.prop('_mouse_tooltip') !== true) {\n          $el.prop('_mouse_tooltip', true);\n          // show tooltip\n          if (['menu', 'menu-radio', 'menu-check', 'drop', 'color', 'text-color'].indexOf(item.type) != -1 && item.checked == true) return; // not for opened drop downs\n          $el.w2tag(w2utils.lang(txt), { position: pos });\n        }\n      }, 0);\n      // refresh only\n      if ($el.prop('_mouse_tooltip') && forceRefresh == true) {\n        $el.w2tag(w2utils.lang(txt), { position: pos });\n      }\n    },\n\n    tooltipHide: function (id, event) {\n      if (this.tooltip == null) return;\n      var $el = $(this.box).find('#tb_' + this.name + '_item_' + w2utils.escapeId(id));\n      var item = this.get(id);\n      clearTimeout(this._tooltipTimer);\n      setTimeout(function () {\n        if ($el.prop('_mouse_tooltip') === true) {\n          $el.removeProp('_mouse_tooltip');\n          // hide tooltip\n          $el.w2tag();\n        }\n      }, 1);\n    },\n\n    menuClick: function (event) {\n      var obj = this;\n      if (event.item && !event.item.disabled) {\n        // event before\n        var edata = this.trigger({\n          phase: 'before', type: (event.remove !== true ? 'click' : 'remove'), target: event.item.id + ':' + event.subItem.id, item: event.item,\n          subItem: event.subItem, originalEvent: event.originalEvent\n        });\n        if (edata.isCancelled === true) return;\n\n        // route processing\n        var it = event.subItem;\n        var item = this.get(event.item.id);\n        var items = item.items;\n        if (typeof items == 'function') items = item.items();\n        if (item.type == 'menu-radio') {\n          item.selected = it.id;\n          if (Array.isArray(items)) {\n            items.forEach(function (item) {\n              if (item.checked === true) delete item.checked;\n              if (Array.isArray(item.items)) {\n                item.items.forEach(function (item) {\n                  if (item.checked === true) delete item.checked;\n                })\n              }\n            });\n          }\n          it.checked = true;\n        }\n        if (item.type == 'menu-check') {\n          if (!$.isArray(item.selected)) item.selected = [];\n          if (it.group == null) {\n            var ind = item.selected.indexOf(it.id);\n            if (ind == -1) {\n              item.selected.push(it.id);\n              it.checked = true;\n            } else {\n              item.selected.splice(ind, 1);\n              it.checked = false;\n            }\n          } else if (it.group === false) {\n            // if group is false, then it is not part of checkboxes\n          } else {\n            var unchecked = [];\n            // recursive\n            (function checkNested(items) {\n              items.forEach(function (sub) {\n                if (sub.group === it.group) {\n                  var ind = item.selected.indexOf(sub.id);\n                  if (ind != -1) {\n                    if (sub.id != it.id) unchecked.push(sub.id);\n                    item.selected.splice(ind, 1);\n                  }\n                }\n                if (Array.isArray(sub.items)) checkNested(sub.items)\n              });\n            })(items);\n            var ind = item.selected.indexOf(it.id);\n            if (ind == -1) {\n              item.selected.push(it.id);\n              it.checked = true;\n            }\n          }\n        }\n        if (typeof it.route == 'string') {\n          var route = it.route !== '' ? String('/' + it.route).replace(/\\/{2,}/g, '/') : '';\n          var info = w2utils.parseRoute(route);\n          if (info.keys.length > 0) {\n            for (var k = 0; k < info.keys.length; k++) {\n              if (obj.routeData[info.keys[k].name] == null) continue;\n              route = route.replace((new RegExp(':' + info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n            }\n          }\n          setTimeout(function () { window.location.hash = route; }, 1);\n        }\n        this.refresh(event.item.id);\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    colorClick: function (event) {\n      var obj = this;\n      if (event.item && !event.item.disabled) {\n        // event before\n        var edata = this.trigger({\n          phase: 'before', type: 'click', target: event.item.id, item: event.item,\n          color: event.color, final: event.final, originalEvent: event.originalEvent\n        });\n        if (edata.isCancelled === true) return;\n\n        // default behavior\n        event.item.color = event.color;\n        obj.refresh(event.item.id);\n\n        // event after\n        this.trigger($.extend(edata, { phase: 'after' }));\n      }\n    }\n  };\n\n  $.extend(w2toolbar.prototype, w2utils.event);\n  w2obj.toolbar = w2toolbar;\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2sidebar        - sidebar widget\n*        - $().w2sidebar    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - add find() method to find nodes by a specific criteria (I want all nodes for exampe)\n*   - dbl click should be like it is in grid (with timer not HTML dbl click event)\n*   - reorder with dgrag and drop\n*   - node.style is misleading - should be there to apply color for example\n*   - add multiselect\n*   - node.caption - deprecated\n*   - node.text - can be a function\n*   - node.icon - can be a function\n*\n* == 1.5 changes\n*   - node.class - ne property\n*   - sb.levelPadding\n*   - sb.handle (for debugger points)\n*   - node.style\n*   - sb.updte()\n*\n************************************************************************/\n\n(function ($) {\n  var w2sidebar = function (options) {\n    this.name = null;\n    this.box = null;\n    this.sidebar = null;\n    this.parent = null;\n    this.nodes = [];        // Sidebar child nodes\n    this.menu = [];\n    this.routeData = {};        // data for dynamic routes\n    this.selected = null;      // current selected node (readonly)\n    this.img = null;\n    this.icon = null;\n    this.style = '';\n    this.topHTML = '';\n    this.bottomHTML = '';\n    this.flatButton = false;\n    this.keyboard = true;\n    this.flat = false;\n    this.hasFocus = false;\n\n    $.extend(true, this, w2obj.sidebar, options);\n  };\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2sidebar = function (method) {\n    if ($.isPlainObject(method)) {\n      // check name parameter\n      if (!w2utils.checkName(method, 'w2sidebar')) return;\n      // extend items\n      var nodes = method.nodes;\n      var object = new w2sidebar(method);\n      $.extend(object, { handlers: [], nodes: [] });\n      if (nodes != null) {\n        object.add(object, nodes);\n      }\n      // register new object\n      object.sidebar = object;\n      w2ui[object.name] = object;\n      // render\n      if ($(this).length !== 0) {\n        object.render($(this)[0]);\n      }\n      return object;\n\n    } else {\n      var obj = w2ui[$(this).attr('name')];\n      if (!obj) return null;\n      if (arguments.length > 0) {\n        if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n        return this;\n      } else {\n        return obj;\n      }\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2sidebar.prototype = {\n    levelPadding: 12,\n    handle: { size: 0, style: '', content: '' },\n    onClick: null,      // Fire when user click on Node Text\n    onDblClick: null,      // Fire when user dbl clicks\n    onContextMenu: null,\n    onMenuClick: null,      // when context menu item selected\n    onExpand: null,      // Fire when node Expands\n    onCollapse: null,      // Fire when node Colapses\n    onKeydown: null,\n    onRender: null,\n    onRefresh: null,\n    onResize: null,\n    onDestroy: null,\n    onFocus: null,\n    onBlur: null,\n    onFlat: null,\n\n    node: {\n      id: null,\n      text: '',\n      count: null,\n      img: null,\n      icon: null,\n      nodes: [],\n      style: '',            // additional style for subitems\n      route: null,\n      selected: false,\n      expanded: false,\n      hidden: false,\n      disabled: false,\n      group: false,        // if true, it will build as a group\n      groupShowHide: true,\n      collapsible: false,\n      plus: false,        // if true, plus will be shown even if there is no sub nodes\n      // events\n      onClick: null,\n      onDblClick: null,\n      onContextMenu: null,\n      onExpand: null,\n      onCollapse: null,\n      // internal\n      parent: null,         // node object\n      sidebar: null\n    },\n\n    add: function (parent, nodes) {\n      if (arguments.length == 1) {\n        // need to be in reverse order\n        nodes = arguments[0];\n        parent = this;\n      }\n      if (typeof parent == 'string') parent = this.get(parent);\n      return this.insert(parent, null, nodes);\n    },\n\n    insert: function (parent, before, nodes) {\n      var txt, ind, tmp, node, nd;\n      if (arguments.length == 2) {\n        // need to be in reverse order\n        nodes = arguments[1];\n        before = arguments[0];\n        if (before != null) {\n          ind = this.get(before);\n          if (ind == null) {\n            if (!$.isArray(nodes)) nodes = [nodes];\n            if (nodes[0].caption != null && nodes[0].text == null) {\n              console.log('NOTICE: sidebar node.caption property is deprecated, please use node.text. Node -> ', nodes[0]);\n              nodes[0].text = nodes[0].caption;\n            }\n            txt = nodes[0].text;\n            console.log('ERROR: Cannot insert node \"' + txt + '\" because cannot find node \"' + before + '\" to insert before.');\n            return null;\n          }\n          parent = this.get(before).parent;\n        } else {\n          parent = this;\n        }\n      }\n      if (typeof parent == 'string') parent = this.get(parent);\n      if (!$.isArray(nodes)) nodes = [nodes];\n      for (var o = 0; o < nodes.length; o++) {\n        node = nodes[o];\n        if (typeof node.id == null) {\n          if (node.caption != null && node.text == null) {\n            console.log('NOTICE: sidebar node.caption property is deprecated, please use node.text');\n            node.text = node.caption;\n          }\n          txt = node.text;\n          console.log('ERROR: Cannot insert node \"' + txt + '\" because it has no id.');\n          continue;\n        }\n        if (this.get(this, node.id) != null) {\n          console.log('ERROR: Cannot insert node with id=' + node.id + ' (text: ' + node.text + ') because another node with the same id already exists.');\n          continue;\n        }\n        tmp = $.extend({}, w2sidebar.prototype.node, node);\n        tmp.sidebar = this;\n        tmp.parent = parent;\n        nd = tmp.nodes || [];\n        tmp.nodes = []; // very important to re-init empty nodes array\n        if (before == null) { // append to the end\n          parent.nodes.push(tmp);\n        } else {\n          ind = this.get(parent, before, true);\n          if (ind == null) {\n            console.log('ERROR: Cannot insert node \"' + node.text + '\" because cannot find node \"' + before + '\" to insert before.');\n            return null;\n          }\n          parent.nodes.splice(ind, 0, tmp);\n        }\n        if (nd.length > 0) {\n          this.insert(tmp, null, nd);\n        }\n      }\n      this.refresh(parent.id);\n      return tmp;\n    },\n\n    remove: function () { // multiple arguments\n      var deleted = 0;\n      var tmp;\n      for (var a = 0; a < arguments.length; a++) {\n        tmp = this.get(arguments[a]);\n        if (tmp == null) continue;\n        if (this.selected != null && this.selected === tmp.id) {\n          this.selected = null;\n        }\n        var ind = this.get(tmp.parent, arguments[a], true);\n        if (ind == null) continue;\n        if (tmp.parent.nodes[ind].selected) tmp.sidebar.unselect(tmp.id);\n        tmp.parent.nodes.splice(ind, 1);\n        deleted++;\n      }\n      if (deleted > 0 && arguments.length == 1) this.refresh(tmp.parent.id); else this.refresh();\n      return deleted;\n    },\n\n    set: function (parent, id, node) {\n      if (arguments.length == 2) {\n        // need to be in reverse order\n        node = id;\n        id = parent;\n        parent = this;\n      }\n      // searches all nested nodes\n      if (typeof parent == 'string') parent = this.get(parent);\n      if (parent.nodes == null) return null;\n      for (var i = 0; i < parent.nodes.length; i++) {\n        if (parent.nodes[i].id === id) {\n          // see if quick update is possible\n          var res = this.update(id, node)\n          if (Object.keys(res).length != 0) {\n            // make sure nodes inserted correctly\n            var nodes = node.nodes;\n            $.extend(parent.nodes[i], node, { nodes: [] });\n            if (nodes != null) {\n              this.add(parent.nodes[i], nodes);\n            }\n            this.refresh(id);\n          }\n          return true;\n        } else {\n          var rv = this.set(parent.nodes[i], id, node);\n          if (rv) return true;\n        }\n      }\n      return false;\n    },\n\n    get: function (parent, id, returnIndex) { // can be just called get(id) or get(id, true)\n      if (arguments.length === 0) {\n        var all = [];\n        var tmp = this.find({});\n        for (var t = 0; t < tmp.length; t++) {\n          if (tmp[t].id != null) all.push(tmp[t].id);\n        }\n        return all;\n      } else {\n        if (arguments.length == 1 || (arguments.length == 2 && id === true)) {\n          // need to be in reverse order\n          returnIndex = id;\n          id = parent;\n          parent = this;\n        }\n        // searches all nested nodes\n        if (typeof parent == 'string') parent = this.get(parent);\n        if (parent.nodes == null) return null;\n        for (var i = 0; i < parent.nodes.length; i++) {\n          if (parent.nodes[i].id == id) {\n            if (returnIndex === true) return i; else return parent.nodes[i];\n          } else {\n            var rv = this.get(parent.nodes[i], id, returnIndex);\n            if (rv || rv === 0) return rv;\n          }\n        }\n        return null;\n      }\n    },\n\n    find: function (parent, params, results) { // can be just called find({ selected: true })\n      if (arguments.length == 1) {\n        // need to be in reverse order\n        params = parent;\n        parent = this;\n      }\n      if (!results) results = [];\n      // searches all nested nodes\n      if (typeof parent == 'string') parent = this.get(parent);\n      if (parent.nodes == null) return results;\n      for (var i = 0; i < parent.nodes.length; i++) {\n        var match = true;\n        for (var prop in params) { // params is an object\n          if (parent.nodes[i][prop] != params[prop]) match = false;\n        }\n        if (match) results.push(parent.nodes[i]);\n        if (parent.nodes[i].nodes.length > 0) results = this.find(parent.nodes[i], params, results);\n      }\n      return results;\n    },\n\n    hide: function () { // multiple arguments\n      var effected = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var tmp = this.get(arguments[a]);\n        if (tmp == null || tmp.hidden === true) continue;\n        tmp.hidden = true;\n        effected++;\n      }\n      if (effected > 0) {\n        if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n      }\n      return effected;\n    },\n\n    show: function () { // multiple arguments\n      var effected = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var tmp = this.get(arguments[a]);\n        if (tmp == null || tmp.hidden === false) continue;\n        tmp.hidden = false;\n        effected++;\n      }\n      if (effected > 0) {\n        if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n      }\n      return effected;\n    },\n\n    disable: function () { // multiple arguments\n      var effected = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var tmp = this.get(arguments[a]);\n        if (tmp == null || tmp.disabled === true) continue;\n        tmp.disabled = true;\n        if (tmp.selected) this.unselect(tmp.id);\n        effected++;\n      }\n      if (effected > 0) {\n        if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n      }\n      return effected;\n    },\n\n    enable: function () { // multiple arguments\n      var effected = 0;\n      for (var a = 0; a < arguments.length; a++) {\n        var tmp = this.get(arguments[a]);\n        if (tmp == null || tmp.disabled === false) continue;\n        tmp.disabled = false;\n        effected++;\n      }\n      if (effected > 0) {\n        if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n      }\n      return effected;\n    },\n\n    select: function (id) {\n      // var obj = this;\n      var new_node = this.get(id);\n      if (!new_node) return false;\n      if (this.selected == id && new_node.selected) return false;\n      this.unselect(this.selected);\n      var $el = $(this.box).find('#node_' + w2utils.escapeId(id));\n      $el.addClass('w2ui-selected')\n        .find('.w2ui-icon')\n        .addClass('w2ui-icon-selected')\n      if ($el.length > 0) {\n        this.scrollIntoView(id, true)\n      }\n      new_node.selected = true;\n      this.selected = id;\n      return true;\n    },\n\n    unselect: function (id) {\n      // if no arguments provided, unselect selected node\n      if (arguments.length === 0) {\n        id = this.selected;\n      }\n      var current = this.get(id);\n      if (!current) return false;\n      current.selected = false;\n      $(this.box).find('#node_' + w2utils.escapeId(id))\n        .removeClass('w2ui-selected')\n        .find('.w2ui-icon').removeClass('w2ui-icon-selected');\n      if (this.selected == id) this.selected = null;\n      return true;\n    },\n\n    toggle: function (id) {\n      var nd = this.get(id);\n      if (nd == null) return false;\n      if (nd.plus) {\n        this.set(id, { plus: false });\n        this.expand(id);\n        this.refresh(id);\n        return;\n      }\n      if (nd.nodes.length === 0) return false;\n      if (!nd.collapsible) return false;\n      if (this.get(id).expanded) return this.collapse(id); else return this.expand(id);\n    },\n\n    collapse: function (id) {\n      var obj = this;\n      var nd = this.get(id);\n      if (nd == null) return false\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'collapse', target: id, object: nd });\n      if (edata.isCancelled === true) return;\n      // default action\n      $(this.box).find('#node_' + w2utils.escapeId(id) + '_sub').slideUp(200);\n      $(this.box).find('#node_' + w2utils.escapeId(id) + ' .w2ui-expanded').removeClass('w2ui-expanded').addClass('w2ui-collapsed')\n      nd.expanded = false;\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      setTimeout(function () { obj.refresh(id); }, 200);\n      return true;\n    },\n\n    collapseAll: function (parent) {\n      if (parent == null) parent = this;\n      if (typeof parent == 'string') parent = this.get(parent);\n      if (parent.nodes == null) return false;\n      for (var i = 0; i < parent.nodes.length; i++) {\n        if (parent.nodes[i].expanded === true) parent.nodes[i].expanded = false;\n        if (parent.nodes[i].nodes && parent.nodes[i].nodes.length > 0) this.collapseAll(parent.nodes[i]);\n      }\n      this.refresh(parent.id);\n      return true;\n    },\n\n    expand: function (id) {\n      var obj = this;\n      var nd = this.get(id);\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'expand', target: id, object: nd });\n      if (edata.isCancelled === true) return;\n      // default action\n      $(this.box).find('#node_' + w2utils.escapeId(id) + '_sub').slideDown(200);\n      $(this.box).find('#node_' + w2utils.escapeId(id) + ' .w2ui-collapsed').removeClass('w2ui-collapsed').addClass('w2ui-expanded')\n      nd.expanded = true;\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      setTimeout(function () { obj.refresh(id); }, 200);\n      return true;\n    },\n\n    expandAll: function (parent) {\n      if (parent == null) parent = this;\n      if (typeof parent == 'string') parent = this.get(parent);\n      if (parent.nodes == null) return false;\n      for (var i = 0; i < parent.nodes.length; i++) {\n        if (parent.nodes[i].expanded === false) parent.nodes[i].expanded = true;\n        if (parent.nodes[i].nodes && parent.nodes[i].nodes.length > 0) this.expandAll(parent.nodes[i]);\n      }\n      this.refresh(parent.id);\n    },\n\n    expandParents: function (id) {\n      var node = this.get(id);\n      if (node == null) return false;\n      if (node.parent) {\n        if (!node.parent.expanded) {\n          node.parent.expanded = true;\n          this.refresh(node.parent.id);\n        }\n        this.expandParents(node.parent.id);\n      }\n      return true;\n    },\n\n    click: function (id, event) {\n      var obj = this;\n      var nd = this.get(id);\n      if (nd == null) return;\n      if (nd.disabled || nd.group) return; // should click event if already selected\n      // unselect all previsously\n      $(obj.box).find('.w2ui-node.w2ui-selected').each(function (index, el) {\n        var oldID = $(el).attr('id').replace('node_', '');\n        var oldNode = obj.get(oldID);\n        if (oldNode != null) oldNode.selected = false;\n        $(el).removeClass('w2ui-selected').find('.w2ui-icon').removeClass('w2ui-icon-selected');\n      });\n      // select new one\n      var newNode = $(obj.box).find('#node_' + w2utils.escapeId(id));\n      var oldNode = $(obj.box).find('#node_' + w2utils.escapeId(obj.selected));\n      newNode.addClass('w2ui-selected').find('.w2ui-icon').addClass('w2ui-icon-selected');\n      // need timeout to allow rendering\n      setTimeout(function () {\n        // event before\n        var edata = obj.trigger({ phase: 'before', type: 'click', target: id, originalEvent: event, node: nd, object: nd });\n        if (edata.isCancelled === true) {\n          // restore selection\n          newNode.removeClass('w2ui-selected').find('.w2ui-icon').removeClass('w2ui-icon-selected');\n          oldNode.addClass('w2ui-selected').find('.w2ui-icon').addClass('w2ui-icon-selected');\n          return;\n        }\n        // default action\n        if (oldNode != null) oldNode.selected = false;\n        obj.get(id).selected = true;\n        obj.selected = id;\n        // route processing\n        if (typeof nd.route == 'string') {\n          var route = nd.route !== '' ? String('/' + nd.route).replace(/\\/{2,}/g, '/') : '';\n          var info = w2utils.parseRoute(route);\n          if (info.keys.length > 0) {\n            for (var k = 0; k < info.keys.length; k++) {\n              if (obj.routeData[info.keys[k].name] == null) continue;\n              route = route.replace((new RegExp(':' + info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n            }\n          }\n          setTimeout(function () { window.location.hash = route; }, 1);\n        }\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }, 1);\n    },\n\n    focus: function (event) {\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'focus', target: this.name, originalEvent: event });\n      if (edata.isCancelled === true) return false;\n      // default behaviour\n      this.hasFocus = true;\n      $(this.box).find('.w2ui-sidebar-body').addClass('w2ui-focus');\n      setTimeout(function () {\n        var $input = $(obj.box).find('#sidebar_' + obj.name + '_focus');\n        if (!$input.is(':focus')) $input.focus();\n      }, 10);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    blur: function (event) {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'blur', target: this.name, originalEvent: event });\n      if (edata.isCancelled === true) return false;\n      // default behaviour\n      this.hasFocus = false;\n      $(this.box).find('.w2ui-sidebar-body').removeClass('w2ui-focus');\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    keydown: function (event) {\n      var obj = this;\n      var nd = obj.get(obj.selected);\n      if (obj.keyboard !== true) return;\n      if (!nd) nd = obj.nodes[0];\n      // trigger event\n      var edata = obj.trigger({ phase: 'before', type: 'keydown', target: obj.name, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default behaviour\n      if (event.keyCode == 13 || event.keyCode == 32) { // enter or space\n        if (nd.nodes.length > 0) obj.toggle(obj.selected);\n      }\n      if (event.keyCode == 37) { // left\n        if (nd.nodes.length > 0 && nd.expanded) {\n          obj.collapse(obj.selected);\n        } else {\n          selectNode(nd.parent);\n          if (!nd.parent.group) obj.collapse(nd.parent.id);\n        }\n      }\n      if (event.keyCode == 39) { // right\n        if ((nd.nodes.length > 0 || nd.plus) && !nd.expanded) obj.expand(obj.selected);\n      }\n      if (event.keyCode == 38) { // up\n        if (obj.get(obj.selected) == null) {\n          selectNode(this.nodes[0] || null);\n        } else {\n          selectNode(neighbor(nd, prev));\n        }\n      }\n      if (event.keyCode == 40) { // down\n        if (obj.get(obj.selected) == null) {\n          selectNode(this.nodes[0] || null);\n        } else {\n          selectNode(neighbor(nd, next));\n        }\n      }\n      // cancel event if needed\n      if ($.inArray(event.keyCode, [13, 32, 37, 38, 39, 40]) != -1) {\n        if (event.preventDefault) event.preventDefault();\n        if (event.stopPropagation) event.stopPropagation();\n      }\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n\n      function selectNode(node, event) {\n        if (node != null && !node.hidden && !node.disabled && !node.group) {\n          obj.click(node.id, event);\n          setTimeout(function () { obj.scrollIntoView(); }, 50);\n        }\n      }\n\n      function neighbor(node, neighborFunc) {\n        node = neighborFunc(node);\n        while (node != null && (node.hidden || node.disabled)) {\n          if (node.group) break; else node = neighborFunc(node);\n        }\n        return node;\n      }\n\n      function next(node, noSubs) {\n        if (node == null) return null;\n        var parent = node.parent;\n        var ind = obj.get(node.id, true);\n        var nextNode = null;\n        // jump inside\n        if (node.expanded && node.nodes.length > 0 && noSubs !== true) {\n          var t = node.nodes[0];\n          if (t.hidden || t.disabled || t.group) nextNode = next(t); else nextNode = t;\n        } else {\n          if (parent && ind + 1 < parent.nodes.length) {\n            nextNode = parent.nodes[ind + 1];\n          } else {\n            nextNode = next(parent, true); // jump to the parent\n          }\n        }\n        if (nextNode != null && (nextNode.hidden || nextNode.disabled || nextNode.group)) nextNode = next(nextNode);\n        return nextNode;\n      }\n\n      function prev(node) {\n        if (node == null) return null;\n        var parent = node.parent;\n        var ind = obj.get(node.id, true);\n        var prevNode = (ind > 0) ? lastChild(parent.nodes[ind - 1]) : parent;\n        if (prevNode != null && (prevNode.hidden || prevNode.disabled || prevNode.group)) prevNode = prev(prevNode);\n        return prevNode;\n      }\n\n      function lastChild(node) {\n        if (node.expanded && node.nodes.length > 0) {\n          var t = node.nodes[node.nodes.length - 1];\n          if (t.hidden || t.disabled || t.group) return prev(t); else return lastChild(t);\n        }\n        return node;\n      }\n    },\n\n    scrollIntoView: function (id, instant) {\n      if (id == null) id = this.selected;\n      var nd = this.get(id);\n      if (nd == null) return;\n      var body = $(this.box).find('.w2ui-sidebar-body');\n      var item = $(this.box).find('#node_' + w2utils.escapeId(id));\n      var offset = item.offset().top - body.offset().top;\n      if (offset + item.height() > body.height() || offset <= 0) {\n        body.animate({ 'scrollTop': body.scrollTop() + offset - body.height() / 2 + item.height() }, instant ? 0 : 250, 'linear');\n      }\n    },\n\n    dblClick: function (id, event) {\n      var nd = this.get(id);\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'dblClick', target: id, originalEvent: event, object: nd });\n      if (edata.isCancelled === true) return;\n      // default action\n      this.toggle(id);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    contextMenu: function (id, event) {\n      var obj = this;\n      var nd = obj.get(id);\n      if (id != obj.selected) obj.click(id);\n      // event before\n      var edata = obj.trigger({ phase: 'before', type: 'contextMenu', target: id, originalEvent: event, object: nd, allowOnDisabled: false });\n      if (edata.isCancelled === true) return;\n      // default action\n      if (nd.disabled && !edata.allowOnDisabled) return;\n      if (obj.menu.length > 0) {\n        $(obj.box).find('#node_' + w2utils.escapeId(id))\n          .w2menu({\n            items: obj.menu,\n            contextMenu: true,\n            originalEvent: event,\n            onSelect: function (event) {\n              obj.menuClick(id, parseInt(event.index), event.originalEvent);\n            }\n          }\n          );\n      }\n      // cancel event\n      if (event.preventDefault) event.preventDefault();\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    menuClick: function (itemId, index, event) {\n      var obj = this;\n      // event before\n      var edata = obj.trigger({ phase: 'before', type: 'menuClick', target: itemId, originalEvent: event, menuIndex: index, menuItem: obj.menu[index] });\n      if (edata.isCancelled === true) return;\n      // default action\n      // -- empty\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    goFlat: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'flat', goFlat: !this.flat });\n      if (edata.isCancelled === true) return;\n      // default action\n      this.flat = !this.flat;\n      this.refresh();\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    render: function (box) {\n      var time = (new Date()).getTime();\n      var obj = this;\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n      if (edata.isCancelled === true) return;\n      // default action\n      if (box != null) {\n        if ($(this.box).find('> div > div.w2ui-sidebar-body').length > 0) {\n          $(this.box)\n            .removeAttr('name')\n            .removeClass('w2ui-reset w2ui-sidebar')\n            .html('');\n        }\n        this.box = box;\n      }\n      if (!this.box) return;\n      $(this.box)\n        .attr('name', this.name)\n        .addClass('w2ui-reset w2ui-sidebar')\n        .html('<div>' +\n          '<input id=\"sidebar_' + this.name + '_focus\" style=\"position: absolute; top: 0; right: 0; width: 1px; z-index: -1; opacity: 0\" ' + (w2utils.isIOS ? 'readonly' : '') + '/>' +\n          '<div class=\"w2ui-sidebar-top\"></div>' +\n          '<div class=\"w2ui-sidebar-body\"></div>' +\n          '<div class=\"w2ui-sidebar-bottom\"></div>' +\n          '</div>'\n        );\n      $(this.box).find('> div').css({\n        width: $(this.box).width() + 'px',\n        height: $(this.box).height() + 'px'\n      });\n      if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n      // adjust top and bottom\n      var flatHTML = '';\n      if (this.flatButton == true) {\n        flatHTML = '<div class=\"w2ui-flat-' + (this.flat ? 'right' : 'left') + '\" onclick=\"w2ui[\\'' + this.name + '\\'].goFlat()\"></div>';\n      }\n      if (this.topHTML !== '' || flatHTML !== '') {\n        $(this.box).find('.w2ui-sidebar-top').html(this.topHTML + flatHTML);\n        $(this.box).find('.w2ui-sidebar-body')\n          .css('top', $(this.box).find('.w2ui-sidebar-top').height() + 'px');\n      }\n      if (this.bottomHTML !== '') {\n        $(this.box).find('.w2ui-sidebar-bottom').html(this.bottomHTML);\n        $(this.box).find('.w2ui-sidebar-body')\n          .css('bottom', $(this.box).find('.w2ui-sidebar-bottom').height() + 'px');\n      }\n      // focus\n      var kbd_timer;\n      $(this.box).find('#sidebar_' + this.name + '_focus')\n        .on('focus', function (event) {\n          clearTimeout(kbd_timer);\n          if (!obj.hasFocus) obj.focus(event);\n        })\n        .on('blur', function (event) {\n          kbd_timer = setTimeout(function () {\n            if (obj.hasFocus) { obj.blur(event); }\n          }, 100);\n        })\n        .on('keydown', function (event) {\n          if (event.keyCode != 9) { // not tab\n            w2ui[obj.name].keydown.call(w2ui[obj.name], event);\n          }\n        });\n      $(this.box).off('mousedown').on('mousedown', function (event) {\n        // set focus to grid\n        setTimeout(function () {\n          // if input then do not focus\n          if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(event.target.tagName.toUpperCase()) == -1) {\n            var $input = $(obj.box).find('#sidebar_' + obj.name + '_focus');\n            if (!$input.is(':focus')) {\n              if ($(event.target).hasClass('w2ui-node')) {\n                var top = $(event.target).position().top + $(obj.box).find('.w2ui-sidebar-top').height() + event.offsetY;\n                $input.css({ top: top + 'px', left: '0px' });\n              }\n              $input.focus();\n            }\n          }\n        }, 1);\n      });\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      // ---\n      this.refresh();\n      return (new Date()).getTime() - time;\n    },\n\n    update: function (id, options) {\n      // quick function to refresh just this item (not sub nodes)\n      //  - icon, class, style, text, count\n      var nd = this.get(id)\n      var level\n      if (nd) {\n        var $el = $(this.box).find('#node_' + nd.id)\n        if (nd.group) {\n          if (options.text) {\n            nd.text = options.text\n            $el.find('.w2ui-group-text').replaceWith(typeof nd.text == 'function'\n              ? nd.text.call(this, nd)\n              : '<span class=\"w2ui-group-text\">' + nd.text + '</span>')\n            delete options.text\n          }\n          if (options.class) {\n            nd.class = options.class\n            level = $el.data('level')\n            $el[0].className = 'w2ui-node-group w2ui-level-' + level + (nd.class ? ' ' + nd.class : '')\n            delete options.class\n          }\n          if (options.style) {\n            nd.style = options.style\n            $el.next()[0].style = nd.style + ';' + (!nd.hidden && nd.expanded ? '' : 'display: none;')\n            delete options.style\n          }\n        } else {\n          if (options.icon) {\n            var $img = $el.find('.w2ui-node-image > span')\n            if ($img.length > 0) {\n              nd.icon = options.icon\n              $img[0].className = (typeof nd.icon == 'function' ? nd.icon.call(this, nd) : nd.icon)\n              delete options.icon\n            }\n          }\n          if (options.count) {\n            nd.count = options.count\n            $el.find('.w2ui-node-count').html(nd.count)\n            if ($el.find('.w2ui-node-count').length > 0) delete options.count\n          }\n          if (options.class && $el.length > 0) {\n            nd.class = options.class\n            level = $el.data('level')\n            $el[0].className = 'w2ui-node w2ui-level-' + level + (nd.selected ? ' w2ui-selected' : '') + (nd.disabled ? ' w2ui-disabled' : '') + (nd.class ? ' ' + nd.class : '')\n            delete options.class\n          }\n          if (options.text) {\n            nd.text = options.text\n            $el.find('.w2ui-node-text').html(typeof nd.text == 'function' ? nd.text.call(this, nd) : nd.text)\n            delete options.text\n          }\n          if (options.style && $el.length > 0) {\n            var $txt = $el.find('.w2ui-node-text')\n            nd.style = options.style\n            $txt[0].style = nd.style\n            delete options.style\n          }\n        }\n      }\n      // return what was not set\n      return options\n    },\n\n    refresh: function (id) {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({\n        phase: 'before', type: 'refresh', target: (id != null ? id : this.name),\n        fullRefresh: (id != null ? false : true)\n      });\n      if (edata.isCancelled === true) return;\n      // adjust top and bottom\n      var flatHTML = '';\n      if (this.flatButton == true) {\n        flatHTML = '<div class=\"w2ui-flat-' + (this.flat ? 'right' : 'left') + '\" onclick=\"w2ui[\\'' + this.name + '\\'].goFlat()\"></div>';\n      }\n      if (this.topHTML !== '' || flatHTML !== '') {\n        $(this.box).find('.w2ui-sidebar-top').html(this.topHTML + flatHTML);\n        $(this.box).find('.w2ui-sidebar-body')\n          .css('top', $(this.box).find('.w2ui-sidebar-top').height() + 'px');\n      }\n      if (this.bottomHTML !== '') {\n        $(this.box).find('.w2ui-sidebar-bottom').html(this.bottomHTML);\n        $(this.box).find('.w2ui-sidebar-body')\n          .css('bottom', $(this.box).find('.w2ui-sidebar-bottom').height() + 'px');\n      }\n      // default action\n      $(this.box).find('> div').removeClass('w2ui-sidebar-flat').addClass(this.flat ? 'w2ui-sidebar-flat' : '').css({\n        width: $(this.box).width() + 'px',\n        height: $(this.box).height() + 'px'\n      });\n      // if no parent - reset nodes\n      if (this.nodes.length > 0 && this.nodes[0].parent == null) {\n        var tmp = this.nodes;\n        this.nodes = [];\n        this.add(this, tmp);\n      }\n      var obj = this;\n      var node, nd;\n      var nm;\n      if (id == null) {\n        node = this;\n        nm = '.w2ui-sidebar-body';\n      } else {\n        node = this.get(id);\n        if (node == null) return;\n        nm = '#node_' + w2utils.escapeId(node.id) + '_sub';\n      }\n      var nodeHTML;\n      if (node !== this) {\n        var tmp = '#node_' + w2utils.escapeId(node.id);\n        nodeHTML = getNodeHTML(node);\n        $(this.box).find(tmp).before('<div id=\"sidebar_' + this.name + '_tmp\"></div>');\n        $(this.box).find(tmp).remove();\n        $(this.box).find(nm).remove();\n        $('#sidebar_' + this.name + '_tmp').before(nodeHTML);\n        $('#sidebar_' + this.name + '_tmp').remove();\n      }\n      // remember scroll position\n      var scroll = {\n        top: $(this.box).find(nm).scrollTop(),\n        left: $(this.box).find(nm).scrollLeft()\n      }\n      // refresh sub nodes\n      $(this.box).find(nm).html('');\n      for (var i = 0; i < node.nodes.length; i++) {\n        nd = node.nodes[i];\n        nodeHTML = getNodeHTML(nd);\n        $(this.box).find(nm).append(nodeHTML);\n        if (nd.nodes.length !== 0) {\n          this.refresh(nd.id);\n        } else {\n          // trigger event\n          var edata2 = this.trigger({ phase: 'before', type: 'refresh', target: nd.id });\n          if (edata2.isCancelled === true) return;\n          // event after\n          this.trigger($.extend(edata2, { phase: 'after' }));\n        }\n      }\n      // reset scroll\n      $(this.box).find(nm).scrollLeft(scroll.left).scrollTop(scroll.top)\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n\n      function getNodeHTML(nd) {\n        var html = '';\n        var img = nd.img;\n        var icon = nd.icon;\n        if (icon == null && img == null) {\n          if (icon == null) icon = obj.icon;\n          if (img == null) img = obj.img;\n        }\n        // -- find out level\n        var tmp = nd.parent;\n        var level = 0;\n        while (tmp && tmp.parent != null) {\n          // if (tmp.group) level--;\n          tmp = tmp.parent;\n          level++;\n        }\n        if (nd.caption != null && nd.text == null) nd.text = nd.caption;\n        if (nd.caption != null) {\n          console.log('NOTICE: sidebar node.caption property is deprecated, please use node.text. Node -> ', nd)\n          nd.text = nd.caption;\n        }\n        if (Array.isArray(nd.nodes) && nd.nodes.length > 0) nd.collapsible = true\n        if (nd.group) {\n          html =\n            '<div class=\"w2ui-node-group w2ui-level-' + level + (nd.class ? ' ' + nd.class : '') + '\" id=\"node_' + nd.id + '\" data-level=\"' + level + '\"' +\n            '   style=\"' + (nd.hidden ? 'display: none' : '') + '\" onclick=\"w2ui[\\'' + obj.name + '\\'].toggle(\\'' + nd.id + '\\')\"' +\n            '   oncontextmenu=\"w2ui[\\'' + obj.name + '\\'].contextMenu(\\'' + nd.id + '\\', event);\"' +\n            '   onmouseout=\"jQuery(this).find(\\'span:nth-child(1)\\').css(\\'color\\', \\'transparent\\')\" ' +\n            '   onmouseover=\"jQuery(this).find(\\'span:nth-child(1)\\').css(\\'color\\', \\'inherit\\')\">' +\n            ((nd.groupShowHide && nd.collapsible) ? '<span>' + (!nd.hidden && nd.expanded ? w2utils.lang('Hide') : w2utils.lang('Show')) + '</span>' : '<span></span>') +\n            (typeof nd.text == 'function' ? nd.text.call(obj, nd) : '<span class=\"w2ui-group-text\">' + nd.text + '</span>') +\n            '</div>' +\n            '<div class=\"w2ui-node-sub\" id=\"node_' + nd.id + '_sub\" style=\"' + nd.style + ';' + (!nd.hidden && nd.expanded ? '' : 'display: none;') + '\"></div>';\n          if (obj.flat) {\n            html = '<div class=\"w2ui-node-group\" id=\"node_' + nd.id + '\"><span>&#160;</span></div>' +\n              '<div id=\"node_' + nd.id + '_sub\" style=\"' + nd.style + ';' + (!nd.hidden && nd.expanded ? '' : 'display: none;') + '\"></div>';\n          }\n        } else {\n          if (nd.selected && !nd.disabled) obj.selected = nd.id;\n          tmp = '';\n          if (img) tmp = '<div class=\"w2ui-node-image w2ui-icon ' + img + (nd.selected && !nd.disabled ? \" w2ui-icon-selected\" : \"\") + '\"></div>';\n          if (icon) {\n            tmp = '<div class=\"w2ui-node-image\"><span class=\"' + (typeof icon == 'function' ? icon.call(obj, nd) : icon) + '\"></span></div>';\n          }\n          var text = nd.text;\n          var expand = '';\n          var counts = (nd.count != null ? '<div class=\"w2ui-node-count\">' + nd.count + '</div>' : '');\n          if (nd.collapsible === true) {\n            expand = '<div class=\"w2ui-' + (nd.expanded ? 'expanded' : 'collapsed') + '\"><span></span></div>';\n          }\n          if (typeof nd.text == 'function') text = nd.text.call(obj, nd);\n          html = '<div class=\"w2ui-node w2ui-level-' + level + (nd.selected ? ' w2ui-selected' : '') + (nd.disabled ? ' w2ui-disabled' : '') + (nd.class ? ' ' + nd.class : '') + '\"' +\n            '    id=\"node_' + nd.id + '\" data-level=\"' + level + '\" style=\"position: relative; ' + (nd.hidden ? 'display: none;' : '') + '\"' +\n            '    ondblclick=\"w2ui[\\'' + obj.name + '\\'].dblClick(\\'' + nd.id + '\\', event);\"' +\n            '    oncontextmenu=\"w2ui[\\'' + obj.name + '\\'].contextMenu(\\'' + nd.id + '\\', event);\"' +\n            '    onClick=\"w2ui[\\'' + obj.name + '\\'].click(\\'' + nd.id + '\\', event); \">' +\n            (obj.handle.content\n              ? '<div class=\"w2ui-node-handle\" style=\"width: ' + obj.handle.size + 'px; ' + obj.handle.style + '\">' +\n              obj.handle.content +\n              '</div>'\n              : ''\n            ) +\n            '   <div class=\"w2ui-node-data\" style=\"margin-left:' + (level * obj.levelPadding + obj.handle.size) + 'px\">' +\n            expand + tmp + counts +\n            '<div class=\"w2ui-node-text w2ui-node-caption\" style=\"' + (nd.style || '') + '\">' + text + '</div>' +\n            '   </div>' +\n            '</div>' +\n            '<div class=\"w2ui-node-sub\" id=\"node_' + nd.id + '_sub\" style=\"' + nd.style + ';' + (!nd.hidden && nd.expanded ? '' : 'display: none;') + '\"></div>';\n          if (obj.flat) {\n            html = '<div class=\"w2ui-node w2ui-level-' + level + ' ' + (nd.selected ? 'w2ui-selected' : '') + ' ' + (nd.disabled ? 'w2ui-disabled' : '') + (nd.class ? ' ' + nd.class : '') + '\" id=\"node_' + nd.id + '\" style=\"' + (nd.hidden ? 'display: none;' : '') + '\"' +\n              '    onmouseover=\"jQuery(this).find(\\'.w2ui-node-data\\').w2tag(w2utils.base64decode(\\'' +\n              w2utils.base64encode(text + (nd.count || nd.count === 0 ? ' - <span class=\"w2ui-node-count\">' + nd.count + '</span>' : '')) + '\\'), ' +\n              '               { id: \\'' + nd.id + '\\', left: -5 })\"' +\n              '    onmouseout=\"jQuery(this).find(\\'.w2ui-node-data\\').w2tag(null, { id: \\'' + nd.id + '\\' })\"' +\n              '    ondblclick=\"w2ui[\\'' + obj.name + '\\'].dblClick(\\'' + nd.id + '\\', event);\"' +\n              '    oncontextmenu=\"w2ui[\\'' + obj.name + '\\'].contextMenu(\\'' + nd.id + '\\', event);\"' +\n              '    onClick=\"w2ui[\\'' + obj.name + '\\'].click(\\'' + nd.id + '\\', event); \">' +\n              '<div class=\"w2ui-node-data w2ui-node-flat\">' + tmp + '</div>' +\n              '</div>' +\n              '<div class=\"w2ui-node-sub\" id=\"node_' + nd.id + '_sub\" style=\"' + nd.style + ';' + (!nd.hidden && nd.expanded ? '' : 'display: none;') + '\"></div>';\n          }\n        }\n        return html;\n      }\n    },\n\n    resize: function () {\n      var time = (new Date()).getTime();\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n      if (edata.isCancelled === true) return;\n      // default action\n      $(this.box).css('overflow', 'hidden');    // container should have no overflow\n      $(this.box).find('> div').css({\n        width: $(this.box).width() + 'px',\n        height: $(this.box).height() + 'px'\n      });\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return (new Date()).getTime() - time;\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n      if (edata.isCancelled === true) return;\n      // clean up\n      if ($(this.box).find('> div > div.w2ui-sidebar-body').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-reset w2ui-sidebar')\n          .html('');\n      }\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    lock: function (msg, showSpinner) {\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.unshift(this.box);\n      w2utils.lock.apply(window, args);\n    },\n\n    unlock: function (speed) {\n      w2utils.unlock(this.box, speed);\n    }\n  };\n\n  $.extend(w2sidebar.prototype, w2utils.event);\n  w2obj.sidebar = w2sidebar;\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2field        - various field controls\n*        - $().w2field    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - upload (regular files)\n*   - BUG with prefix/postfix and arrows (test in different contexts)\n*   - multiple date selection\n*   - month selection, year selections\n*   - arrows no longer work (for int)\n*   - form to support custom types\n*   - rewrite suffix and prefix positioning with translateY()\n*   - prefix and suffix are slow (100ms or so)\n*   - MultiSelect - Allow Copy/Paste for single and multi values\n*   - add routeData to list/enum\n*   - for type: list -> read value from attr('value')\n*   - ENUM, LIST: should have same as grid (limit, offset, search, sort)\n*   - ENUM, LIST: should support wild chars\n*   - add selection of predefined times (used for appointments)\n*   - options.items - can be an array\n*   - options.msgSearch - message to search for user\n*   - options.msgNoItems - can be a function\n*\n************************************************************************/\n\n(function ($) {\n\n  var w2field = function (options) {\n    // public properties\n    this.el = null;\n    this.helpers = {}; // object or helper elements\n    this.type = options.type || 'text';\n    this.options = $.extend(true, {}, options);\n    this.onSearch = options.onSearch || null;\n    this.onRequest = options.onRequest || null;\n    this.onLoad = options.onLoad || null;\n    this.onError = options.onError || null;\n    this.onClick = options.onClick || null;\n    this.onAdd = options.onAdd || null;\n    this.onNew = options.onNew || null;\n    this.onRemove = options.onRemove || null;\n    this.onMouseOver = options.onMouseOver || null;\n    this.onMouseOut = options.onMouseOut || null;\n    this.onIconClick = options.onIconClick || null;\n    this.onScroll = options.onScroll || null;\n    this.tmp = {}; // temp object\n    // clean up some options\n    delete this.options.type;\n    delete this.options.onSearch;\n    delete this.options.onRequest;\n    delete this.options.onLoad;\n    delete this.options.onError;\n    delete this.options.onClick;\n    delete this.options.onMouseOver;\n    delete this.options.onMouseOut;\n    delete this.options.onIconClick;\n    delete this.options.onScroll;\n    // extend with defaults\n    $.extend(true, this, w2obj.field);\n  };\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2field = function (method, options) {\n    // call direct\n    if (this.length === 0) {\n      var pr = w2field.prototype;\n      if (pr[method]) {\n        return pr[method].apply(pr, Array.prototype.slice.call(arguments, 1));\n      }\n    } else {\n      // if without arguments - return the object\n      if (arguments.length === 0) {\n        var obj = $(this).data('w2field');\n        return obj;\n      }\n      if (typeof method === 'string' && typeof options === 'object') {\n        method = $.extend(true, {}, options, { type: method });\n      }\n      if (typeof method === 'string' && options == null) {\n        method = { type: method };\n      }\n      if (method) method.type = String(method.type).toLowerCase();\n      return this.each(function (index, el) {\n        var obj = $(el).data('w2field');\n        // if object is not defined, define it\n        if (obj == null) {\n          obj = new w2field(method);\n          $.extend(obj, { handlers: [] });\n          if (el) obj.el = $(el)[0];\n          obj.init();\n          $(el).data('w2field', obj);\n          return obj;\n        } else { // fully re-init\n          obj.clear();\n          if (method.type === 'clear') return;\n          obj = new w2field(method);\n          $.extend(obj, { handlers: [] });\n          if (el) obj.el = $(el)[0];\n          obj.init();\n          $(el).data('w2field', obj);\n          return obj;\n        }\n        return null;\n      });\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  /*     To add custom types\n      $().w2field('addType', 'myType', function (options) {\n          $(this.el).on('keypress', function (event) {\n              if (event.metaKey || event.ctrlKey || event.altKey\n                  || (event.charCode != event.keyCode && event.keyCode > 0)) return;\n              var ch = String.fromCharCode(event.charCode);\n              if (ch != 'a' && ch != 'b' && ch != 'c') {\n                  if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                  return false;\n              }\n          });\n          $(this.el).on('blur', function (event)  { // keyCode & charCode differ in FireFox\n              var ch = this.value;\n              if (ch != 'a' && ch != 'b' && ch != 'c') {\n                  $(this).w2tag(w2utils.lang(\"Not a single character from the set of 'abc'\"));\n              }\n          });\n      });\n  */\n\n  w2field.prototype = {\n\n    custom: {},  // map of custom types\n\n    addType: function (type, handler) {\n      type = String(type).toLowerCase();\n      this.custom[type] = handler;\n      return true;\n    },\n\n    removeType: function (type) {\n      type = String(type).toLowerCase();\n      if (!this.custom[type]) return false;\n      delete this.custom[type];\n      return true;\n    },\n\n    init: function () {\n      var obj = this;\n      var options = this.options;\n      var defaults;\n\n      // Custom Types\n      if (typeof this.custom[this.type] === 'function') {\n        this.custom[this.type].call(this, options);\n        return;\n      }\n      // only for INPUT or TEXTAREA\n      if (['INPUT', 'TEXTAREA'].indexOf(this.el.tagName.toUpperCase()) == -1) {\n        console.log('ERROR: w2field could only be applied to INPUT or TEXTAREA.', this.el);\n        return;\n      }\n\n      switch (this.type) {\n        case 'text':\n        case 'int':\n        case 'float':\n        case 'money':\n        case 'currency':\n        case 'percent':\n        case 'alphanumeric':\n        case 'bin':\n        case 'hex':\n          defaults = {\n            min: null,\n            max: null,\n            step: 1,\n            autoFormat: true,\n            currencyPrefix: w2utils.settings.currencyPrefix,\n            currencySuffix: w2utils.settings.currencySuffix,\n            currencyPrecision: w2utils.settings.currencyPrecision,\n            decimalSymbol: w2utils.settings.decimalSymbol,\n            groupSymbol: w2utils.settings.groupSymbol,\n            arrows: false,\n            keyboard: true,\n            precision: null,\n            silent: true,\n            prefix: '',\n            suffix: ''\n          };\n          this.options = $.extend(true, {}, defaults, options);\n          options = this.options; // since object is re-created, need to re-assign\n          options.numberRE = new RegExp('[' + options.groupSymbol + ']', 'g');\n          options.moneyRE = new RegExp('[' + options.currencyPrefix + options.currencySuffix + options.groupSymbol + ']', 'g');\n          options.percentRE = new RegExp('[' + options.groupSymbol + '%]', 'g');\n          // no keyboard support needed\n          if (['text', 'alphanumeric', 'hex', 'bin'].indexOf(this.type) !== -1) {\n            options.arrows = false;\n            options.keyboard = false;\n          }\n          this.addPrefix(); // only will add if needed\n          this.addSuffix();\n          break;\n\n        case 'color':\n          defaults = {\n            prefix: '',\n            suffix: '<div style=\"width: ' + (parseInt($(this.el).css('font-size')) || 12) + 'px\">&#160;</div>',\n            arrows: false,\n            keyboard: false,\n            advanced: null, // open advanced by default\n            transparent: true\n          };\n          this.options = $.extend(true, {}, defaults, options);\n          options = this.options; // since object is re-created, need to re-assign\n          this.addPrefix();    // only will add if needed\n          this.addSuffix();    // only will add if needed\n          // additional checks\n          if ($(this.el).val() !== '') setTimeout(function () { obj.change(); }, 1);\n          break;\n\n        case 'date':\n          defaults = {\n            format: w2utils.settings.dateFormat, // date format\n            keyboard: true,\n            silent: true,\n            start: '',       // string or jquery object\n            end: '',       // string or jquery object\n            blocked: {},       // { '4/11/2011': 'yes' }\n            colored: {},        // { '4/11/2011': 'red:white' }\n            blockWeekDays: null       // array of numbers of weekday to block\n          };\n          this.options = $.extend(true, {}, defaults, options);\n          options = this.options; // since object is re-created, need to re-assign\n          if ($(this.el).attr('placeholder') == null) $(this.el).attr('placeholder', options.format);\n          break;\n\n        case 'time':\n          defaults = {\n            format: w2utils.settings.timeFormat,\n            keyboard: true,\n            silent: true,\n            start: '',\n            end: '',\n            noMinutes: false\n          };\n          this.options = $.extend(true, {}, defaults, options);\n          options = this.options; // since object is re-created, need to re-assign\n          if ($(this.el).attr('placeholder') == null) $(this.el).attr('placeholder', options.format);\n          break;\n\n        case 'datetime':\n          defaults = {\n            format: w2utils.settings.dateFormat + ' | ' + w2utils.settings.timeFormat,\n            keyboard: true,\n            silent: true,\n            start: '',       // string or jquery object or Date object\n            end: '',       // string or jquery object or Date object\n            blocked: [],       // [ '4/11/2011', '4/12/2011' ] or [ new Date(2011, 4, 11), new Date(2011, 4, 12) ]\n            colored: {},       // { '12/17/2014': 'blue:green', '12/18/2014': 'gray:white'  }; // key has to be formatted with w2utils.settings.dateFormat\n            placeholder: null,     // optional. will fall back to this.format if not specified. Only used if this.el has no placeholder attribute.\n            btn_now: true,     // show/hide the use-current-date-and-time button\n            noMinutes: false\n          };\n          this.options = $.extend(true, {}, defaults, options);\n          options = this.options; // since object is re-created, need to re-assign\n          if ($(this.el).attr('placeholder') == null) $(this.el).attr('placeholder', options.placeholder || options.format);\n          break;\n\n        case 'list':\n        case 'combo':\n          defaults = {\n            items: [],\n            selected: {},\n            url: null,          // url to pull data from\n            recId: null,          // map retrieved data from url to id, can be string or function\n            recText: null,          // map retrieved data from url to text, can be string or function\n            method: null,          // default comes from w2utils.settings.dataType\n            interval: 350,           // number of ms to wait before sending server call on search\n            postData: {},\n            minLength: 1,            // min number of chars when trigger search\n            cacheMax: 250,\n            maxDropHeight: 350,          // max height for drop down menu\n            maxDropWidth: null,         // if null then auto set\n            match: 'begins',     // ['contains', 'is', 'begins', 'ends']\n            silent: true,\n            icon: null,\n            iconStyle: '',\n            align: 'both',       // same width as control\n            altRows: true,         // alternate row color\n            onSearch: null,         // when search needs to be performed\n            onRequest: null,         // when request is submitted\n            onLoad: null,         // when data is received\n            onError: null,         // when data fails to load due to server error or other failure modes\n            onIconClick: null,\n            renderDrop: null,         // render function for drop down item\n            compare: null,         // compare function for filtering\n            filter: true,         // weather to filter at all\n            prefix: '',\n            suffix: '',\n            openOnFocus: false,        // if to show overlay onclick or when typing\n            markSearch: false\n          };\n          if (typeof options.items == 'function') {\n            options._items_fun = options.items\n          }\n          // need to be first\n          options.items = w2obj.field.prototype.normMenu.call(this, options.items);\n          if (this.type === 'list') {\n            // defaults.search = (options.items && options.items.length >= 10 ? true : false);\n            defaults.openOnFocus = true;\n            $(this.el).addClass('w2ui-select');\n            // if simple value - look it up\n            if (!$.isPlainObject(options.selected) && Array.isArray(options.items)) {\n              for (var i = 0; i < options.items.length; i++) {\n                var item = options.items[i];\n                if (item && item.id === options.selected) {\n                  options.selected = $.extend(true, {}, item);\n                  break;\n                }\n              }\n            }\n            this.watchSize();\n          }\n          options = $.extend({}, defaults, options);\n          this.options = options;\n          if (!$.isPlainObject(options.selected)) options.selected = {};\n          $(this.el).data('selected', options.selected);\n          if (options.url) {\n            options.items = [];\n            this.request(0);\n          }\n          if (this.type === 'list') this.addFocus();\n          this.addPrefix();\n          this.addSuffix();\n          setTimeout(function () { obj.refresh(); }, 10); // need this for icon refresh\n          $(this.el)\n            .attr('autocapitalize', 'off')\n            .attr('autocomplete', 'off')\n            .attr('autocorrect', 'off')\n            .attr('spellcheck', 'false')\n          if (options.selected.text != null) $(this.el).val(options.selected.text);\n          break;\n\n        case 'enum':\n          defaults = {\n            items: [],\n            selected: [],\n            max: 0,             // max number of selected items, 0 - unlim\n            url: null,          // not implemented\n            recId: null,          // map retrieved data from url to id, can be string or function\n            recText: null,          // map retrieved data from url to text, can be string or function\n            interval: 350,           // number of ms to wait before sending server call on search\n            method: null,          // default comes from w2utils.settings.dataType\n            postData: {},\n            minLength: 1,            // min number of chars when trigger search\n            cacheMax: 250,\n            maxWidth: 250,           // max width for a single item\n            maxHeight: 350,           // max height for input control to grow\n            maxDropHeight: 350,           // max height for drop down menu\n            maxDropWidth: null,          // if null then auto set\n            match: 'contains',    // ['contains', 'is', 'begins', 'ends']\n            silent: true,\n            align: 'both',        // same width as control\n            altRows: true,          // alternate row color\n            openOnFocus: false,         // if to show overlay onclick or when typing\n            markSearch: true,\n            renderDrop: null,          // render function for drop down item\n            renderItem: null,          // render selected item\n            compare: null,          // compare function for filtering\n            filter: true,          // alias for compare\n            style: '',            // style for container div\n            onSearch: null,          // when search needs to be performed\n            onRequest: null,          // when request is submitted\n            onLoad: null,          // when data is received\n            onError: null,          // when data fails to load due to server error or other failure modes\n            onClick: null,          // when an item is clicked\n            onAdd: null,          // when an item is added\n            onNew: null,          // when new item should be added\n            onRemove: null,          // when an item is removed\n            onMouseOver: null,          // when an item is mouse over\n            onMouseOut: null,          // when an item is mouse out\n            onScroll: null           // when div with selected items is scrolled\n          };\n          options = $.extend({}, defaults, options, { suffix: '' });\n          if (typeof options.items == 'function') {\n            options._items_fun = options.items\n          }\n          options.items = w2obj.field.prototype.normMenu.call(this, options.items);\n          options.selected = w2obj.field.prototype.normMenu.call(this, options.selected);\n          this.options = options;\n          if (!$.isArray(options.selected)) options.selected = [];\n          $(this.el).data('selected', options.selected);\n          if (options.url) {\n            options.items = [];\n            this.request(0);\n          }\n          this.addSuffix();\n          this.addMulti();\n          this.watchSize();\n          break;\n\n        case 'file':\n          defaults = {\n            selected: [],\n            max: 0,\n            maxSize: 0,        // max size of all files, 0 - unlim\n            maxFileSize: 0,        // max size of a single file, 0 -unlim\n            maxWidth: 250,      // max width for a single item\n            maxHeight: 350,      // max height for input control to grow\n            maxDropHeight: 350,      // max height for drop down menu\n            maxDropWidth: null,     // if null then auto set\n            readContent: true,     // if true, it will readAsDataURL content of the file\n            silent: true,\n            align: 'both',   // same width as control\n            altRows: true,     // alternate row color\n            renderItem: null,     // render selected item\n            style: '',       // style for container div\n            onClick: null,     // when an item is clicked\n            onAdd: null,     // when an item is added\n            onRemove: null,     // when an item is removed\n            onMouseOver: null,     // when an item is mouse over\n            onMouseOut: null      // when an item is mouse out\n          };\n          options = $.extend({}, defaults, options);\n          this.options = options;\n          if (!$.isArray(options.selected)) options.selected = [];\n          $(this.el).data('selected', options.selected);\n          if ($(this.el).attr('placeholder') == null) {\n            $(this.el).attr('placeholder', w2utils.lang('Attach files by dragging and dropping or Click to Select'));\n          }\n          this.addMulti();\n          this.watchSize();\n          break;\n      }\n      // attach events\n      this.tmp = {\n        onChange: function (event) { obj.change.call(obj, event); },\n        onClick: function (event) { obj.click.call(obj, event); },\n        onFocus: function (event) { obj.focus.call(obj, event); },\n        onBlur: function (event) { obj.blur.call(obj, event); },\n        onKeydown: function (event) { obj.keyDown.call(obj, event); },\n        onKeyup: function (event) { obj.keyUp.call(obj, event); },\n        onKeypress: function (event) { obj.keyPress.call(obj, event); }\n      };\n      $(this.el)\n        .addClass('w2field w2ui-input')\n        .data('w2field', this)\n        .on('change.w2field', this.tmp.onChange)\n        .on('click.w2field', this.tmp.onClick)         // ignore click because it messes overlays\n        .on('focus.w2field', this.tmp.onFocus)\n        .on('blur.w2field', this.tmp.onBlur)\n        .on('keydown.w2field', this.tmp.onKeydown)\n        .on('keyup.w2field', this.tmp.onKeyup)\n        .on('keypress.w2field', this.tmp.onKeypress)\n        .css(w2utils.cssPrefix('box-sizing', 'border-box'));\n      // format initial value\n      this.change($.Event('change'));\n    },\n\n    watchSize: function () {\n      var obj = this;\n      var tmp = $(obj.el).data('tmp') || {};\n      tmp.sizeTimer = setInterval(function () {\n        if ($(obj.el).parents('body').length > 0) {\n          obj.resize();\n        } else {\n          clearInterval(tmp.sizeTimer);\n        }\n      }, 200);\n      $(obj.el).data('tmp', tmp);\n    },\n\n    get: function () {\n      var ret;\n      if (['list', 'enum', 'file'].indexOf(this.type) !== -1) {\n        ret = $(this.el).data('selected');\n      } else {\n        ret = $(this.el).val();\n      }\n      return ret;\n    },\n\n    set: function (val, append) {\n      if (['list', 'enum', 'file'].indexOf(this.type) !== -1) {\n        if (this.type !== 'list' && append) {\n          if ($(this.el).data('selected') == null) $(this.el).data('selected', []);\n          $(this.el).data('selected').push(val);\n          $(this.el).trigger('input').change();\n        } else {\n          var it = (this.type === 'enum' ? [val] : val);\n          $(this.el).data('selected', it).trigger('input').change();\n        }\n        this.refresh();\n      } else {\n        $(this.el).val(val);\n      }\n    },\n\n    setIndex: function (ind, append) {\n      if (['list', 'enum'].indexOf(this.type) !== -1) {\n        var items = this.options.items;\n        if (items && items[ind]) {\n          if (this.type !== 'list' && append) {\n            if ($(this.el).data('selected') == null) $(this.el).data('selected', []);\n            $(this.el).data('selected').push(items[ind]);\n            $(this.el).trigger('input').change();\n          } else {\n            var it = (this.type === 'enum' ? [items[ind]] : items[ind]);\n            $(this.el).data('selected', it).trigger('input').change();\n          }\n          this.refresh();\n          return true;\n        }\n      }\n      return false;\n    },\n\n    clear: function () {\n      var options = this.options;\n      // if money then clear value\n      if (['money', 'currency'].indexOf(this.type) !== -1) {\n        $(this.el).val($(this.el).val().replace(options.moneyRE, ''));\n      }\n      if (this.type === 'percent') {\n        $(this.el).val($(this.el).val().replace(/%/g, ''));\n      }\n      if (this.type === 'list') {\n        $(this.el).removeClass('w2ui-select');\n      }\n      this.type = 'clear';\n      var tmp = $(this.el).data('tmp');\n      if (!this.tmp) return;\n      // restore paddings\n      if (tmp != null) {\n        $(this.el).height('auto');\n        if (tmp && tmp['old-padding-left']) $(this.el).css('padding-left', tmp['old-padding-left']);\n        if (tmp && tmp['old-padding-right']) $(this.el).css('padding-right', tmp['old-padding-right']);\n        if (tmp && tmp['old-background-color']) $(this.el).css('background-color', tmp['old-background-color']);\n        if (tmp && tmp['old-border-color']) $(this.el).css('border-color', tmp['old-border-color']);\n        // remove resize watcher\n        clearInterval(tmp.sizeTimer);\n      }\n      // remove events and (data)\n      $(this.el)\n        .val(this.clean($(this.el).val()))\n        .removeClass('w2field')\n        .removeData()       // removes all attached data\n        .off('.w2field');   // remove only events added by w2field\n      // remove helpers\n      for (var h in this.helpers) $(this.helpers[h]).remove();\n      this.helpers = {};\n    },\n\n    refresh: function () {\n      var obj = this;\n      var options = this.options;\n      var selected = $(this.el).data('selected');\n      var time = (new Date()).getTime();\n      // enum\n      if (['list'].indexOf(this.type) !== -1) {\n        $(obj.el).parent().css('white-space', 'nowrap'); // needs this for arrow always to appear on the right side\n        // hide focus and show text\n        if (obj.helpers.prefix) obj.helpers.prefix.hide();\n        setTimeout(function () {\n          if (!obj.helpers.focus) return;\n          // if empty show no icon\n          if (!$.isEmptyObject(selected) && options.icon) {\n            options.prefix = '<span class=\"w2ui-icon ' + options.icon + '\"style=\"cursor: pointer; font-size: 14px;' +\n              ' display: inline-block; margin-top: -1px; color: #7F98AD;' + options.iconStyle + '\">' +\n              '</span>';\n            obj.addPrefix();\n          } else {\n            options.prefix = '';\n            obj.addPrefix();\n          }\n          // focus helper\n          var focus = obj.helpers.focus.find('input');\n          if ($(focus).val() === '') {\n            $(focus).css('text-indent', '-9999em').prev().css('opacity', 0);\n            $(obj.el).val(selected && selected.text != null ? w2utils.lang(selected.text) : '');\n          } else {\n            $(focus).css('text-indent', 0).prev().css('opacity', 1);\n            $(obj.el).val('');\n            setTimeout(function () {\n              if (obj.helpers.prefix) obj.helpers.prefix.hide();\n              var tmp = 'position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;';\n              if (options.icon) {\n                $(focus).css('margin-left', '17px');\n                $(obj.helpers.focus).find('.icon-search').attr('style', tmp + 'width: 11px !important; opacity: 1; display: block');\n              } else {\n                $(focus).css('margin-left', '0px');\n                $(obj.helpers.focus).find('.icon-search').attr('style', tmp + 'width: 0px !important; opacity: 0; display: none');\n              }\n            }, 1);\n          }\n          // if readonly or disabled\n          if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) {\n            setTimeout(function () {\n              $(obj.helpers.prefix).css('opacity', '0.6');\n              $(obj.helpers.suffix).css('opacity', '0.6');\n            }, 1);\n          } else {\n            setTimeout(function () {\n              $(obj.helpers.prefix).css('opacity', '1');\n              $(obj.helpers.suffix).css('opacity', '1');\n            }, 1);\n          }\n        }, 1);\n      }\n      if (['enum', 'file'].indexOf(this.type) !== -1) {\n        var html = '';\n        if (selected) {\n          for (var s = 0; s < selected.length; s++) {\n            var it = selected[s];\n            var ren = '';\n            if (typeof options.renderItem === 'function') {\n              ren = options.renderItem(it, s, '<div class=\"w2ui-list-remove\" title=\"' + w2utils.lang('Remove') + '\" index=\"' + s + '\">&#160;&#160;</div>');\n            } else {\n              ren = '<div class=\"w2ui-list-remove\" title=\"' + w2utils.lang('Remove') + '\" index=\"' + s + '\">&#160;&#160;</div>' +\n                (obj.type === 'enum' ? it.text : it.name + '<span class=\"file-size\"> - ' + w2utils.formatSize(it.size) + '</span>');\n            }\n            html += '<li index=\"' + s + '\" style=\"max-width: ' + parseInt(options.maxWidth) + 'px; ' + (it.style ? it.style : '') + '\">' +\n              ren + '</li>';\n          }\n        }\n        var div = obj.helpers.multi;\n        var ul = div.find('ul');\n        div.attr('style', div.attr('style') + ';' + options.style);\n        $(obj.el).css('z-index', '-1');\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) {\n          setTimeout(function () {\n            div[0].scrollTop = 0; // scroll to the top\n            div.addClass('w2ui-readonly')\n              .find('li').css('opacity', '0.9')\n              .parent().find('li.nomouse').hide()\n              .find('input').prop('readonly', true)\n              .parents('ul')\n              .find('.w2ui-list-remove').hide();\n          }, 1);\n        } else {\n          setTimeout(function () {\n            div.removeClass('w2ui-readonly')\n              .find('li').css('opacity', '1')\n              .parent().find('li.nomouse').show()\n              .find('input').prop('readonly', false)\n              .parents('ul')\n              .find('.w2ui-list-remove').show();\n          }, 1);\n        }\n\n        // clean\n        div.find('.w2ui-enum-placeholder').remove();\n        ul.find('li').not('li.nomouse').remove();\n        // add new list\n        if (html !== '') {\n          ul.prepend(html);\n        } else if ($(obj.el).attr('placeholder') != null && div.find('input').val() === '') {\n          var style =\n            'padding-top: ' + $(this.el).css('padding-top') + ';' +\n            'padding-left: ' + $(this.el).css('padding-left') + '; ' +\n            'box-sizing: ' + $(this.el).css('box-sizing') + '; ' +\n            'line-height: ' + $(this.el).css('line-height') + '; ' +\n            'font-size: ' + $(this.el).css('font-size') + '; ' +\n            'font-family: ' + $(this.el).css('font-family') + '; ';\n          div.prepend('<div class=\"w2ui-enum-placeholder\" style=\"' + style + '\">' + $(obj.el).attr('placeholder') + '</div>');\n        }\n        // ITEMS events\n        div.off('scroll.w2field').on('scroll.w2field', function (event) {\n          var edata = obj.trigger({ phase: 'before', type: 'scroll', target: obj.el, originalEvent: event });\n          if (edata.isCancelled === true) return;\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        })\n          .find('li')\n          .data('mouse', 'out')\n          .on('click', function (event) {\n            var target = (event.target.tagName.toUpperCase() === 'LI' ? event.target : $(event.target).parents('LI'));\n            var item = selected[$(target).attr('index')];\n            if ($(target).hasClass('nomouse')) return;\n            event.stopPropagation();\n            // default behavior\n            if ($(event.target).hasClass('w2ui-list-remove')) {\n              if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n              // trigger event\n              var edata = obj.trigger({ phase: 'before', type: 'remove', target: obj.el, originalEvent: event.originalEvent, item: item });\n              if (edata.isCancelled === true) return;\n              // default behavior\n              $().w2overlay();\n              selected.splice($(event.target).attr('index'), 1);\n              $(obj.el).trigger('input').trigger('change');\n              $(event.target).parent().fadeOut('fast');\n              setTimeout(function () {\n                obj.refresh();\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              }, 300);\n            } else {\n              // trigger event\n              var edata = obj.trigger({ phase: 'before', type: 'click', target: obj.el, originalEvent: event.originalEvent, item: item });\n              if (edata.isCancelled === true) return;\n              // if file - show image preview\n              if (obj.type === 'file') {\n                var preview = '';\n                if ((/image/i).test(item.type)) { // image\n                  preview = '<div style=\"padding: 3px;\">' +\n                    '    <img src=\"' + (item.content ? 'data:' + item.type + ';base64,' + item.content : '') + '\" style=\"max-width: 300px;\" ' +\n                    '        onload=\"var w = jQuery(this).width(); var h = jQuery(this).height(); ' +\n                    '            if (w < 300 & h < 300) return; ' +\n                    '            if (w >= h && w > 300) jQuery(this).width(300);' +\n                    '            if (w < h && h > 300) jQuery(this).height(300);\"' +\n                    '        onerror=\"this.style.display = \\'none\\'\"' +\n                    '    >' +\n                    '</div>';\n                }\n                var td1 = 'style=\"padding: 3px; text-align: right; color: #777;\"';\n                var td2 = 'style=\"padding: 3px\"';\n                preview += '<div style=\"padding: 8px;\">' +\n                  '    <table cellpadding=\"2\"><tbody>' +\n                  '    <tr><td ' + td1 + '>' + w2utils.lang('Name') + ':</td><td ' + td2 + '>' + item.name + '</td></tr>' +\n                  '    <tr><td ' + td1 + '>' + w2utils.lang('Size') + ':</td><td ' + td2 + '>' + w2utils.formatSize(item.size) + '</td></tr>' +\n                  '    <tr><td ' + td1 + '>' + w2utils.lang('Type') + ':</td><td ' + td2 + '>' +\n                  '        <span style=\"width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap=\"nowrap\";\">' + item.type + '</span>' +\n                  '    </td></tr>' +\n                  '    <tr><td ' + td1 + '>' + w2utils.lang('Modified') + ':</td><td ' + td2 + '>' + w2utils.date(item.modified) + '</td></tr>' +\n                  '    </tbody></table>' +\n                  '</div>';\n                $('#w2ui-overlay').remove();\n                $(target).w2overlay(preview);\n              }                            // event after\n              obj.trigger($.extend(edata, { phase: 'after' }));\n            }\n          })\n          .on('mouseover', function (event) {\n            var target = (event.target.tagName.toUpperCase() === 'LI' ? event.target : $(event.target).parents('LI'));\n            if ($(target).hasClass('nomouse')) return;\n            if ($(target).data('mouse') === 'out') {\n              var item = selected[$(event.target).attr('index')];\n              // trigger event\n              var edata = obj.trigger({ phase: 'before', type: 'mouseOver', target: obj.el, originalEvent: event.originalEvent, item: item });\n              if (edata.isCancelled === true) return;\n              // event after\n              obj.trigger($.extend(edata, { phase: 'after' }));\n            }\n            $(target).data('mouse', 'over');\n          })\n          .on('mouseout', function (event) {\n            var target = (event.target.tagName.toUpperCase() === 'LI' ? event.target : $(event.target).parents('LI'));\n            if ($(target).hasClass('nomouse')) return;\n            $(target).data('mouse', 'leaving');\n            setTimeout(function () {\n              if ($(target).data('mouse') === 'leaving') {\n                $(target).data('mouse', 'out');\n                var item = selected[$(event.target).attr('index')];\n                // trigger event\n                var edata = obj.trigger({ phase: 'before', type: 'mouseOut', target: obj.el, originalEvent: event.originalEvent, item: item });\n                if (edata.isCancelled === true) return;\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              }\n            }, 0);\n          });\n        // adjust height\n        $(this.el).height('auto');\n        var cntHeight = $(div).find('> div.w2ui-multi-items').height() + w2utils.getSize(div, '+height') * 2;\n        if (cntHeight < 26) cntHeight = 26;\n        if (cntHeight > options.maxHeight) cntHeight = options.maxHeight;\n        if (div.length > 0) div[0].scrollTop = 1000;\n        var inpHeight = w2utils.getSize($(this.el), 'height') - 2;\n        if (inpHeight > cntHeight) cntHeight = inpHeight;\n        $(div).css({ 'height': cntHeight + 'px', overflow: (cntHeight == options.maxHeight ? 'auto' : 'hidden') });\n        if (cntHeight < options.maxHeight) $(div).prop('scrollTop', 0);\n        $(this.el).css({ 'height': (cntHeight + 0) + 'px' });\n        // update size\n        if (obj.type === 'enum') {\n          var tmp = obj.helpers.multi.find('input');\n          tmp.width(((tmp.val().length + 2) * 8) + 'px');\n        }\n      }\n      return (new Date()).getTime() - time;\n    },\n\n    reset: function () {\n      var type = this.type;\n      this.clear();\n      this.type = type;\n      this.init();\n    },\n\n    // resizing width of list, enum, file controls\n    resize: function () {\n      var obj = this;\n      var new_width = $(obj.el).width();\n      var new_height = $(obj.el).height();\n      if (obj.tmp.current_width == new_width && new_height > 0) return;\n\n      var focus = this.helpers.focus;\n      var multi = this.helpers.multi;\n      var suffix = this.helpers.suffix;\n      var prefix = this.helpers.prefix;\n\n      // resize helpers\n      if (focus) {\n        focus.width($(obj.el).width());\n      }\n      if (multi) {\n        var width = (w2utils.getSize(obj.el, 'width')\n          - parseInt($(obj.el).css('margin-left'), 10)\n          - parseInt($(obj.el).css('margin-right'), 10));\n        $(multi).width(width);\n      }\n      if (suffix) {\n        obj.options.suffix = '<div class=\"arrow-down\" style=\"margin-top: ' + ((parseInt($(obj.el).height()) - 6) / 2) + 'px;\"></div>';\n        obj.addSuffix();\n      }\n      if (prefix) {\n        obj.addPrefix();\n      }\n      // remember width\n      obj.tmp.current_width = new_width;\n    },\n\n    clean: function (val) {\n      //issue #499\n      if (typeof val === 'number') {\n        return val;\n      }\n      var options = this.options;\n      val = String(val).trim();\n      // clean\n      if (['int', 'float', 'money', 'currency', 'percent'].indexOf(this.type) !== -1) {\n        if (typeof val === 'string') {\n          if (options.autoFormat && ['money', 'currency'].indexOf(this.type) !== -1) val = String(val).replace(options.moneyRE, '');\n          if (options.autoFormat && this.type === 'percent') val = String(val).replace(options.percentRE, '');\n          if (options.autoFormat && ['int', 'float'].indexOf(this.type) !== -1) val = String(val).replace(options.numberRE, '');\n          val = val.replace(/\\s+/g, '').replace(w2utils.settings.groupSymbol, '').replace(w2utils.settings.decimalSymbol, '.');\n        }\n        if (parseFloat(val) == val) {\n          if (options.min != null && val < options.min) { val = options.min; $(this.el).val(options.min); }\n          if (options.max != null && val > options.max) { val = options.max; $(this.el).val(options.max); }\n        }\n        if (val !== '' && w2utils.isFloat(val)) val = Number(val); else val = '';\n      }\n      return val;\n    },\n\n    format: function (val) {\n      var options = this.options;\n      // autoformat numbers or money\n      if (options.autoFormat && val !== '') {\n        switch (this.type) {\n          case 'money':\n          case 'currency':\n            val = w2utils.formatNumber(val, options.currencyPrecision, options.groupSymbol);\n            if (val !== '') val = options.currencyPrefix + val + options.currencySuffix;\n            break;\n          case 'percent':\n            val = w2utils.formatNumber(val, options.precision, options.groupSymbol);\n            if (val !== '') val += '%';\n            break;\n          case 'float':\n            val = w2utils.formatNumber(val, options.precision, options.groupSymbol);\n            break;\n          case 'int':\n            val = w2utils.formatNumber(val, 0, options.groupSymbol);\n            break;\n        }\n      }\n      return val;\n    },\n\n    change: function (event) {\n      var obj = this;\n      var options = obj.options;\n      // numeric\n      if (['int', 'float', 'money', 'currency', 'percent'].indexOf(this.type) !== -1) {\n        // check max/min\n        var val = $(this.el).val();\n        var new_val = this.format(this.clean($(this.el).val()));\n        // if was modified\n        if (val !== '' && val != new_val) {\n          $(this.el).val(new_val).trigger('input').change();\n          // cancel event\n          event.stopPropagation();\n          event.preventDefault();\n          return false;\n        }\n      }\n      // color\n      if (this.type === 'color') {\n        var color = $(this.el).val();\n        if (color.substr(0, 3).toLowerCase() !== 'rgb') {\n          color = '#' + color;\n          var len = $(this.el).val().length\n          if (len !== 8 && len !== 6 && len !== 3) color = '';\n        }\n        $(this.el).next().find('div').css('background-color', color);\n        if ($(this.el).hasClass('has-focus') && $(this.el).data('skipInit') !== true) {\n          this.updateOverlay();\n        }\n      }\n      // list, enum\n      if (['list', 'enum', 'file'].indexOf(this.type) !== -1) {\n        obj.refresh();\n        // need time out to show icon indent properly\n        setTimeout(function () { obj.refresh(); }, 5);\n      }\n      // date, time\n      if (['date', 'time', 'datetime'].indexOf(this.type) !== -1) {\n        // convert linux timestamps\n        var tmp = parseInt(obj.el.value);\n        if (w2utils.isInt(obj.el.value) && tmp > 3000) {\n          if (this.type === 'time') $(obj.el).val(w2utils.formatTime(new Date(tmp), options.format)).trigger('input').change();\n          if (this.type === 'date') $(obj.el).val(w2utils.formatDate(new Date(tmp), options.format)).trigger('input').change();\n          if (this.type === 'datetime') $(obj.el).val(w2utils.formatDateTime(new Date(tmp), options.format)).trigger('input').change();\n        }\n      }\n    },\n\n    click: function (event) {\n      event.stopPropagation();\n      // lists\n      if (['list', 'combo', 'enum'].indexOf(this.type) !== -1) {\n        if (!$(this.el).hasClass('has-focus')) this.focus(event);\n      }\n      // other fields with drops\n      if (['date', 'time', 'color', 'datetime'].indexOf(this.type) !== -1) {\n        this.updateOverlay();\n      }\n    },\n\n    focus: function (event) {\n      var obj = this;\n      $(obj.el).addClass('has-focus')\n      // color, date, time\n      if (['color', 'date', 'time', 'datetime'].indexOf(obj.type) !== -1) {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n        setTimeout(function () { obj.updateOverlay(); }, 150);\n      }\n      // menu\n      if (['list', 'combo', 'enum'].indexOf(obj.type) !== -1) {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n        obj.resize();\n        setTimeout(function () {\n          if (obj.type === 'list' && $(obj.el).is(':focus')) { // need to stay .is(':focus')\n            $(obj.helpers.focus).find('input').focus();\n            return;\n          }\n          obj.search();\n          setTimeout(function () { obj.updateOverlay(); }, 1);\n        }, 1);\n        // regenerat items\n        if (typeof obj.options._items_fun == 'function') {\n          obj.options.items = w2obj.field.prototype.normMenu.call(this, obj.options._items_fun);\n        }\n      }\n      // file\n      if (obj.type === 'file') {\n        $(obj.helpers.multi).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '2px' });\n      }\n    },\n\n    blur: function (event) {\n      var obj = this;\n      var options = obj.options;\n      var val = $(obj.el).val().trim();\n      var $overlay = $(\"#w2ui-overlay\");\n      $(obj.el).removeClass('has-focus')\n\n      // hide overlay\n      if (['color', 'date', 'time', 'list', 'combo', 'enum', 'datetime'].indexOf(obj.type) !== -1) {\n        var closeTimeout = window.setTimeout(function () {\n          if ($overlay.data('keepOpen') !== true) $overlay.hide();\n        }, 0);\n\n        $(\".menu\", $overlay).one('focus', function () {\n          clearTimeout(closeTimeout);\n          $(this).one('focusout', function (event) {\n            $overlay.hide();\n          });\n        });\n      }\n      if (['int', 'float', 'money', 'currency', 'percent'].indexOf(obj.type) !== -1) {\n        if (val !== '' && !obj.checkType(val)) {\n          $(obj.el).val('').trigger('input').change();\n          if (options.silent === false) {\n            $(obj.el).w2tag('Not a valid number');\n            setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n          }\n        }\n      }\n      // date or time\n      if (['date', 'time', 'datetime'].indexOf(obj.type) !== -1) {\n        // check if in range\n        if (val !== '' && !obj.inRange(obj.el.value)) {\n          $(obj.el).val('').removeData('selected').trigger('input').change();\n          if (options.silent === false) {\n            $(obj.el).w2tag('Not in range');\n            setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n          }\n        } else {\n          if (obj.type === 'date' && val !== '' && !w2utils.isDate(obj.el.value, options.format)) {\n            $(obj.el).val('').removeData('selected').trigger('input').change();\n            if (options.silent === false) {\n              $(obj.el).w2tag('Not a valid date');\n              setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n            }\n          }\n          else if (obj.type === 'time' && val !== '' && !w2utils.isTime(obj.el.value)) {\n            $(obj.el).val('').removeData('selected').trigger('input').change();\n            if (options.silent === false) {\n              $(obj.el).w2tag('Not a valid time');\n              setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n            }\n          }\n          else if (obj.type === 'datetime' && val !== '' && !w2utils.isDateTime(obj.el.value, options.format)) {\n            $(obj.el).val('').removeData('selected').trigger('input').change();\n            if (options.silent === false) {\n              $(obj.el).w2tag('Not a valid date');\n              setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n            }\n          }\n        }\n      }\n      // clear search input\n      if (obj.type === 'enum') {\n        $(obj.helpers.multi).find('input').val('').width(20);\n      }\n      // file\n      if (obj.type === 'file') {\n        $(obj.helpers.multi).css({ 'outline': 'none' });\n      }\n    },\n\n    keyPress: function (event) {\n      var obj = this;\n      var options = obj.options;\n      // ignore wrong pressed key\n      if (['int', 'float', 'money', 'currency', 'percent', 'hex', 'bin', 'color', 'alphanumeric'].indexOf(obj.type) !== -1) {\n        // keyCode & charCode differ in FireFox\n        if (event.metaKey || event.ctrlKey || event.altKey || (event.charCode != event.keyCode && event.keyCode > 0)) return;\n        var ch = String.fromCharCode(event.charCode);\n        if (!obj.checkType(ch, true) && event.keyCode != 13) {\n          event.preventDefault();\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          return false;\n        }\n      }\n      // update date popup\n      if (['date', 'time', 'datetime'].indexOf(obj.type) !== -1) {\n        if (event.keyCode !== 9) setTimeout(function () { obj.updateOverlay(); }, 1);\n      }\n    },\n\n    keyDown: function (event, extra) {\n      var obj = this;\n      var options = obj.options;\n      var key = event.keyCode || (extra && extra.keyCode);\n      var cancel = false;\n      // numeric\n      if (['int', 'float', 'money', 'currency', 'percent'].indexOf(obj.type) !== -1) {\n        if (!options.keyboard || $(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        var val = parseFloat($(obj.el).val().replace(options.moneyRE, '')) || 0;\n        var inc = options.step;\n        if (event.ctrlKey || event.metaKey) inc = 10;\n        switch (key) {\n          case 38: // up\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newValue = (val + inc <= options.max || options.max == null ? Number((val + inc).toFixed(12)) : options.max);\n            $(obj.el).val(newValue).trigger('input').change();\n            cancel = true;\n            break;\n          case 40: // down\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newValue = (val - inc >= options.min || options.min == null ? Number((val - inc).toFixed(12)) : options.min);\n            $(obj.el).val(newValue).trigger('input').change();\n            cancel = true;\n            break;\n        }\n        if (cancel) {\n          event.preventDefault();\n          setTimeout(function () {\n            // set cursor to the end\n            obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n          }, 0);\n        }\n      }\n      // date\n      if (obj.type === 'date') {\n        if (!options.keyboard || $(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        var daymil = 24 * 60 * 60 * 1000;\n        var inc = 1;\n        if (event.ctrlKey || event.metaKey) inc = 10;\n        var dt = w2utils.isDate($(obj.el).val(), options.format, true);\n        if (!dt) { dt = new Date(); daymil = 0; }\n        switch (key) {\n          case 38: // up\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newDT = w2utils.formatDate(dt.getTime() + daymil, options.format);\n            if (inc == 10) newDT = w2utils.formatDate(new Date(dt.getFullYear(), dt.getMonth() + 1, dt.getDate()), options.format);\n            $(obj.el).val(newDT).trigger('input').change();\n            cancel = true;\n            break;\n          case 40: // down\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newDT = w2utils.formatDate(dt.getTime() - daymil, options.format);\n            if (inc == 10) newDT = w2utils.formatDate(new Date(dt.getFullYear(), dt.getMonth() - 1, dt.getDate()), options.format);\n            $(obj.el).val(newDT).trigger('input').change();\n            cancel = true;\n            break;\n        }\n        if (cancel) {\n          event.preventDefault();\n          setTimeout(function () {\n            // set cursor to the end\n            obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n            obj.updateOverlay();\n          }, 0);\n        }\n      }\n      // time\n      if (obj.type === 'time') {\n        if (!options.keyboard || $(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        var inc = (event.ctrlKey || event.metaKey ? 60 : 1);\n        var val = $(obj.el).val();\n        var time = obj.toMin(val) || obj.toMin((new Date()).getHours() + ':' + ((new Date()).getMinutes() - 1));\n        switch (key) {\n          case 38: // up\n            if (event.shiftKey) break; // no action if shift key is pressed\n            time += inc;\n            cancel = true;\n            break;\n          case 40: // down\n            if (event.shiftKey) break; // no action if shift key is pressed\n            time -= inc;\n            cancel = true;\n            break;\n        }\n        if (cancel) {\n          $(obj.el).val(obj.fromMin(time)).trigger('input').change();\n          event.preventDefault();\n          setTimeout(function () {\n            // set cursor to the end\n            obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n          }, 0);\n        }\n      }\n      // datetime\n      if (obj.type === 'datetime') {\n        if (!options.keyboard || $(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        var daymil = 24 * 60 * 60 * 1000;\n        var inc = 1;\n        if (event.ctrlKey || event.metaKey) inc = 10;\n        var str = $(obj.el).val();\n        var dt = w2utils.isDateTime(str, this.options.format, true);\n        if (!dt) { dt = new Date(); daymil = 0; }\n        switch (key) {\n          case 38: // up\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newDT = w2utils.formatDateTime(dt.getTime() + daymil, options.format);\n            if (inc == 10) newDT = w2utils.formatDateTime(new Date(dt.getFullYear(), dt.getMonth() + 1, dt.getDate()), options.format);\n            $(obj.el).val(newDT).trigger('input').change();\n            cancel = true;\n            break;\n          case 40: // down\n            if (event.shiftKey) break; // no action if shift key is pressed\n            var newDT = w2utils.formatDateTime(dt.getTime() - daymil, options.format);\n            if (inc == 10) newDT = w2utils.formatDateTime(new Date(dt.getFullYear(), dt.getMonth() - 1, dt.getDate()), options.format);\n            $(obj.el).val(newDT).trigger('input').change();\n            cancel = true;\n            break;\n        }\n        if (cancel) {\n          event.preventDefault();\n          setTimeout(function () {\n            // set cursor to the end\n            obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n            obj.updateOverlay();\n          }, 0);\n        }\n      }\n      // color\n      if (obj.type === 'color') {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        // paste\n        if ((event.ctrlKey || event.metaKey) && !event.shiftKey) {\n          var dir = null;\n          var newColor = null;\n          switch (key) {\n            case 38: // up\n              dir = 'up';\n              break;\n            case 40: // down\n              dir = 'down';\n              break;\n            case 39: // right\n              dir = 'right';\n              break;\n            case 37: // left\n              dir = 'left';\n              break;\n          }\n          if (obj.el.nav && dir != null) {\n            newColor = obj.el.nav(dir);\n            $(obj.el).val(newColor).trigger('input').change();\n            event.preventDefault();\n          }\n        }\n      }\n      // list/select/combo\n      if (['list', 'combo', 'enum'].indexOf(obj.type) !== -1) {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        var selected = $(obj.el).data('selected');\n        var focus = $(obj.el);\n        var indexOnly = false;\n        if (['list', 'enum'].indexOf(obj.type) !== -1) {\n          if (obj.type === 'list') {\n            focus = $(obj.helpers.focus).find('input');\n          }\n          if (obj.type === 'enum') {\n            focus = $(obj.helpers.multi).find('input');\n          }\n          // not arrows - refresh\n          if ([37, 38, 39, 40].indexOf(key) == -1) {\n            setTimeout(function () { obj.refresh(); }, 1);\n          }\n          // paste\n          if (event.keyCode == 86 && (event.ctrlKey || event.metaKey)) {\n            setTimeout(function () {\n              obj.refresh();\n              obj.search();\n              obj.request();\n            }, 50);\n          }\n        }\n        // apply arrows\n        switch (key) {\n          case 27: // escape\n            if (obj.type === 'list') {\n              if (focus.val() !== '') focus.val('');\n              event.stopPropagation(); // escape in field should not close popup\n            }\n            break;\n          case 37: // left\n          case 39: // right\n            // indexOnly = true;\n            break;\n          case 13: // enter\n            if ($('#w2ui-overlay').length === 0) break; // no action if overlay not open\n            var item = options.items[options.index];\n            if (obj.type === 'enum') {\n              if (item != null) {\n                // trigger event\n                var edata = obj.trigger({ phase: 'before', type: 'add', target: obj.el, originalEvent: event.originalEvent, item: item });\n                if (edata.isCancelled === true) return;\n                item = edata.item; // need to reassign because it could be recreated by user\n                // default behavior\n                if (selected.length >= options.max && options.max > 0) selected.pop();\n                delete item.hidden;\n                delete obj.tmp.force_open;\n                selected.push(item);\n                $(obj.el).trigger('input').change();\n                focus.val('').width(20);\n                obj.refresh();\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              } else {\n                // trigger event\n                item = { id: focus.val(), text: focus.val() };\n                var edata = obj.trigger({ phase: 'before', type: 'new', target: obj.el, originalEvent: event.originalEvent, item: item });\n                if (edata.isCancelled === true) return;\n                item = edata.item; // need to reassign because it could be recreated by user\n                // default behavior\n                if (typeof obj.onNew === 'function') {\n                  if (selected.length >= options.max && options.max > 0) selected.pop();\n                  delete obj.tmp.force_open;\n                  selected.push(item);\n                  $(obj.el).trigger('input').change();\n                  focus.val('').width(20);\n                  obj.refresh();\n                }\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              }\n            } else {\n              if (item) $(obj.el).data('selected', item).val(item.text).trigger('input').change();\n              if ($(obj.el).val() === '' && $(obj.el).data('selected')) $(obj.el).removeData('selected').val('').trigger('input').change();\n              if (obj.type === 'list') {\n                focus.val('');\n                obj.refresh();\n              }\n              // hide overlay\n              obj.tmp.force_hide = true;\n            }\n            break;\n          case 8:  // backspace\n          case 46: // delete\n            if (obj.type === 'enum' && key === 8) {\n              if (focus.val() === '' && selected.length > 0) {\n                var item = selected[selected.length - 1];\n                // trigger event\n                var edata = obj.trigger({ phase: 'before', type: 'remove', target: obj.el, originalEvent: event.originalEvent, item: item });\n                if (edata.isCancelled === true) return;\n                // default behavior\n                selected.pop();\n                $(obj.el).trigger('input').trigger('change');\n                obj.refresh();\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              }\n            }\n            if (obj.type === 'list' && focus.val() === '') {\n              $(obj.el).data('selected', {}).trigger('input').change();\n              obj.refresh();\n            }\n            break;\n          case 38: // up\n            options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n            options.index--;\n            while (options.index > 0 && (options.items[options.index].hidden || options.items[options.index].disabled)) options.index--;\n            if (options.index === 0 && (options.items[options.index].hidden || options.items[options.index].disabled)) {\n              while (options.items[options.index] && (options.items[options.index].hidden || options.items[options.index].disabled)) options.index++;\n            }\n            indexOnly = true;\n            break;\n          case 40: // down\n            options.index = w2utils.isInt(options.index) ? parseInt(options.index) : -1;\n            options.index++;\n            while (options.index < options.items.length - 1 && (options.items[options.index].hidden || options.items[options.index].disabled)) options.index++;\n            if (options.index == options.items.length - 1 && (options.items[options.index].hidden || options.items[options.index].disabled)) {\n              while (options.items[options.index] && (options.items[options.index].hidden || options.items[options.index].disabled)) options.index--;\n            }\n            // show overlay if not shown\n            if (focus.val() === '' && $('#w2ui-overlay').length === 0) {\n              obj.tmp.force_open = true;\n            } else {\n              indexOnly = true;\n            }\n            break;\n        }\n        if (indexOnly) {\n          if (options.index < 0) options.index = 0;\n          if (options.index >= options.items.length) options.index = options.items.length - 1;\n          obj.updateOverlay(indexOnly);\n          // cancel event\n          event.preventDefault();\n          setTimeout(function () {\n            // set cursor to the end\n            if (obj.type === 'enum') {\n              var tmp = focus.get(0);\n              tmp.setSelectionRange(tmp.value.length, tmp.value.length);\n            } else if (obj.type === 'list') {\n              var tmp = focus.get(0);\n              tmp.setSelectionRange(tmp.value.length, tmp.value.length);\n            } else {\n              obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n            }\n          }, 0);\n          return;\n        }\n        // expand input\n        if (obj.type === 'enum') {\n          focus.width(((focus.val().length + 2) * 8) + 'px');\n        }\n      }\n    },\n\n    keyUp: function (event) {\n      var obj = this;\n      if (['list', 'combo', 'enum'].indexOf(this.type) !== -1) {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        // need to be here for ipad compa\n        if ([16, 17, 18, 20, 37, 39, 91].indexOf(event.keyCode) == -1) { // no refresh on crtl, shift, left/right arrows, etc\n          var input = $(this.helpers.focus).find('input');\n          if (input.length === 0) input = $(this.el); // for combo list\n          // trigger event\n          var edata = this.trigger({ phase: 'before', type: 'search', originalEvent: event, target: input, search: input.val() });\n          if (edata.isCancelled === true) return;\n          // regular\n          if (!this.tmp.force_hide) this.request();\n          if (input.val().length == 1) this.refresh();\n          if ($('#w2ui-overlay').length === 0 || [38, 40].indexOf(event.keyCode) == -1) { // no search on arrows\n            this.search();\n          }\n          // event after\n          this.trigger($.extend(edata, { phase: 'after' }));\n        }\n      }\n    },\n\n    clearCache: function () {\n      var options = this.options;\n      options.items = [];\n      this.tmp.xhr_loading = false;\n      this.tmp.xhr_search = '';\n      this.tmp.xhr_total = -1;\n    },\n\n    request: function (interval) {\n      var obj = this;\n      var options = this.options;\n      var search = $(obj.el).val() || '';\n      // if no url - do nothing\n      if (!options.url) return;\n      // --\n      if (obj.type === 'enum') {\n        var tmp = $(obj.helpers.multi).find('input');\n        if (tmp.length === 0) search = ''; else search = tmp.val();\n      }\n      if (obj.type === 'list') {\n        var tmp = $(obj.helpers.focus).find('input');\n        if (tmp.length === 0) search = ''; else search = tmp.val();\n      }\n      if (options.minLength !== 0 && search.length < options.minLength) {\n        options.items = []; // need to empty the list\n        this.updateOverlay();\n        return;\n      }\n      if (interval == null) interval = options.interval;\n      if (obj.tmp.xhr_search == null) obj.tmp.xhr_search = '';\n      if (obj.tmp.xhr_total == null) obj.tmp.xhr_total = -1;\n      // check if need to search\n      if (options.url && (\n        (options.items.length === 0 && obj.tmp.xhr_total !== 0) ||\n        (obj.tmp.xhr_total == options.cacheMax && search.length > obj.tmp.xhr_search.length) ||\n        (search.length >= obj.tmp.xhr_search.length && search.substr(0, obj.tmp.xhr_search.length) !== obj.tmp.xhr_search) ||\n        (search.length < obj.tmp.xhr_search.length)\n      )) {\n        // empty list\n        if (obj.tmp.xhr) try { obj.tmp.xhr.abort(); } catch (e) { }\n        obj.tmp.xhr_loading = true;\n        obj.search();\n        // timeout\n        clearTimeout(obj.tmp.timeout);\n        obj.tmp.timeout = setTimeout(function () {\n          // trigger event\n          var url = options.url;\n          var postData = {\n            search: search,\n            max: options.cacheMax\n          };\n          $.extend(postData, options.postData);\n          var edata = obj.trigger({ phase: 'before', type: 'request', search: search, target: obj.el, url: url, postData: postData });\n          if (edata.isCancelled === true) return;\n          url = edata.url;\n          postData = edata.postData;\n          var ajaxOptions = {\n            type: 'GET',\n            url: url,\n            data: postData,\n            dataType: 'JSON' // expected from server\n          };\n          if (options.method) ajaxOptions.type = options.method;\n          if (w2utils.settings.dataType === 'JSON') {\n            ajaxOptions.type = 'POST';\n            ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n            ajaxOptions.contentType = 'application/json';\n          }\n          if (w2utils.settings.dataType === 'HTTPJSON') {\n            ajaxOptions.data = { request: JSON.stringify(ajaxOptions.data) };\n          }\n          if (options.method != null) ajaxOptions.type = options.method;\n          obj.tmp.xhr = $.ajax(ajaxOptions)\n            .done(function (data, status, xhr) {\n              // trigger event\n              var edata2 = obj.trigger({ phase: 'before', type: 'load', target: obj.el, search: postData.search, data: data, xhr: xhr });\n              if (edata2.isCancelled === true) return;\n              // default behavior\n              data = edata2.data;\n              if (typeof data === 'string') data = JSON.parse(data);\n              if (data.records == null && data.items != null) {\n                // needed for backward compatibility\n                data.records = data.items;\n                delete data.items;\n              }\n              if (data.status === 'success' && data.records == null) { data.records = []; } // handles Golang marshal of empty arrays to null\n              if (data.status !== 'success' || !Array.isArray(data.records)) {\n                console.log('ERROR: server did not return proper structure. It should return', { status: 'success', records: [{ id: 1, text: 'item' }] });\n                return;\n              }\n              // remove all extra items if more then needed for cache\n              if (data.records.length > options.cacheMax) data.records.splice(options.cacheMax, 100000);\n              // map id and text\n              if (options.recId == null && options.recid != null) options.recId = options.recid; // since lower-case recid is used in grid\n              if (options.recId || options.recText) {\n                data.records.forEach(function (item) {\n                  if (typeof options.recId === 'string') item.id = item[options.recId];\n                  if (typeof options.recId === 'function') item.id = options.recId(item);\n                  if (typeof options.recText === 'string') item.text = item[options.recText];\n                  if (typeof options.recText === 'function') item.text = options.recText(item);\n                });\n              }\n              // remember stats\n              obj.tmp.xhr_loading = false;\n              obj.tmp.xhr_search = search;\n              obj.tmp.xhr_total = data.records.length;\n              obj.tmp.lastError = '';\n              options.items = obj.normMenu(data.records);\n              if (search === '' && data.records.length === 0) obj.tmp.emptySet = true; else obj.tmp.emptySet = false;\n              // preset item\n              var find_selected = $(obj.el).data('find_selected');\n              if (find_selected) {\n                var sel;\n                if (Array.isArray(find_selected)) {\n                  sel = [];\n                  find_selected.forEach(function (find) {\n                    var isFound = false\n                    options.items.forEach(function (item) {\n                      if (item.id == find || (find && find.id == item.id)) {\n                        sel.push($.extend(true, {}, item));\n                        isFound = true\n                      }\n                    })\n                    if (!isFound) sel.push(find)\n                  })\n                } else {\n                  sel = find_selected;\n                  options.items.forEach(function (item) {\n                    if (item.id == find_selected || (find_selected && find_selected.id == item.id)) {\n                      sel = item\n                    }\n                  })\n                }\n                $(obj.el).data('selected', sel).removeData('find_selected').trigger('input').change();\n              }\n              obj.search();\n              // event after\n              obj.trigger($.extend(edata2, { phase: 'after' }));\n            })\n            .fail(function (xhr, status, error) {\n              // trigger event\n              var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n              var edata2 = obj.trigger({ phase: 'before', type: 'error', target: obj.el, search: search, error: errorObj, xhr: xhr });\n              if (edata2.isCancelled === true) return;\n              // default behavior\n              if (status !== 'abort') {\n                var data;\n                try { data = $.parseJSON(xhr.responseText); } catch (e) { }\n                console.log('ERROR: Server communication failed.',\n                  '\\n   EXPECTED:', { status: 'success', records: [{ id: 1, text: 'item' }] },\n                  '\\n         OR:', { status: 'error', message: 'error message' },\n                  '\\n   RECEIVED:', typeof data === 'object' ? data : xhr.responseText);\n              }\n              // reset stats\n              obj.tmp.xhr_loading = false;\n              obj.tmp.xhr_search = search;\n              obj.tmp.xhr_total = 0;\n              obj.tmp.emptySet = true;\n              obj.tmp.lastError = (edata2.error || 'Server communication failed');\n              options.items = [];\n              obj.clearCache();\n              obj.search();\n              obj.updateOverlay(false);\n              // event after\n              obj.trigger($.extend(edata2, { phase: 'after' }));\n            });\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        }, interval);\n      }\n    },\n\n    search: function () {\n      var obj = this;\n      var options = this.options;\n      var search = $(obj.el).val();\n      var target = obj.el;\n      var ids = [];\n      var selected = $(obj.el).data('selected');\n      if (obj.type === 'enum') {\n        target = $(obj.helpers.multi).find('input');\n        search = target.val();\n        for (var s in selected) { if (selected[s]) ids.push(selected[s].id); }\n      }\n      else if (obj.type === 'list') {\n        target = $(obj.helpers.focus).find('input');\n        search = target.val();\n        for (var s in selected) { if (selected[s]) ids.push(selected[s].id); }\n      }\n      var items = options.items;\n      if (obj.tmp.xhr_loading !== true) {\n        var shown = 0;\n        for (var i = 0; i < items.length; i++) {\n          var item = items[i];\n          if (options.compare != null) {\n            if (typeof options.compare === 'function') {\n              item.hidden = (options.compare.call(this, item, search) === false ? true : false);\n            }\n          } else {\n            var prefix = '';\n            var suffix = '';\n            if (['is', 'begins'].indexOf(options.match) !== -1) prefix = '^';\n            if (['is', 'ends'].indexOf(options.match) !== -1) suffix = '$';\n            try {\n              var re = new RegExp(prefix + search + suffix, 'i');\n              if (re.test(item.text) || item.text === '...') item.hidden = false; else item.hidden = true;\n            } catch (e) { }\n          }\n          if (options.filter === false) item.hidden = false;\n          // do not show selected items\n          if (obj.type === 'enum' && $.inArray(item.id, ids) !== -1) item.hidden = true;\n          if (item.hidden !== true) { shown++; delete item.hidden; }\n        }\n        // preselect first item\n        options.index = -1;\n        while (items[options.index] && items[options.index].hidden) options.index++;\n        if (shown <= 0) options.index = -1;\n        options.spinner = false;\n        obj.updateOverlay();\n        setTimeout(function () {\n          var html = $('#w2ui-overlay').html() || '';\n          if (options.markSearch && html.indexOf('$.fn.w2menuHandler') !== -1) { // do not highlight when no items\n            $('#w2ui-overlay').w2marker(search);\n          }\n        }, 1);\n      } else {\n        items.splice(0, options.cacheMax);\n        options.spinner = true;\n        obj.updateOverlay();\n      }\n    },\n\n    updateOverlay: function (indexOnly) {\n      var obj = this;\n      var options = this.options;\n      // color\n      if (this.type === 'color') {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        $(this.el).w2color({\n          color: $(this.el).val(),\n          transparent: options.transparent,\n          advanced: options.advanced\n        },\n          function (color) {\n            if (color == null) return;\n            $(obj.el).val(color).trigger('input').change();\n          });\n      }\n      // date\n      if (this.type === 'date') {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        if ($('#w2ui-overlay').length === 0) {\n          $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar\"></div>', {\n            css: { \"background-color\": \"#f5f5f5\" },\n            onShow: function (event) {\n              // this needed for IE 11 compatibility\n              if (w2utils.isIE) {\n                $('.w2ui-calendar').on('mousedown', function (event) {\n                  var $tg = $(event.target);\n                  if ($tg.length === 1 && $tg[0].id === 'w2ui-jump-year') {\n                    $('#w2ui-overlay').data('keepOpen', true);\n                  }\n                });\n              }\n            }\n          });\n        }\n        var month, year;\n        var dt = w2utils.isDate($(obj.el).val(), obj.options.format, true);\n        if (dt) { month = dt.getMonth() + 1; year = dt.getFullYear(); }\n        (function refreshCalendar(month, year) {\n          $('#w2ui-overlay > div > div').html(obj.getMonthHTML(month, year, $(obj.el).val()));\n          $('#w2ui-overlay .w2ui-calendar-title')\n            .on('mousedown', function () {\n              if ($(this).next().hasClass('w2ui-calendar-jump')) {\n                $(this).next().remove();\n              } else {\n                var selYear, selMonth;\n                $(this).after('<div class=\"w2ui-calendar-jump\" style=\"\"></div>');\n                $(this).next().hide().html(obj.getYearHTML()).fadeIn(200);\n                setTimeout(function () {\n                  $('#w2ui-overlay .w2ui-calendar-jump')\n                    .find('.w2ui-jump-month, .w2ui-jump-year')\n                    .on('click', function () {\n                      if ($(this).hasClass('w2ui-jump-month')) {\n                        $(this).parent().find('.w2ui-jump-month').removeClass('selected');\n                        $(this).addClass('selected');\n                        selMonth = $(this).attr('name');\n                      }\n                      if ($(this).hasClass('w2ui-jump-year')) {\n                        $(this).parent().find('.w2ui-jump-year').removeClass('selected');\n                        $(this).addClass('selected');\n                        selYear = $(this).attr('name');\n                      }\n                      if (selYear != null && selMonth != null) {\n                        $('#w2ui-overlay .w2ui-calendar-jump').fadeOut(100);\n                        setTimeout(function () { refreshCalendar(parseInt(selMonth) + 1, selYear); }, 100);\n                      }\n                    });\n                  $('#w2ui-overlay .w2ui-calendar-jump >:last-child').prop('scrollTop', 2000);\n                }, 1);\n              }\n            });\n          $('#w2ui-overlay .w2ui-date')\n            .on('mousedown', function () {\n              var day = $(this).attr('date');\n              $(obj.el).val(day).trigger('input').change();\n              $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n            })\n            .on('mouseup', function () {\n              setTimeout(function () {\n                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide();\n              }, 10);\n            });\n          $('#w2ui-overlay .previous').on('mousedown', function () {\n            var tmp = obj.options.current.split('/');\n            tmp[0] = parseInt(tmp[0]) - 1;\n            refreshCalendar(tmp[0], tmp[1]);\n          });\n          $('#w2ui-overlay .next').on('mousedown', function () {\n            var tmp = obj.options.current.split('/');\n            tmp[0] = parseInt(tmp[0]) + 1;\n            refreshCalendar(tmp[0], tmp[1]);\n          });\n        })(month, year);\n      }\n      // time\n      if (this.type === 'time') {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        if ($('#w2ui-overlay').length === 0) {\n          $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\" onclick=\"event.stopPropagation();\"></div>', {\n            css: { \"background-color\": \"#fff\" }\n          });\n        }\n        var h24 = (this.options.format === 'h24');\n        $('#w2ui-overlay > div').html(obj.getHourHTML());\n        $('#w2ui-overlay .w2ui-time')\n          .on('mousedown', function (event) {\n            $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n            var hour = $(this).attr('hour');\n            $(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':00' + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).trigger('input').change();\n          });\n        if (this.options.noMinutes == null || this.options.noMinutes === false) {\n          $('#w2ui-overlay .w2ui-time')\n            .on('mouseup', function () {\n              var hour = $(this).attr('hour');\n              if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n              $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\"></div>', { css: { \"background-color\": \"#fff\" } });\n              $('#w2ui-overlay > div').html(obj.getMinHTML(hour));\n              $('#w2ui-overlay .w2ui-time')\n                .on('mousedown', function () {\n                  $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                  var min = $(this).attr('min');\n                  $(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':' + (min < 10 ? 0 : '') + min + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).trigger('input').change();\n                })\n                .on('mouseup', function () {\n                  setTimeout(function () { if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide(); }, 10);\n                });\n            });\n        } else {\n          $('#w2ui-overlay .w2ui-time')\n            .on('mouseup', function () {\n              setTimeout(function () { if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide(); }, 10);\n            });\n        }\n      }\n      // datetime\n      if (this.type === 'datetime') {\n        if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n        // hide overlay if we are in the time selection\n        if ($(\"#w2ui-overlay .w2ui-time\").length > 0) $('#w2ui-overlay')[0].hide();\n        if ($('#w2ui-overlay').length === 0) {\n          $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar\" onclick=\"event.stopPropagation();\"></div>', {\n            css: { \"background-color\": \"#f5f5f5\" },\n            onShow: function (event) {\n              // this needed for IE 11 compatibility\n              if (w2utils.isIE) {\n                $('.w2ui-calendar').on('mousedown', function (event) {\n                  var $tg = $(event.target);\n                  if ($tg.length === 1 && $tg[0].id === 'w2ui-jump-year') {\n                    $('#w2ui-overlay').data('keepOpen', true);\n                  }\n                });\n              }\n            }\n          });\n        }\n        var month, year;\n        var dt = w2utils.isDateTime($(obj.el).val(), obj.options.format, true);\n        if (dt) { month = dt.getMonth() + 1; year = dt.getFullYear(); }\n        var selDate = null;\n        (function refreshCalendar(month, year) {\n          $('#w2ui-overlay > div > div').html(\n            obj.getMonthHTML(month, year, $(obj.el).val())\n            + (options.btn_now ? '<div class=\"w2ui-calendar-now now\">' + w2utils.lang('Current Date & Time') + '</div>' : '')\n          );\n          $('#w2ui-overlay .w2ui-calendar-title')\n            .on('mousedown', function () {\n              if ($(this).next().hasClass('w2ui-calendar-jump')) {\n                $(this).next().remove();\n              } else {\n                var selYear, selMonth;\n                $(this).after('<div class=\"w2ui-calendar-jump\" style=\"\"></div>');\n                $(this).next().hide().html(obj.getYearHTML()).fadeIn(200);\n                setTimeout(function () {\n                  $('#w2ui-overlay .w2ui-calendar-jump')\n                    .find('.w2ui-jump-month, .w2ui-jump-year')\n                    .on('click', function () {\n                      if ($(this).hasClass('w2ui-jump-month')) {\n                        $(this).parent().find('.w2ui-jump-month').removeClass('selected');\n                        $(this).addClass('selected');\n                        selMonth = $(this).attr('name');\n                      }\n                      if ($(this).hasClass('w2ui-jump-year')) {\n                        $(this).parent().find('.w2ui-jump-year').removeClass('selected');\n                        $(this).addClass('selected');\n                        selYear = $(this).attr('name');\n                      }\n                      if (selYear != null && selMonth != null) {\n                        $('#w2ui-overlay .w2ui-calendar-jump').fadeOut(100);\n                        setTimeout(function () { refreshCalendar(parseInt(selMonth) + 1, selYear); }, 100);\n                      }\n                    });\n                  $('#w2ui-overlay .w2ui-calendar-jump >:last-child').prop('scrollTop', 2000);\n                }, 1);\n              }\n            });\n          $('#w2ui-overlay .w2ui-date')\n            .on('mousedown', function () {\n              var day = $(this).attr('date');\n              $(obj.el).val(day).trigger('input').change();\n              $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n              selDate = new Date($(this).attr('data-date'));\n            })\n            .on('mouseup', function () {\n              // continue with time picker\n              var selHour, selMin;\n              if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n              $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\"></div>', { css: { \"background-color\": \"#fff\" } });\n              var h24 = (obj.options.format === 'h24');\n              $('#w2ui-overlay > div').html(obj.getHourHTML());\n              $('#w2ui-overlay .w2ui-time')\n                .on('mousedown', function (event) {\n                  $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                  selHour = $(this).attr('hour');\n                  selDate.setHours(selHour);\n                  var txt = w2utils.formatDateTime(selDate, obj.options.format);\n                  $(obj.el).val(txt).trigger('input').change();\n                  //$(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':00' + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).trigger('input').change();\n                });\n              if (obj.options.noMinutes == null || obj.options.noMinutes === false) {\n                $('#w2ui-overlay .w2ui-time')\n                  .on('mouseup', function () {\n                    var hour = $(this).attr('hour');\n                    if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                    $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\"></div>', { css: { \"background-color\": \"#fff\" } });\n                    $('#w2ui-overlay > div').html(obj.getMinHTML(hour));\n                    $('#w2ui-overlay .w2ui-time')\n                      .on('mousedown', function () {\n                        $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                        selMin = $(this).attr('min');\n                        selDate.setHours(selHour, selMin);\n                        var txt = w2utils.formatDateTime(selDate, obj.options.format);\n                        $(obj.el).val(txt).trigger('input').change();\n                        //$(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':' + (min < 10 ? 0 : '') + min + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).trigger('input').change();\n                      })\n                      .on('mouseup', function () {\n                        setTimeout(function () { if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide(); }, 10);\n                      });\n                  });\n              } else {\n                $('#w2ui-overlay .w2ui-time')\n                  .on('mouseup', function () {\n                    setTimeout(function () { if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide(); }, 10);\n                  });\n              }\n            });\n          $('#w2ui-overlay .previous').on('mousedown', function () {\n            var tmp = obj.options.current.split('/');\n            tmp[0] = parseInt(tmp[0]) - 1;\n            refreshCalendar(tmp[0], tmp[1]);\n          });\n          $('#w2ui-overlay .next').on('mousedown', function () {\n            var tmp = obj.options.current.split('/');\n            tmp[0] = parseInt(tmp[0]) + 1;\n            refreshCalendar(tmp[0], tmp[1]);\n          });\n          // \"now\" button\n          $('#w2ui-overlay .now')\n            .on('mousedown', function () {\n              // this currently ignores blocked days or start / end dates!\n              var tmp = w2utils.formatDateTime(new Date(), obj.options.format);\n              $(obj.el).val(tmp).trigger('input').change();\n              return false;\n            })\n            .on('mouseup', function () {\n              setTimeout(function () {\n                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide();\n              }, 10);\n            });\n        })(month, year);\n      }\n      // list\n      if (['list', 'combo', 'enum'].indexOf(this.type) !== -1) {\n        var el = this.el;\n        var input = this.el;\n        if (this.type === 'enum') {\n          el = $(this.helpers.multi);\n          input = $(el).find('input');\n        }\n        if (this.type === 'list') {\n          var sel = $(input).data('selected');\n          if ($.isPlainObject(sel) && !$.isEmptyObject(sel) && options.index == -1) {\n            options.items.forEach(function (item, ind) {\n              if (item.id === sel.id) {\n                options.index = ind;\n              }\n            });\n          }\n          input = $(this.helpers.focus).find('input');\n        }\n        if ($(this.el).hasClass('has-focus')) {\n          if (options.openOnFocus === false && $(input).val() === '' && obj.tmp.force_open !== true) {\n            $().w2overlay();\n            return;\n          }\n          if (obj.tmp.force_hide) {\n            $().w2overlay();\n            setTimeout(function () {\n              delete obj.tmp.force_hide;\n            }, 1);\n            return;\n          }\n          if ($(input).val() !== '') delete obj.tmp.force_open;\n          var msgNoItems = w2utils.lang('No matches');\n          if (options.url != null && String($(input).val()).length < options.minLength && obj.tmp.emptySet !== true) {\n            msgNoItems = options.minLength + ' ' + w2utils.lang('letters or more...');\n          }\n          if (options.url != null && $(input).val() === '' && obj.tmp.emptySet !== true) {\n            msgNoItems = w2utils.lang(options.msgSearch || 'Type to search...');\n          }\n          if (options.url == null && options.items.length === 0) msgNoItems = w2utils.lang('Empty list');\n          if (options.msgNoItems != null) {\n            var eventData = {\n              search: $(input).val(),\n              options: $.extend(true, {}, options)\n            }\n            if (options.url) {\n              eventData.remote = {\n                url: options.url,\n                empty: obj.tmp.emptySet ? true : false,\n                error: obj.tmp.lastError,\n                minLength: options.minLength\n              }\n            }\n            msgNoItems = (typeof options.msgNoItems === 'function'\n              ? options.msgNoItems(eventData)\n              : options.msgNoItems)\n          }\n          if (obj.tmp.lastError) {\n            msgNoItems = obj.tmp.lastError;\n          }\n          if (msgNoItems) {\n            msgNoItems = '<div style=\"white-space: normal; line-height: 1.3\">' + msgNoItems + '</div>';\n          }\n\n          var params = $.extend(true, {}, options, {\n            search: false,\n            render: options.renderDrop,\n            maxHeight: options.maxDropHeight,\n            maxWidth: options.maxDropWidth,\n            msgNoItems: msgNoItems,\n            // selected with mouse\n            onSelect: function (event) {\n              if (obj.type === 'enum') {\n                var selected = $(obj.el).data('selected');\n                if (event.item) {\n                  // trigger event\n                  var edata = obj.trigger({ phase: 'before', type: 'add', target: obj.el, originalEvent: event.originalEvent, item: event.item });\n                  if (edata.isCancelled === true) return;\n                  // default behavior\n                  if (selected.length >= options.max && options.max > 0) selected.pop();\n                  delete event.item.hidden;\n                  selected.push(event.item);\n                  $(obj.el).data('selected', selected).trigger('input').change();\n                  $(obj.helpers.multi).find('input').val('').width(20);\n                  obj.refresh();\n                  if (event.keepOpen !== true) {\n                    if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                  } else {\n                    var ind;\n                    params.items.forEach(function (item, i) { if (item.id == event.item.id) ind = i })\n                    if (ind != null) params.items.splice(ind, 1)\n                    params.selected = selected\n                    $(el).w2menu('refresh', params);\n                  }\n                  // event after\n                  obj.trigger($.extend(edata, { phase: 'after' }));\n                }\n              } else {\n                $(obj.el).data('selected', event.item).val(event.item.text).trigger('input').change();\n                if (obj.helpers.focus) obj.helpers.focus.find('input').val('');\n              }\n            }\n          });\n          $(el).w2menu((!indexOnly ? 'refresh' : 'refresh-index'), params);\n        }\n      }\n    },\n\n    inRange: function (str, onlyDate) {\n      var inRange = false;\n      if (this.type === 'date') {\n        var dt = w2utils.isDate(str, this.options.format, true);\n        if (dt) {\n          // enable range\n          if (this.options.start || this.options.end) {\n            var st = (typeof this.options.start === 'string' ? this.options.start : $(this.options.start).val());\n            var en = (typeof this.options.end === 'string' ? this.options.end : $(this.options.end).val());\n            var start = w2utils.isDate(st, this.options.format, true);\n            var end = w2utils.isDate(en, this.options.format, true);\n            var current = new Date(dt);\n            if (!start) start = current;\n            if (!end) end = current;\n            if (current >= start && current <= end) inRange = true;\n          } else {\n            inRange = true;\n          }\n          // block predefined dates\n          if (this.options.blocked && $.inArray(str, this.options.blocked) !== -1) inRange = false;\n\n          /*\n          clockWeekDay - type: array or integers. every element - number of week day.\n          number of weekday (1 - monday, 2 - tuesday, 3 - wensday, 4 - thursday, 5 - friday, 6 - saturday, 0 - sunday)\n          for block in calendar (for example, block all sundays so user can't choose sunday in calendar)\n          */\n          if (this.options.blockWeekDays !== null && this.options.blockWeekDays !== undefined\n            && this.options.blockWeekDays.length != undefined) {\n            var l = this.options.blockWeekDays.length;\n            for (var i = 0; i < l; i++) {\n              if (dt.getDay() == this.options.blockWeekDays[i]) {\n                inRange = false;\n              }\n            }\n          }\n        }\n      } else if (this.type === 'time') {\n        if (this.options.start || this.options.end) {\n          var tm = this.toMin(str);\n          var tm1 = this.toMin(this.options.start);\n          var tm2 = this.toMin(this.options.end);\n          if (!tm1) tm1 = tm;\n          if (!tm2) tm2 = tm;\n          if (tm >= tm1 && tm <= tm2) inRange = true;\n        } else {\n          inRange = true;\n        }\n      } else if (this.type === 'datetime') {\n        var dt = w2utils.isDateTime(str, this.options.format, true);\n        if (dt) {\n          // enable range\n          if (this.options.start || this.options.end) {\n            var start, end;\n            if (typeof this.options.start === 'object' && this.options.start instanceof Date) {\n              start = this.options.start;\n            } else {\n              var st = (typeof this.options.start === 'string' ? this.options.start : $(this.options.start).val());\n              if (st.trim() !== '') {\n                start = w2utils.isDateTime(st, this.options.format, true);\n              } else {\n                start = '';\n              }\n            }\n            if (typeof this.options.end === 'object' && this.options.end instanceof Date) {\n              end = this.options.end;\n            } else {\n              var en = (typeof this.options.end === 'string' ? this.options.end : $(this.options.end).val());\n              if (en.trim() !== '') {\n                end = w2utils.isDateTime(en, this.options.format, true);\n              } else {\n                end = '';\n              }\n            }\n            var current = dt; // new Date(dt);\n            if (!start) start = current;\n            if (!end) end = current;\n            if (onlyDate && start instanceof Date) {\n              start.setHours(0);\n              start.setMinutes(0);\n              start.setSeconds(0);\n            }\n            if (current >= start && current <= end) inRange = true;\n          } else {\n            inRange = true;\n          }\n          // block predefined dates\n          if (inRange && this.options.blocked) {\n            for (var i = 0; i < this.options.blocked.length; i++) {\n              var blocked = this.options.blocked[i];\n              if (typeof blocked === 'string') {\n                // convert string to Date object\n                blocked = w2utils.isDateTime(blocked, this.options.format, true);\n              }\n              // check for Date object with the same day\n              if (typeof blocked === 'object' && blocked instanceof Date && (blocked.getFullYear() == dt.getFullYear() && blocked.getMonth() == dt.getMonth() && blocked.getDate() == dt.getDate())) {\n                inRange = false;\n                break;\n              }\n            }\n          }\n        }\n      }\n      return inRange;\n    },\n\n    /*\n    *  INTERNAL FUNCTIONS\n    */\n\n    checkType: function (ch, loose) {\n      var obj = this;\n      switch (obj.type) {\n        case 'int':\n          if (loose && ['-', obj.options.groupSymbol].indexOf(ch) !== -1) return true;\n          return w2utils.isInt(ch.replace(obj.options.numberRE, ''));\n        case 'percent':\n          ch = ch.replace(/%/g, '');\n        case 'float':\n          if (loose && ['-', w2utils.settings.decimalSymbol, obj.options.groupSymbol].indexOf(ch) !== -1) return true;\n          return w2utils.isFloat(ch.replace(obj.options.numberRE, ''));\n        case 'money':\n        case 'currency':\n          if (loose && ['-', obj.options.decimalSymbol, obj.options.groupSymbol, obj.options.currencyPrefix, obj.options.currencySuffix].indexOf(ch) !== -1) return true;\n          return w2utils.isFloat(ch.replace(obj.options.moneyRE, ''));\n        case 'bin':\n          return w2utils.isBin(ch);\n        case 'hex':\n          return w2utils.isHex(ch);\n        case 'alphanumeric':\n          return w2utils.isAlphaNumeric(ch);\n      }\n      return true;\n    },\n\n    addPrefix: function () {\n      var obj = this;\n      setTimeout(function () {\n        if (obj.type === 'clear') return;\n        var helper;\n        var tmp = $(obj.el).data('tmp') || {};\n        if (tmp['old-padding-left']) $(obj.el).css('padding-left', tmp['old-padding-left']);\n        tmp['old-padding-left'] = $(obj.el).css('padding-left');\n        $(obj.el).data('tmp', tmp);\n        // remove if already displayed\n        if (obj.helpers.prefix) $(obj.helpers.prefix).remove();\n        if (obj.options.prefix !== '') {\n          // add fresh\n          $(obj.el).before(\n            '<div class=\"w2ui-field-helper\">' +\n            obj.options.prefix +\n            '</div>'\n          );\n          helper = $(obj.el).prev();\n          helper\n            .css({\n              'color': $(obj.el).css('color'),\n              'font-family': $(obj.el).css('font-family'),\n              'font-size': $(obj.el).css('font-size'),\n              'padding-top': $(obj.el).css('padding-top'),\n              'padding-bottom': $(obj.el).css('padding-bottom'),\n              'padding-left': $(obj.el).css('padding-left'),\n              'padding-right': 0,\n              'margin-top': (parseInt($(obj.el).css('margin-top'), 10) + 2) + 'px',\n              'margin-bottom': (parseInt($(obj.el).css('margin-bottom'), 10) + 1) + 'px',\n              'margin-left': $(obj.el).css('margin-left'),\n              'margin-right': 0\n            })\n            .on('click', function (event) {\n              if (obj.options.icon && typeof obj.onIconClick === 'function') {\n                // event before\n                var edata = obj.trigger({ phase: 'before', type: 'iconClick', target: obj.el, el: $(this).find('span.w2ui-icon')[0] });\n                if (edata.isCancelled === true) return;\n\n                // intentionally empty\n\n                // event after\n                obj.trigger($.extend(edata, { phase: 'after' }));\n              } else {\n                if (obj.type === 'list') {\n                  $(obj.helpers.focus).find('input').focus();\n                } else {\n                  $(obj.el).focus();\n                }\n              }\n            });\n          $(obj.el).css('padding-left', (helper.width() + parseInt($(obj.el).css('padding-left'), 10)) + 'px');\n          // remember helper\n          obj.helpers.prefix = helper;\n        }\n      }, 1);\n    },\n\n    addSuffix: function () {\n      var obj = this;\n      var helper, pr;\n      setTimeout(function () {\n        if (obj.type === 'clear') return;\n        var tmp = $(obj.el).data('tmp') || {};\n        if (tmp['old-padding-right']) $(obj.el).css('padding-right', tmp['old-padding-right']);\n        tmp['old-padding-right'] = $(obj.el).css('padding-right');\n        $(obj.el).data('tmp', tmp);\n        pr = parseInt($(obj.el).css('padding-right'), 10);\n        if (obj.options.arrows) {\n          // remove if already displayed\n          if (obj.helpers.arrows) $(obj.helpers.arrows).remove();\n          // add fresh\n          $(obj.el).after(\n            '<div class=\"w2ui-field-helper\" style=\"border: 1px solid transparent\">&#160;' +\n            '    <div class=\"w2ui-field-up\" type=\"up\">' +\n            '        <div class=\"arrow-up\" type=\"up\"></div>' +\n            '    </div>' +\n            '    <div class=\"w2ui-field-down\" type=\"down\">' +\n            '        <div class=\"arrow-down\" type=\"down\"></div>' +\n            '    </div>' +\n            '</div>');\n          helper = $(obj.el).next();\n          helper.css({\n            'color': $(obj.el).css('color'),\n            'font-family': $(obj.el).css('font-family'),\n            'font-size': $(obj.el).css('font-size'),\n            'height': ($(obj.el).height() + parseInt($(obj.el).css('padding-top'), 10) + parseInt($(obj.el).css('padding-bottom'), 10)) + 'px',\n            'padding': 0,\n            'margin-top': (parseInt($(obj.el).css('margin-top'), 10) + 1) + 'px',\n            'margin-bottom': 0,\n            'border-left': '1px solid silver'\n          })\n            .css('margin-left', '-' + (helper.width() + parseInt($(obj.el).css('margin-right'), 10) + 12) + 'px')\n            .on('mousedown', function (event) {\n              var body = $('body');\n              body.on('mouseup', tmp);\n              body.data('_field_update_timer', setTimeout(update, 700));\n              update(false);\n              // timer function\n              function tmp() {\n                clearTimeout(body.data('_field_update_timer'));\n                body.off('mouseup', tmp);\n              }\n              // update function\n              function update(notimer) {\n                $(obj.el).focus();\n                obj.keyDown($.Event(\"keydown\"), {\n                  keyCode: ($(event.target).attr('type') === 'up' ? 38 : 40)\n                });\n                if (notimer !== false) $('body').data('_field_update_timer', setTimeout(update, 60));\n              }\n            });\n          pr += helper.width() + 12;\n          $(obj.el).css('padding-right', pr + 'px');\n          // remember helper\n          obj.helpers.arrows = helper;\n        }\n        if (obj.options.suffix !== '') {\n          // remove if already displayed\n          if (obj.helpers.suffix) $(obj.helpers.suffix).remove();\n          // add fresh\n          $(obj.el).after(\n            '<div class=\"w2ui-field-helper\">' +\n            obj.options.suffix +\n            '</div>');\n          helper = $(obj.el).next();\n          helper\n            .css({\n              'color': $(obj.el).css('color'),\n              'font-family': $(obj.el).css('font-family'),\n              'font-size': $(obj.el).css('font-size'),\n              'padding-top': $(obj.el).css('padding-top'),\n              'padding-bottom': $(obj.el).css('padding-bottom'),\n              'padding-left': '3px',\n              'padding-right': $(obj.el).css('padding-right'),\n              'margin-top': (parseInt($(obj.el).css('margin-top'), 10) + 2) + 'px',\n              'margin-bottom': (parseInt($(obj.el).css('margin-bottom'), 10) + 1) + 'px'\n            })\n            .on('click', function (event) {\n              if (obj.type === 'list') {\n                $(obj.helpers.focus).find('input').focus();\n              } else {\n                $(obj.el).focus();\n              }\n            });\n\n          helper.css('margin-left', '-' + (w2utils.getSize(helper, 'width') + parseInt($(obj.el).css('margin-right'), 10) + 2) + 'px');\n          pr += helper.width() + 3;\n          $(obj.el).css('padding-right', pr + 'px');\n          // remember helper\n          obj.helpers.suffix = helper;\n        }\n      }, 1);\n    },\n\n    addFocus: function () {\n      var obj = this;\n      var options = this.options;\n      var width = 0; // 11 - show search icon, 0 do not show\n      var pholder;\n      // clean up & init\n      $(obj.helpers.focus).remove();\n      // remember original tabindex\n      var tabIndex = parseInt($(obj.el).attr('tabIndex'));\n      if (!isNaN(tabIndex) && tabIndex !== -1) obj.el._tabIndex = tabIndex;\n      if (obj.el._tabIndex) tabIndex = obj.el._tabIndex;\n      if (tabIndex == null) tabIndex = -1;\n      if (isNaN(tabIndex)) tabIndex = 0;\n      // if there is id, add to search with \"_search\"\n      var searchId = '';\n      if ($(obj.el).attr('id') != null) {\n        searchId = 'id=\"' + $(obj.el).attr('id') + '_search\"'\n      }\n      // build helper\n      var html =\n        '<div class=\"w2ui-field-helper\">' +\n        '    <div class=\"w2ui-icon icon-search\" style=\"opacity: 0; display: none\"></div>' +\n        '    <input ' + searchId + ' type=\"text\" tabIndex=\"' + tabIndex + '\" autocapitalize=\"off\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\"/>' +\n        '</div>';\n      $(obj.el).attr('tabindex', -1).before(html);\n      var helper = $(obj.el).prev();\n      obj.helpers.focus = helper;\n      helper.css({\n        width: $(obj.el).width(),\n        \"margin-top\": $(obj.el).css('margin-top'),\n        \"margin-left\": (parseInt($(obj.el).css('margin-left')) + parseInt($(obj.el).css('padding-left'))) + 'px',\n        \"margin-bottom\": $(obj.el).css('margin-bottom'),\n        \"margin-right\": $(obj.el).css('margin-right')\n      })\n        .find('input')\n        .css({\n          cursor: 'default',\n          width: '100%',\n          outline: 'none',\n          opacity: 1,\n          margin: 0,\n          border: '1px solid transparent',\n          padding: $(obj.el).css('padding-top'),\n          \"padding-left\": 0,\n          \"margin-left\": (width > 0 ? width + 6 : 0),\n          \"background-color\": 'transparent'\n        });\n      // INPUT events\n      helper.find('input')\n        .on('click', function (event) {\n          if ($('#w2ui-overlay').length === 0) obj.focus(event);\n          event.stopPropagation();\n        })\n        .on('focus', function (event) {\n          pholder = $(obj.el).attr('placeholder');\n          $(obj.el).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '2px' });\n          $(this).val('');\n          $(obj.el).triggerHandler('focus');\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n        })\n        .on('blur', function (event) {\n          $(obj.el).css('outline', 'none');\n          $(this).val('');\n          obj.refresh();\n          $(obj.el).triggerHandler('blur');\n          if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          if (pholder != null) $(obj.el).attr('placeholder', pholder);\n        })\n        .on('keydown', function (event) {\n          var el = this;\n          obj.keyDown(event);\n          setTimeout(function () {\n            if (el.value === '') $(obj.el).attr('placeholder', pholder); else $(obj.el).attr('placeholder', '');\n          }, 10);\n        })\n        .on('keyup', function (event) { obj.keyUp(event); })\n        .on('keypress', function (event) { obj.keyPress(event); });\n      // MAIN div\n      helper.on('click', function (event) { $(this).find('input').focus(); });\n      obj.refresh();\n    },\n\n    addMulti: function () {\n      var obj = this;\n      var options = this.options;\n      // clean up & init\n      $(obj.helpers.multi).remove();\n      // build helper\n      var html = '';\n      var margin =\n        'margin-top     : 0px; ' +\n        'margin-bottom  : 0px; ' +\n        'margin-left    : ' + $(obj.el).css('margin-left') + '; ' +\n        'margin-right   : ' + $(obj.el).css('margin-right') + '; ' +\n        'width          : ' + (w2utils.getSize(obj.el, 'width')\n          - parseInt($(obj.el).css('margin-left'), 10)\n          - parseInt($(obj.el).css('margin-right'), 10))\n        + 'px;';\n      // if there is id, add to search with \"_search\"\n      var searchId = '';\n      if ($(obj.el).attr('id') != null) {\n        searchId = 'id=\"' + $(obj.el).attr('id') + '_search\" '\n      }\n      if (obj.type === 'enum') {\n        // remember original tabindex\n        var tabIndex = $(obj.el).attr('tabIndex');\n        if (tabIndex && tabIndex !== -1) obj.el._tabIndex = tabIndex;\n        if (obj.el._tabIndex) tabIndex = obj.el._tabIndex;\n        if (tabIndex == null) tabIndex = 0; // default tabindex\n\n        html = '<div class=\"w2ui-field-helper w2ui-list\" style=\"' + margin + '; box-sizing: border-box\">' +\n          '    <div style=\"padding: 0px; margin: 0px; display: inline-block\" class=\"w2ui-multi-items\">' +\n          '    <ul>' +\n          '        <li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\">' +\n          '            <input ' + searchId + ' type=\"text\" style=\"width: 20px; margin: -3px 0 0; padding: 2px 0; border-color: white\" autocapitalize=\"off\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\"' +\n          ($(obj.el).prop('readonly') ? ' readonly=\"readonly\"' : '') + ($(obj.el).prop('disabled') ? ' disabled=\"disabled\"' : '') + ' tabindex=\"' + tabIndex + '\"/>' +\n          '        </li>' +\n          '    </ul>' +\n          '    </div>' +\n          '</div>';\n      }\n      if (obj.type === 'file') {\n        html = '<div class=\"w2ui-field-helper w2ui-list\" style=\"' + margin + '; box-sizing: border-box\">' +\n          '   <div style=\"position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px;\">' +\n          '       <input ' + searchId + ' name=\"attachment\" class=\"file-input\" type=\"file\" style=\"width: 100%; height: 100%; opacity: 0;\" tabindex=\"-1\"' + (obj.options.max !== 1 ? ' multiple=\"multiple\"' : '') + ($(obj.el).prop('readonly') ? ' readonly=\"readonly\"' : '') + ($(obj.el).prop('disabled') ? ' disabled=\"disabled\"' : '') + ($(obj.el).attr('accept') ? ' accept=\"' + $(obj.el).attr('accept') + '\"' : '') + '/>' +\n          '   </div>' +\n          '    <div style=\"position: absolute; padding: 0px; margin: 0px; display: inline-block\" class=\"w2ui-multi-items\">' +\n          '        <ul><li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\"></li></ul>' +\n          '    </div>' +\n          '</div>';\n      }\n      // old bg and border\n      var tmp = $(obj.el).data('tmp') || {};\n      tmp['old-background-color'] = $(obj.el).css('background-color');\n      tmp['old-border-color'] = $(obj.el).css('border-color');\n      $(obj.el).data('tmp', tmp);\n\n      $(obj.el)\n        .before(html)\n        .css({\n          'background-color': 'transparent',\n          'border-color': 'transparent'\n        });\n\n      var div = $(obj.el).prev();\n      obj.helpers.multi = div;\n      if (obj.type === 'enum') {\n        $(obj.el).attr('tabindex', -1);\n        // INPUT events\n        div.find('input')\n          .on('click', function (event) {\n            if ($('#w2ui-overlay').length === 0) obj.focus(event);\n            $(obj.el).triggerHandler('click');\n          })\n          .on('focus', function (event) {\n            $(div).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '2px' });\n            $(obj.el).triggerHandler('focus');\n            if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          })\n          .on('blur', function (event) {\n            $(div).css('outline', 'none');\n            $(obj.el).triggerHandler('blur');\n            if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n          })\n          .on('keyup', function (event) { obj.keyUp(event); })\n          .on('keydown', function (event) { obj.keyDown(event); })\n          .on('keypress', function (event) { obj.keyPress(event); });\n        // MAIN div\n        div.on('click', function (event) { $(this).find('input').focus(); });\n      }\n      if (obj.type === 'file') {\n        $(obj.el).css('outline', 'none');\n        div.find('input')\n          .off('.drag')\n          .on('click.drag', function (event) {\n            event.stopPropagation();\n            if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n            $(obj.el).focus();\n          })\n          .on('dragenter.drag', function (event) {\n            if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n            $(div).addClass('w2ui-file-dragover');\n          })\n          .on('dragleave.drag', function (event) {\n            if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n            $(div).removeClass('w2ui-file-dragover');\n          })\n          .on('drop.drag', function (event) {\n            if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) return;\n            $(div).removeClass('w2ui-file-dragover');\n            var files = event.originalEvent.dataTransfer.files;\n            for (var i = 0, l = files.length; i < l; i++) obj.addFile.call(obj, files[i]);\n            $(obj.el).focus();\n            // cancel to stop browser behaviour\n            event.preventDefault();\n            event.stopPropagation();\n          })\n          .on('dragover.drag', function (event) {\n            // cancel to stop browser behaviour\n            event.preventDefault();\n            event.stopPropagation();\n          })\n          .on('change.drag', function () {\n            $(obj.el).focus();\n            if (typeof this.files !== \"undefined\") {\n              for (var i = 0, l = this.files.length; i < l; i++) {\n                obj.addFile.call(obj, this.files[i]);\n              }\n            }\n          });\n      }\n      obj.refresh();\n    },\n\n    addFile: function (file) {\n      var obj = this;\n      var options = this.options;\n      var selected = $(obj.el).data('selected');\n      var newItem = {\n        name: file.name,\n        type: file.type,\n        modified: file.lastModifiedDate,\n        size: file.size,\n        content: null,\n        file: file\n      };\n      var size = 0;\n      var cnt = 0;\n      var err;\n      if (selected) {\n        for (var s = 0; s < selected.length; s++) {\n          // check for dups\n          if (selected[s].name == file.name && selected[s].size == file.size) return;\n          size += selected[s].size;\n          cnt++;\n        }\n      }\n      // trigger event\n      var edata = obj.trigger({ phase: 'before', type: 'add', target: obj.el, file: newItem, total: cnt, totalSize: size });\n      if (edata.isCancelled === true) return;\n      // check params\n      if (options.maxFileSize !== 0 && newItem.size > options.maxFileSize) {\n        err = 'Maximum file size is ' + w2utils.formatSize(options.maxFileSize);\n        if (options.silent === false) $(obj.el).w2tag(err);\n        console.log('ERROR: ' + err);\n        return;\n      }\n      if (options.maxSize !== 0 && size + newItem.size > options.maxSize) {\n        err = w2utils.lang('Maximum total size is') + ' ' + w2utils.formatSize(options.maxSize);\n        if (options.silent === false) {\n          $(obj.el).w2tag(err);\n        } else {\n          console.log('ERROR: ' + err);\n        }\n        return;\n      }\n      if (options.max !== 0 && cnt >= options.max) {\n        err = w2utils.lang('Maximum number of files is') + ' ' + options.max;\n        if (options.silent === false) {\n          $(obj.el).w2tag(err);\n        } else {\n          console.log('ERROR: ' + err);\n        }\n        return;\n      }\n      selected.push(newItem);\n      // read file as base64\n      if (typeof FileReader !== \"undefined\" && options.readContent === true) {\n        var reader = new FileReader();\n        // need a closure\n        reader.onload = (function () {\n          return function (event) {\n            var fl = event.target.result;\n            var ind = fl.indexOf(',');\n            newItem.content = fl.substr(ind + 1);\n            obj.refresh();\n            $(obj.el).trigger('input').trigger('change');\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n          };\n        })();\n        reader.readAsDataURL(file);\n      } else {\n        obj.refresh();\n        $(obj.el).trigger('input').trigger('change');\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }\n    },\n\n    normMenu: function (menu, el) {\n      if ($.isArray(menu)) {\n        for (var m = 0; m < menu.length; m++) {\n          if (typeof menu[m] === 'string') {\n            menu[m] = { id: menu[m], text: menu[m] };\n          } else if (menu[m] != null) {\n            if (menu[m].text != null && menu[m].id == null) menu[m].id = menu[m].text;\n            if (menu[m].text == null && menu[m].id != null) menu[m].text = menu[m].id;\n            if (menu[m].caption != null) menu[m].text = menu[m].caption;\n          } else {\n            menu[m] = { id: null, text: 'null' }\n          }\n        }\n        return menu;\n      } else if (typeof menu === 'function') {\n        return w2obj.field.prototype.normMenu.call(this, menu.call(this, el));\n      } else if (typeof menu === 'object') {\n        var tmp = [];\n        for (var m in menu) tmp.push({ id: m, text: menu[m] });\n        return tmp;\n      }\n    },\n\n    getMonthHTML: function (month, year, selected) {\n      var td = new Date();\n      var months = w2utils.settings.fullmonths;\n      var daysCount = ['31', '28', '31', '30', '31', '30', '31', '31', '30', '31', '30', '31'];\n      var today = td.getFullYear() + '/' + (Number(td.getMonth()) + 1) + '/' + td.getDate();\n      var days = w2utils.settings.fulldays.slice();    // creates copy of the array\n      var sdays = w2utils.settings.shortdays.slice();   // creates copy of the array\n      if (w2utils.settings.weekStarts !== 'M') {\n        days.unshift(days.pop());\n        sdays.unshift(sdays.pop());\n      }\n      var options = this.options;\n      if (options == null) options = {};\n      // normalize date\n      year = w2utils.isInt(year) ? parseInt(year) : td.getFullYear();\n      month = w2utils.isInt(month) ? parseInt(month) : td.getMonth() + 1;\n      if (month > 12) { month -= 12; year++; }\n      if (month < 1 || month === 0) { month += 12; year--; }\n      if (year / 4 == Math.floor(year / 4)) { daysCount[1] = '29'; } else { daysCount[1] = '28'; }\n      options.current = month + '/' + year;\n\n      // start with the required date\n      td = new Date(year, month - 1, 1);\n      var weekDay = td.getDay();\n      var dayTitle = '';\n      for (var i = 0; i < sdays.length; i++) dayTitle += '<td title=\"' + days[i] + '\">' + sdays[i] + '</td>';\n\n      var html =\n        '<div class=\"w2ui-calendar-title title\">' +\n        '    <div class=\"w2ui-calendar-previous previous\"> <div></div> </div>' +\n        '    <div class=\"w2ui-calendar-next next\"> <div></div> </div> ' +\n        months[month - 1] + ', ' + year +\n        '</div>' +\n        '<table class=\"w2ui-calendar-days\" cellspacing=\"0\"><tbody>' +\n        '    <tr class=\"w2ui-day-title\">' + dayTitle + '</tr>' +\n        '    <tr>';\n\n      var day = 1;\n      if (w2utils.settings.weekStarts !== 'M') weekDay++;\n      if (this.type === 'datetime') {\n        var dt_sel = w2utils.isDateTime(selected, options.format, true);\n        selected = w2utils.formatDate(dt_sel, w2utils.settings.dateFormat);\n      }\n      for (var ci = 1; ci < 43; ci++) {\n        if (weekDay === 0 && ci == 1) {\n          for (var ti = 0; ti < 6; ti++) html += '<td class=\"w2ui-day-empty\">&#160;</td>';\n          ci += 6;\n        } else {\n          if (ci < weekDay || day > daysCount[month - 1]) {\n            html += '<td class=\"w2ui-day-empty\">&#160;</td>';\n            if ((ci) % 7 === 0) html += '</tr><tr>';\n            continue;\n          }\n        }\n        var dt = year + '/' + month + '/' + day;\n        var DT = new Date(dt);\n        var className = '';\n        if (DT.getDay() === 6) className = ' w2ui-saturday';\n        if (DT.getDay() === 0) className = ' w2ui-sunday';\n        if (dt == today) className += ' w2ui-today';\n\n        var dspDay = day;\n        var col = '';\n        var bgcol = '';\n        var tmp_dt, tmp_dt_fmt;\n        if (this.type === 'datetime') {\n          // var fm = options.format.split('|')[0].trim();\n          // tmp_dt      = w2utils.formatDate(dt, fm);\n          tmp_dt = w2utils.formatDateTime(dt, options.format);\n          tmp_dt_fmt = w2utils.formatDate(dt, w2utils.settings.dateFormat);\n        } else {\n          tmp_dt = w2utils.formatDate(dt, options.format);\n          tmp_dt_fmt = tmp_dt;\n        }\n        if (options.colored && options.colored[tmp_dt_fmt] !== undefined) { // if there is predefined colors for dates\n          var tmp = options.colored[tmp_dt_fmt].split(':');\n          bgcol = 'background-color: ' + tmp[0] + ';';\n          col = 'color: ' + tmp[1] + ';';\n        }\n        html += '<td class=\"' + (this.inRange(tmp_dt, true) ? 'w2ui-date ' + (tmp_dt_fmt == selected ? 'w2ui-date-selected' : '') : 'w2ui-blocked') + className + '\" ' +\n          '   style=\"' + col + bgcol + '\" date=\"' + tmp_dt + '\" data-date=\"' + DT + '\">' +\n          dspDay +\n          '</td>';\n        if (ci % 7 === 0 || (weekDay === 0 && ci == 1)) html += '</tr><tr>';\n        day++;\n      }\n      html += '</tr></tbody></table>';\n      return html;\n    },\n\n    getYearHTML: function () {\n      var months = w2utils.settings.shortmonths;\n      var start_year = w2utils.settings.dateStartYear;\n      var end_year = w2utils.settings.dateEndYear;\n      var mhtml = '';\n      var yhtml = '';\n      for (var m = 0; m < months.length; m++) {\n        mhtml += '<div class=\"w2ui-jump-month\" name=\"' + m + '\">' + months[m] + '</div>';\n      }\n      for (var y = start_year; y <= end_year; y++) {\n        yhtml += '<div class=\"w2ui-jump-year\" name=\"' + y + '\">' + y + '</div>';\n      }\n      return '<div id=\"w2ui-jump-month\">' + mhtml + '</div><div id=\"w2ui-jump-year\">' + yhtml + '</div>';\n    },\n\n    getHourHTML: function () {\n      var tmp = [];\n      var options = this.options;\n      if (options == null) options = { format: w2utils.settings.timeFormat };\n      var h24 = (options.format.indexOf('h24') > -1);\n      for (var a = 0; a < 24; a++) {\n        var time = (a >= 12 && !h24 ? a - 12 : a) + ':00' + (!h24 ? (a < 12 ? ' am' : ' pm') : '');\n        if (a == 12 && !h24) time = '12:00 pm';\n        if (!tmp[Math.floor(a / 8)]) tmp[Math.floor(a / 8)] = '';\n        var tm1 = this.fromMin(this.toMin(time));\n        var tm2 = this.fromMin(this.toMin(time) + 59);\n        if (this.type === 'datetime') {\n          var dt = w2utils.isDateTime(this.el.value, options.format, true);\n          var fm = options.format.split('|')[0].trim();\n          tm1 = w2utils.formatDate(dt, fm) + ' ' + tm1;\n          tm2 = w2utils.formatDate(dt, fm) + ' ' + tm2;\n        }\n        tmp[Math.floor(a / 8)] += '<div class=\"' + (this.inRange(tm1) || this.inRange(tm2) ? 'w2ui-time ' : 'w2ui-blocked') + '\" hour=\"' + a + '\">' + time + '</div>';\n      }\n      var html =\n        '<div class=\"w2ui-calendar\">' +\n        '   <div class=\"w2ui-calendar-title\">' + w2utils.lang('Select Hour') + '</div>' +\n        '   <div class=\"w2ui-calendar-time\"><table><tbody><tr>' +\n        '       <td>' + tmp[0] + '</td>' +\n        '       <td>' + tmp[1] + '</td>' +\n        '       <td>' + tmp[2] + '</td>' +\n        '   </tr></tbody></table></div>' +\n        '</div>';\n      return html;\n    },\n\n    getMinHTML: function (hour) {\n      if (hour == null) hour = 0;\n      var options = this.options;\n      if (options == null) options = { format: w2utils.settings.timeFormat };\n      var h24 = (options.format.indexOf('h24') > -1);\n      var tmp = [];\n      for (var a = 0; a < 60; a += 5) {\n        var time = (hour > 12 && !h24 ? hour - 12 : hour) + ':' + (a < 10 ? 0 : '') + a + ' ' + (!h24 ? (hour < 12 ? 'am' : 'pm') : '');\n        var tm = time;\n        var ind = a < 20 ? 0 : (a < 40 ? 1 : 2);\n        if (!tmp[ind]) tmp[ind] = '';\n        if (this.type === 'datetime') {\n          var dt = w2utils.isDateTime(this.el.value, options.format, true);\n          var fm = options.format.split('|')[0].trim();\n          tm = w2utils.formatDate(dt, fm) + ' ' + tm;\n        }\n        tmp[ind] += '<div class=\"' + (this.inRange(tm) ? 'w2ui-time ' : 'w2ui-blocked') + '\" min=\"' + a + '\">' + time + '</div>';\n      }\n      var html =\n        '<div class=\"w2ui-calendar\">' +\n        '   <div class=\"w2ui-calendar-title\">' + w2utils.lang('Select Minute') + '</div>' +\n        '   <div class=\"w2ui-calendar-time\"><table><tbody><tr>' +\n        '       <td>' + tmp[0] + '</td>' +\n        '       <td>' + tmp[1] + '</td>' +\n        '       <td>' + tmp[2] + '</td>' +\n        '   </tr></tbody></table></div>' +\n        '</div>';\n      return html;\n    },\n\n    toMin: function (str) {\n      if (typeof str !== 'string') return null;\n      var tmp = str.split(':');\n      if (tmp.length === 2) {\n        tmp[0] = parseInt(tmp[0]);\n        tmp[1] = parseInt(tmp[1]);\n        if (str.indexOf('pm') !== -1 && tmp[0] !== 12) tmp[0] += 12;\n      } else {\n        return null;\n      }\n      return tmp[0] * 60 + tmp[1];\n    },\n\n    fromMin: function (time) {\n      var ret = '';\n      if (time >= 24 * 60) time = time % (24 * 60);\n      if (time < 0) time = 24 * 60 + time;\n      var hour = Math.floor(time / 60);\n      var min = ((time % 60) < 10 ? '0' : '') + (time % 60);\n      var options = this.options;\n      if (options == null) options = { format: w2utils.settings.timeFormat };\n      if (options.format.indexOf('h24') !== -1) {\n        ret = hour + ':' + min;\n      } else {\n        ret = (hour <= 12 ? hour : hour - 12) + ':' + min + ' ' + (hour >= 12 ? 'pm' : 'am');\n      }\n      return ret;\n    }\n  };\n\n  $.extend(w2field.prototype, w2utils.event);\n  w2obj.field = w2field;\n\n})(jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2form      - form widget\n*        - $().w2form  - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2fields, w2tabs, w2toolbar\n*\n* == NICE TO HAVE ==\n*   - include delta on save\n*   - form should read <select> <options> into items\n*   - two way data bindings\n*   - verify validation of fields\n*   - nested record object\n*   - formHTML --> template\n*\n* == 1.5 changes\n*   - $('#form').w2form() - if called w/o argument then it returns form object\n*   - added onProgress\n*   - added field.html.style (for the whole field)\n*   - added enable/disable, show/hide\n*   - added field.disabled, field.hidden\n*   - when field is blank, set record.field = null\n*   - action: { caption: 'Limpiar', style: '', class: '', onClick: function () {} }\n*   - added ability to generate radio and select html in generateHTML()\n*   - refresh(field) - would refresh only one field\n*   - form.message\n*   - added field.html.column\n*   - added field types html, empty, custom\n*   - httpHeaders\n*   - method\n*   - onInput\n*   - added field.html.groupStyle, field.html.groupTitleStyle\n*   - added field.html.column = 'before' && field.html.column = 'after'\n*   - added field.html.anchor\n*   - changed this.clear(field1, field2,...)\n*   - added nestedFields: use field name containing dots as separator to look into objects\n*   - added getValue(), setValue()\n*   - added getChanges()\n*   - added getCleanRecord(strict)\n*   - added applyFocus()\n*   - deprecated field.name -> field.field\n*   - options.items - can be an array\n*   - added form.pageStyle\n*   - added html.span -1 - then label is displayed on top\n*   - added field.options.minLength, min/max for numebrs can be done with int/float - min/max\n*   - field.html.groupCollapsable, form.toggleGroup\n*   - added showErrors\n*   - added field.type = 'check'\n*   - new field type 'map', 'array' - same thing but map has unique keys also html: { key: { text: '111', attr: '222' }, value: {...}}\n*   - updateEmptyGroups\n*\n************************************************************************/\n\n\n(function ($) {\n  var w2form = function (options) {\n    // public properties\n    this.name = null;\n    this.header = '';\n    this.box = null;     // HTML element that hold this element\n    this.url = '';\n    this.routeData = {};       // data for dynamic routes\n    this.formURL = '';       // url where to get form HTML\n    this.formHTML = '';       // form HTML (might be loaded from the url)\n    this.page = 0;        // current page\n    this.recid = 0;        // can be null or 0\n    this.fields = [];\n    this.actions = {};\n    this.record = {};\n    this.original = null;\n    this.postData = {};\n    this.httpHeaders = {};\n    this.method = null;     // only used when not null, otherwise set based on w2utils.settings.dataType\n    this.toolbar = {};       // if not empty, then it is toolbar\n    this.tabs = {};       // if not empty, then it is tabs object\n    this.style = '';\n    this.focus = 0;        // focus first or other element\n    this.autosize = true;     // autosize\n    this.nestedFields = true;     // use field name containing dots as separator to look into object\n\n    // When w2utils.settings.dataType is JSON, then we can convert the save request to multipart/form-data. So we can upload large files with the form\n    // The original body is JSON.stringified to __body\n    this.multipart = false;\n    this.tabindexBase = 0;        // this will be added to the auto numbering\n\n    // internal\n    this.isGenerated = false;\n    this.last = {\n      xhr: null,        // jquery xhr requests\n      errors: []\n    }\n\n    $.extend(true, this, w2obj.form, options);\n  }\n\n  // ====================================================\n  // -- Registers as a jQuery plugin\n\n  $.fn.w2form = function (method) {\n    if ($.isPlainObject(method)) {\n      var obj = this;\n      // check name parameter\n      if (!w2utils.checkName(method, 'w2form')) return;\n      // remember items\n      var record = method.record;\n      var original = method.original;\n      var fields = method.fields;\n      var toolbar = method.toolbar;\n      var tabs = method.tabs;\n      // extend items\n      var object = new w2form(method);\n      $.extend(object, { record: {}, original: null, fields: [], tabs: {}, toolbar: {}, handlers: [] });\n      if ($.isArray(tabs)) {\n        $.extend(true, object.tabs, { tabs: [] });\n        for (var t = 0; t < tabs.length; t++) {\n          var tmp = tabs[t];\n          if (typeof tmp === 'object') {\n            object.tabs.tabs.push(tmp);\n            if (tmp.active === true) {\n              object.tabs.active = tmp.id;\n            }\n          } else {\n            object.tabs.tabs.push({ id: tmp, text: tmp });\n          }\n        }\n      } else {\n        $.extend(true, object.tabs, tabs);\n      }\n      $.extend(true, object.toolbar, toolbar);\n      // reassign variables\n      if (fields) for (var p = 0; p < fields.length; p++) {\n        var field = $.extend(true, {}, fields[p]);\n        if (field.field == null && field.name != null) {\n          console.log('NOTICE: form field.name property is deprecated, please use field.field. Field ->', field);\n          field.field = field.name;\n        }\n        object.fields[p] = field;\n      }\n      for (var p in record) { // it is an object\n        if ($.isPlainObject(record[p])) {\n          object.record[p] = $.extend(true, {}, record[p]);\n        } else {\n          object.record[p] = record[p];\n        }\n      }\n      for (var p in original) { // it is an object\n        if ($.isPlainObject(original[p])) {\n          object.original[p] = $.extend(true, {}, original[p]);\n        } else {\n          object.original[p] = original[p];\n        }\n      }\n      if (obj.length > 0) object.box = obj[0];\n      // render if necessary\n      if (object.formURL !== '') {\n        $.get(object.formURL, function (data) { // should always be $.get as it is template\n          object.formHTML = data;\n          object.isGenerated = true;\n          if ($(object.box).length !== 0 || data.length !== 0) {\n            $(object.box).html(data);\n            object.render(object.box);\n          }\n        });\n      } else if (object.formHTML !== '') {\n        // it is already loaded into formHTML\n      } else if ($(this).length !== 0 && $.trim($(this).html()) !== '') {\n        object.formHTML = $(this).html();\n      } else { // try to generate it\n        object.formHTML = object.generateHTML();\n      }\n      // register new object\n      w2ui[object.name] = object;\n      // render if not loaded from url\n      if (object.formURL === '') {\n        if (String(object.formHTML).indexOf('w2ui-page') === -1) {\n          object.formHTML = '<div class=\"w2ui-page page-0\" style=\"' + (object.pageStyle || '') + '\">' + object.formHTML + '</div>';\n        }\n        $(object.box).html(object.formHTML);\n        object.isGenerated = true;\n        object.render(object.box);\n      }\n      return object;\n\n    } else {\n      var obj = w2ui[$(this).attr('name')];\n      if (!obj) return null;\n      if (arguments.length > 0) {\n        if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n        return this;\n      } else {\n        return obj;\n      }\n    }\n  };\n\n  // ====================================================\n  // -- Implementation of core functionality\n\n  w2form.prototype = {\n    // events\n    onRequest: null,\n    onLoad: null,\n    onValidate: null,\n    onSubmit: null,\n    onProgress: null,\n    onSave: null,\n    onChange: null,\n    onInput: null,\n    onRender: null,\n    onRefresh: null,\n    onResize: null,\n    onDestroy: null,\n    onAction: null,\n    onToolbar: null,\n    onError: null,\n\n    msgNotJSON: 'Returned data is not in valid JSON format.',\n    msgAJAXerror: 'AJAX error. See console for more details.',\n    msgRefresh: 'Loading...',\n    msgSaving: 'Saving...',\n\n    get: function (field, returnIndex) {\n      if (arguments.length === 0) {\n        var all = [];\n        for (var f1 = 0; f1 < this.fields.length; f1++) {\n          if (this.fields[f1].field != null) all.push(this.fields[f1].field);\n        }\n        return all;\n      } else {\n        for (var f2 = 0; f2 < this.fields.length; f2++) {\n          if (this.fields[f2].field == field) {\n            if (returnIndex === true) return f2; else return this.fields[f2];\n          }\n        }\n        return null;\n      }\n    },\n\n    set: function (field, obj) {\n      for (var f = 0; f < this.fields.length; f++) {\n        if (this.fields[f].field == field) {\n          $.extend(this.fields[f], obj);\n          this.refresh(field);\n          return true;\n        }\n      }\n      return false;\n    },\n\n    getValue: function (field) {\n      if (this.nestedFields) {\n        var val = undefined;\n        try { // need this to make sure no error in fields\n          var rec = this.record;\n          val = String(field).split('.').reduce(function (rec, i) { return rec[i] }, rec)\n        } catch (event) {\n        }\n        return val;\n      } else {\n        return this.record[field];\n      }\n    },\n\n    setValue: function (field, value) {\n      if (this.nestedFields) {\n        try { // need this to make sure no error in fields\n          var rec = this.record;\n          String(field).split('.').map(function (fld, i, arr) {\n            if (arr.length - 1 !== i) {\n              if (rec[fld]) rec = rec[fld]; else { rec[fld] = {}; rec = rec[fld] }\n            } else {\n              rec[fld] = value;\n            }\n          });\n          return true;\n        } catch (event) {\n          return false;\n        }\n      } else {\n        this.record[field] = value;\n        return true;\n      }\n    },\n\n    show: function () {\n      var affected = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var fld = this.get(arguments[a]);\n        if (fld && fld.hidden) {\n          fld.hidden = false;\n          affected.push(fld.field);\n        }\n      }\n      if (affected.length > 0) this.refresh.apply(this, affected);\n      this.updateEmptyGroups();\n      return affected.length;\n    },\n\n    hide: function () {\n      var affected = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var fld = this.get(arguments[a]);\n        if (fld && !fld.hidden) {\n          fld.hidden = true;\n          affected.push(fld.field);\n        }\n      }\n      if (affected.length > 0) this.refresh.apply(this, affected);\n      this.updateEmptyGroups();\n      return affected.length;\n    },\n\n    updateEmptyGroups: function () {\n      // hide empty groups\n      $(this.box).find('.w2ui-group').each(function (ind, group) {\n        if (isHidden($(group).find('.w2ui-field'))) {\n          $(group).hide()\n        } else {\n          $(group).show()\n        }\n      })\n      function isHidden($els) {\n        var flag = true\n        $els.each(function (ind, el) {\n          if (el.style.display != 'none') flag = false\n        })\n        return flag\n      }\n    },\n\n    enable: function () {\n      var affected = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var fld = this.get(arguments[a]);\n        if (fld && fld.disabled) {\n          fld.disabled = false;\n          affected.push(fld.field);\n        }\n      }\n      if (affected.length > 0) this.refresh.apply(this, affected);\n      return affected.length;\n    },\n\n    disable: function () {\n      var affected = [];\n      for (var a = 0; a < arguments.length; a++) {\n        var fld = this.get(arguments[a]);\n        if (fld && !fld.disabled) {\n          fld.disabled = true;\n          affected.push(fld.field);\n        }\n      }\n      if (affected.length > 0) this.refresh.apply(this, affected);\n      return affected.length;\n    },\n\n    change: function () {\n      Array.from(arguments).forEach(function (field) {\n        var tmp = this.get(field);\n        if (tmp.$el) tmp.$el.change();\n      }.bind(this));\n    },\n\n    reload: function (callBack) {\n      var url = (typeof this.url !== 'object' ? this.url : this.url.get);\n      if (url && this.recid !== 0 && this.recid != null) {\n        // this.clear();\n        this.request(callBack);\n      } else {\n        // this.refresh(); // no need to refresh\n        if (typeof callBack === 'function') callBack();\n      }\n    },\n\n    clear: function () {\n      if (arguments.length != 0) {\n        Array.from(arguments).forEach(function (field) {\n          var rec = this.record\n          String(field).split('.').map(function (fld, i, arr) {\n            if (arr.length - 1 !== i) rec = rec[fld]; else delete rec[fld]\n          })\n          this.refresh(field);\n        }.bind(this));\n      } else {\n        this.recid = 0;\n        this.record = {};\n        this.original = null;\n        this.refresh();\n      }\n      $().w2tag();\n    },\n\n    error: function (msg) {\n      var obj = this;\n      // let the management of the error outside of the grid\n      var edata = this.trigger({ target: this.name, type: 'error', message: msg, xhr: this.last.xhr });\n      if (edata.isCancelled === true) {\n        if (typeof callBack === 'function') callBack();\n        return;\n      }\n      // need a time out because message might be already up)\n      setTimeout(function () { obj.message(msg); }, 1);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    message: function (options) {\n      if (typeof options === 'string') {\n        options = {\n          width: (options.length < 300 ? 350 : 550),\n          height: (options.length < 300 ? 170 : 250),\n          body: '<div class=\"w2ui-centered\">' + options + '</div>',\n          buttons: '<button class=\"w2ui-btn\" onclick=\"w2ui[\\'' + this.name + '\\'].message()\">Ok</button>',\n          onOpen: function (event) {\n            setTimeout(function () {\n              $(event.box).find('.w2ui-btn').focus();\n            }, 25);\n          }\n        };\n      }\n      w2utils.message.call(this, {\n        box: this.box,\n        path: 'w2ui.' + this.name,\n        title: '.w2ui-form-header:visible',\n        body: '.w2ui-form-box'\n      }, options);\n    },\n\n    validate: function (showErrors) {\n      if (showErrors == null) showErrors = true;\n      $().w2tag(); // hide all tags before validating\n      // validate before saving\n      var errors = [];\n      for (var f = 0; f < this.fields.length; f++) {\n        var field = this.fields[f];\n        if (this.getValue(field.field) == null) this.setValue(field.field, '');\n        switch (field.type) {\n          case 'int':\n            if (this.getValue(field.field) && !w2utils.isInt(this.getValue(field.field))) {\n              errors.push({ field: field, error: w2utils.lang('Not an integer') });\n            }\n            break;\n          case 'float':\n            if (this.getValue(field.field) && !w2utils.isFloat(this.getValue(field.field))) {\n              errors.push({ field: field, error: w2utils.lang('Not a float') });\n            }\n            break;\n          case 'money':\n            if (this.getValue(field.field) && !w2utils.isMoney(this.getValue(field.field))) {\n              errors.push({ field: field, error: w2utils.lang('Not in money format') });\n            }\n            break;\n          case 'color':\n          case 'hex':\n            if (this.getValue(field.field) && !w2utils.isHex(this.getValue(field.field))) {\n              errors.push({ field: field, error: w2utils.lang('Not a hex number') });\n            }\n            break;\n          case 'email':\n            if (this.getValue(field.field) && !w2utils.isEmail(this.getValue(field.field))) {\n              errors.push({ field: field, error: w2utils.lang('Not a valid email') });\n            }\n            break;\n          case 'checkbox':\n            // convert true/false\n            if (this.getValue(field.field) == true) this.setValue(field.field, 1); else this.setValue(field.field, 0);\n            break;\n          case 'date':\n            // format date before submit\n            if (!field.options.format) field.options.format = w2utils.settings.dateFormat;\n            if (this.getValue(field.field) && !w2utils.isDate(this.getValue(field.field), field.options.format)) {\n              errors.push({ field: field, error: w2utils.lang('Not a valid date') + ': ' + field.options.format });\n            }\n            break;\n          case 'list':\n          case 'combo':\n            break;\n          case 'enum':\n            break;\n        }\n        // === check required - if field is '0' it should be considered not empty\n        var val = this.getValue(field.field);\n        if (field.required && field.hidden !== true && ['div', 'custom', 'html', 'empty'].indexOf(field.type) == -1\n          && (val === '' || ($.isArray(val) && val.length === 0) || ($.isPlainObject(val) && $.isEmptyObject(val)))) {\n          errors.push({ field: field, error: w2utils.lang('Required field') });\n        }\n        if (field.options && field.hidden !== true && field.options.minLength > 0\n          && ['enum', 'list', 'combo'].indexOf(field.type) == -1 // since minLength is used there too\n          && this.getValue(field.field).length < field.options.minLength) {\n          errors.push({ field: field, error: w2utils.lang('Field should be at least ' + field.options.minLength + ' characters.') });\n        }\n      }\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'validate', errors: errors });\n      if (edata.isCancelled === true) return;\n      // show error\n      this.last.errors = errors\n      if (showErrors) this.showErrors()\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      return errors;\n    },\n\n    showErrors: function () {\n      var errors = this.last.errors\n      if (errors.length > 0) {\n        var err = errors[0];\n        // scroll into view\n        this.goto(errors[0].field.page)\n        $(err.field.$el).parents('.w2ui-field')[0].scrollIntoView(true)\n        // show errors\n        for (var i = 0; i < errors.length; i++) {\n          err = errors[i];\n          var opt = $.extend({ \"class\": 'w2ui-error', hideOnFocus: true }, err.options);\n          if (err.field == null) continue;\n          if (err.field.type === 'radio') { // for radio and checkboxes\n            $($(err.field.el).closest('div')[0]).w2tag(err.error, opt);\n          } else if (['enum', 'file'].indexOf(err.field.type) !== -1) {\n            (function (err) {\n              setTimeout(function () {\n                var fld = $(err.field.el).data('w2field').helpers.multi;\n                $(err.field.el).w2tag(err.error, err.options);\n                $(fld).addClass('w2ui-error');\n              }, 1);\n            })(err);\n          } else {\n            $(err.field.el).w2tag(err.error, opt);\n          }\n        }\n        // hide errors on scroll\n        setTimeout(function () {\n          var err = errors[0];\n          $(err.field.$el).parents('.w2ui-page').off('.hideErrors').on('scroll.hideErrors', function (event) {\n            for (var i = 0; i < errors.length; i++) {\n              err = errors[i];\n              $(err.field.el).w2tag()\n            }\n            $(err.field.$el).parents('.w2ui-page').off('.hideErrors')\n          })\n        }, 300);\n      }\n    },\n\n    getChanges: function () {\n      var diff = {};\n      if (this.original != null && typeof this.original == 'object' && !$.isEmptyObject(this.record)) {\n        diff = doDiff(this.record, this.original, {});\n      }\n      return diff;\n\n      function doDiff(record, original, result) {\n        for (var i in record) {\n          if (record[i] != null && typeof record[i] === \"object\") {\n            result[i] = doDiff(record[i], original[i] || {}, {});\n            if (!result[i] || ($.isEmptyObject(result[i]) && $.isEmptyObject(original[i]))) delete result[i];\n          } else if (record[i] != original[i] || (record[i] == null && original[i] != null)) { // also catch field clear\n            result[i] = record[i];\n          }\n        }\n        return !$.isEmptyObject(result) ? result : null;\n      }\n    },\n\n    getCleanRecord: function (strict) {\n      var data = $.extend(true, {}, this.record);\n      this.fields.forEach(function (fld) {\n        if (['list', 'combo', 'enum'].indexOf(fld.type) != -1) {\n          var tmp = { nestedFields: true, record: data };\n          var val = this.getValue.call(tmp, fld.field);\n          if ($.isPlainObject(val) && val.id != null) { // should be tru if val.id === ''\n            this.setValue.call(tmp, fld.field, val.id)\n          }\n          if (Array.isArray(val)) {\n            val.forEach(function (item, ind) {\n              if ($.isPlainObject(item) && item.id) {\n                val[ind] = item.id;\n              }\n            })\n          }\n        }\n        if (fld.type == 'map') {\n          var tmp = { nestedFields: true, record: data };\n          var val = this.getValue.call(tmp, fld.field);\n          if (val._order) delete val._order\n        }\n      }.bind(this))\n      // return only records presend in description\n      if (strict === true) {\n        Object.keys(data).forEach(function (key) {\n          if (!this.get(key)) delete data[key]\n        }.bind(this));\n      }\n      return data;\n    },\n\n    request: function (postData, callBack) { // if (1) param then it is call back if (2) then postData and callBack\n      var obj = this;\n      // check for multiple params\n      if (typeof postData === 'function') {\n        callBack = postData;\n        postData = null;\n      }\n      if (postData == null) postData = {};\n      if (!this.url || (typeof this.url === 'object' && !this.url.get)) return;\n      if (this.recid == null) this.recid = 0;\n      // build parameters list\n      var params = {};\n      // add list params\n      params['cmd'] = 'get';\n      params['recid'] = this.recid;\n      params['name'] = this.name;\n      // append other params\n      $.extend(params, this.postData);\n      $.extend(params, postData);\n      // event before\n      var edata = this.trigger({ phase: 'before', type: 'request', target: this.name, url: this.url, postData: params, httpHeaders: this.httpHeaders });\n      if (edata.isCancelled === true) { if (typeof callBack === 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n      // default action\n      this.record = {};\n      this.original = null;\n      // call server to get data\n      this.lock(w2utils.lang(this.msgRefresh));\n      var url = edata.url;\n      if (typeof edata.url === 'object' && edata.url.get) url = edata.url.get;\n      if (this.last.xhr) try { this.last.xhr.abort(); } catch (e) { }\n      // process url with routeData\n      if (!$.isEmptyObject(obj.routeData)) {\n        var info = w2utils.parseRoute(url);\n        if (info.keys.length > 0) {\n          for (var k = 0; k < info.keys.length; k++) {\n            if (obj.routeData[info.keys[k].name] == null) continue;\n            url = url.replace((new RegExp(':' + info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n          }\n        }\n      }\n      var ajaxOptions = {\n        type: 'POST',\n        url: url,\n        data: edata.postData,\n        headers: edata.httpHeaders,\n        dataType: 'json'   // expected from server\n      }\n      var dataType = obj.dataType || w2utils.settings.dataType;\n      if (edata.dataType) dataType = edata.dataType;\n      switch (dataType) {\n        case 'HTTP':\n          ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n          break\n        case 'HTTPJSON':\n          ajaxOptions.data = { request: JSON.stringify(ajaxOptions.data) };\n          break;\n        case 'RESTFULL':\n          ajaxOptions.type = 'GET';\n          ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n          break;\n        case 'RESTFULLJSON':\n          ajaxOptions.type = 'GET';\n          ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n          ajaxOptions.contentType = 'application/json';\n          break;\n        case 'JSON':\n          ajaxOptions.type = 'POST';\n          ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n          ajaxOptions.contentType = 'application/json';\n          break;\n      }\n      if (this.method) ajaxOptions.type = this.method;\n      if (edata.method) ajaxOptions.type = edata.method;\n      this.last.xhr = $.ajax(ajaxOptions)\n        .done(function (data, status, xhr) {\n          obj.unlock();\n          // prepare record\n          var data = xhr.responseJSON;\n          if (data == null) {\n            data = {\n              status: 'error',\n              message: w2utils.lang(obj.msgNotJSON),\n              responseText: xhr.responseText\n            }\n          }\n          // event before\n          var edata = obj.trigger({ phase: 'before', target: obj.name, type: 'load', data: data, xhr: xhr });\n          if (edata.isCancelled === true) {\n            if (typeof callBack === 'function') callBack({ status: 'error', message: 'Request aborted.' });\n            return;\n          }\n          // parse server response\n          if (edata.data.status === 'error') {\n            obj.error(w2utils.lang(edata.data['message']));\n          } else {\n            obj.record = $.extend({}, edata.data.record);\n          }\n          // event after\n          obj.trigger($.extend(edata, { phase: 'after' }));\n          obj.refresh();\n          obj.applyFocus();\n          // call back\n          if (typeof callBack === 'function') callBack(edata.data);\n        })\n        .fail(function (xhr, status, error) {\n          // trigger event\n          var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n          var edata2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n          if (edata2.isCancelled === true) return;\n          // default behavior\n          if (status !== 'abort') {\n            var data;\n            try { data = typeof xhr.responseJSON === 'object' ? xhr.responseJSON : $.parseJSON(xhr.responseText); } catch (e) { }\n            console.log('ERROR: Server communication failed.',\n              '\\n   EXPECTED:', { status: 'success', items: [{ id: 1, text: 'item' }] },\n              '\\n         OR:', { status: 'error', message: 'error message' },\n              '\\n   RECEIVED:', typeof data === 'object' ? data : xhr.responseText);\n            obj.unlock();\n          }\n          // event after\n          obj.trigger($.extend(edata2, { phase: 'after' }));\n        });\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    submit: function (postData, callBack) {\n      return this.save(postData, callBack);\n    },\n\n    save: function (postData, callBack) {\n      var obj = this;\n      $(this.box).find(':focus').change(); // trigger onchange\n      // check for multiple params\n      if (typeof postData === 'function') {\n        callBack = postData;\n        postData = null;\n      }\n      // validation\n      var errors = obj.validate(true);\n      if (errors.length !== 0) return;\n      // submit save\n      if (postData == null) postData = {};\n      if (!obj.url || (typeof obj.url === 'object' && !obj.url.save)) {\n        console.log('ERROR: Form cannot be saved because no url is defined.');\n        return;\n      }\n      obj.lock(w2utils.lang(obj.msgSaving) + ' <span id=\"' + obj.name + '_progress\"></span>');\n      // need timer to allow to lock\n      setTimeout(function () {\n        // build parameters list\n        var params = {};\n        // add list params\n        params['cmd'] = 'save';\n        params['recid'] = obj.recid;\n        params['name'] = obj.name;\n        // append other params\n        $.extend(params, obj.postData);\n        $.extend(params, postData);\n        // clear up files\n        if (!obj.multipart)\n          obj.fields.forEach(function (item) {\n            if (item.type === 'file' && Array.isArray(obj.getValue(item.field))) {\n              obj.getValue(item.field).forEach(function (fitem) {\n                delete fitem.file;\n              });\n            }\n          });\n        params.record = $.extend(true, {}, obj.record);\n        // event before\n        var edata = obj.trigger({ phase: 'before', type: 'submit', target: obj.name, url: obj.url, postData: params, httpHeaders: obj.httpHeaders });\n        if (edata.isCancelled === true) return;\n        // default action\n        var url = edata.url;\n        if (typeof edata.url === 'object' && edata.url.save) url = edata.url.save;\n        if (obj.last.xhr) try { obj.last.xhr.abort(); } catch (e) { }\n        // process url with routeData\n        if (!$.isEmptyObject(obj.routeData)) {\n          var info = w2utils.parseRoute(url);\n          if (info.keys.length > 0) {\n            for (var k = 0; k < info.keys.length; k++) {\n              if (obj.routeData[info.keys[k].name] == null) continue;\n              url = url.replace((new RegExp(':' + info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n            }\n          }\n        }\n        var ajaxOptions = {\n          type: 'POST',\n          url: url,\n          data: edata.postData,\n          headers: edata.httpHeaders,\n          dataType: 'json',   // expected from server\n          xhr: function () {\n            var xhr = new window.XMLHttpRequest();\n            // upload\n            xhr.upload.addEventListener(\"progress\", function (evt) {\n              if (evt.lengthComputable) {\n                var edata3 = obj.trigger({ phase: 'before', type: 'progress', total: evt.total, loaded: evt.loaded, originalEvent: evt });\n                if (edata3.isCancelled === true) return;\n                // only show % if it takes time\n                var percent = Math.round(evt.loaded / evt.total * 100);\n                if ((percent && percent != 100) || $('#' + obj.name + '_progress').text() != '') {\n                  $('#' + obj.name + '_progress').text('' + percent + '%');\n                }\n                // event after\n                obj.trigger($.extend(edata3, { phase: 'after' }));\n              }\n            }, false);\n            return xhr;\n          }\n        };\n        var dataType = obj.dataType || w2utils.settings.dataType;\n        if (edata.dataType) dataType = edata.dataType;\n        switch (dataType) {\n          case 'HTTP':\n            ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n            break;\n          case 'HTTPJSON':\n            ajaxOptions.data = { request: JSON.stringify(ajaxOptions.data) };\n            break;\n          case 'RESTFULL':\n            if (obj.recid !== 0 && obj.recid != null) ajaxOptions.type = 'PUT';\n            ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n            break;\n          case 'RESTFULLJSON':\n            if (obj.recid !== 0 && obj.recid != null) ajaxOptions.type = 'PUT';\n            ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n            ajaxOptions.contentType = 'application/json';\n            break;\n          case 'JSON':\n            ajaxOptions.type = 'POST';\n            ajaxOptions.contentType = 'application/json';\n            if (!obj.multipart) {\n              ajaxOptions.data = JSON.stringify(ajaxOptions.data);\n            } else {\n              function apend(fd, dob, fob, p) {\n                if (p == null) p = '';\n                function isObj(dob, fob, p) {\n                  if (typeof dob === 'object' && dob instanceof File) fd.append(p, dob);\n                  if (typeof dob === 'object') {\n                    if (!!dob && dob.constructor === Array) {\n                      for (var i = 0; i < dob.length; i++) {\n                        var aux_fob = !!fob ? fob[i] : fob;\n                        isObj(dob[i], aux_fob, p + '[' + i + ']');\n                      }\n                    } else {\n                      apend(fd, dob, fob, p);\n                    }\n                  }\n                }\n                for (var prop in dob) {\n                  var aux_p = p == '' ? prop : '${p}[${prop}]';\n                  var aux_fob = !!fob ? fob[prop] : fob;\n                  isObj(dob[prop], aux_fob, aux_p);\n                }\n              }\n              var fdata = new FormData();\n              fdata.append('__body', JSON.stringify(ajaxOptions.data));\n              apend(fdata, ajaxOptions.data)\n              ajaxOptions.data = fdata;\n              ajaxOptions.contentType = false;\n              ajaxOptions.processData = false;\n            }\n            break;\n        }\n        if (this.method) ajaxOptions.type = this.method;\n        if (edata.method) ajaxOptions.type = edata.method;\n        obj.last.xhr = $.ajax(ajaxOptions)\n          .done(function (data, status, xhr) {\n            obj.unlock();\n            // event before\n            var edata = obj.trigger({ phase: 'before', target: obj.name, type: 'save', xhr: xhr, status: status, data: data });\n            if (edata.isCancelled === true) return;\n            // parse server response\n            var data = xhr.responseJSON;\n            // default action\n            if (data == null) {\n              data = {\n                status: 'error',\n                message: w2utils.lang(obj.msgNotJSON),\n                responseText: xhr.responseText\n              };\n            }\n            if (data.status === 'error') {\n              obj.error(w2utils.lang(data.message));\n            } else {\n              obj.original = null;\n            }\n            // event after\n            obj.trigger($.extend(edata, { phase: 'after' }));\n            obj.refresh();\n            // call back\n            if (typeof callBack === 'function') callBack(data, xhr);\n          })\n          .fail(function (xhr, status, error) {\n            // trigger event\n            var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n            var edata2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n            if (edata2.isCancelled === true) return;\n            // default behavior\n            console.log('ERROR: server communication failed. The server should return',\n              { status: 'success' }, 'OR', { status: 'error', message: 'error message' },\n              ', instead the AJAX request produced this: ', errorObj);\n            obj.unlock();\n            // event after\n            obj.trigger($.extend(edata2, { phase: 'after' }));\n          });\n        // event after\n        obj.trigger($.extend(edata, { phase: 'after' }));\n      }, 50);\n    },\n\n    lock: function (msg, showSpinner) {\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.unshift(this.box);\n      setTimeout(function () { w2utils.lock.apply(window, args); }, 10);\n    },\n\n    unlock: function (speed) {\n      var box = this.box;\n      setTimeout(function () { w2utils.unlock(box, speed); }, 25); // needed timer so if server fast, it will not flash\n    },\n\n    lockPage: function (page, msg) {\n      var $page = $(this.box).find(\".page-\" + page);\n      if ($page.length) {\n        // page found\n        w2utils.lock($page, msg);\n        return true;\n      }\n      // page with this id not found!\n      return false;\n    },\n\n    unlockPage: function (page, speed) {\n      var $page = $(this.box).find(\".page-\" + page);\n      if ($page.length) {\n        // page found\n        w2utils.unlock($page, speed);\n        return true;\n      }\n      // page with this id not found!\n      return false;\n    },\n\n    goto: function (page) {\n      if (this.page === page) return; // already on this page\n      if (page != null) this.page = page;\n      // if it was auto size, resize it\n      if ($(this.box).data('auto-size') === true) $(this.box).height(0);\n      this.refresh();\n    },\n\n    generateHTML: function () {\n      var pages = []; // array for each page\n      var group = '';\n      var page;\n      var column;\n      var html;\n      var tabindex;\n      var tabindex_str;\n      for (var f = 0; f < this.fields.length; f++) {\n        html = '';\n        tabindex = this.tabindexBase + f + 1;\n        tabindex_str = ' tabindex=\"' + tabindex + '\"';\n        var field = this.fields[f];\n        if (field.html == null) field.html = {};\n        if (field.options == null) field.options = {};\n        if (field.html.caption != null && field.html.label == null) {\n          console.log('NOTICE: form field.html.caption property is deprecated, please use field.html.label. Field ->', field)\n          field.html.label = field.html.caption;\n        }\n        if (field.html.label == null) field.html.label = field.field;\n        field.html = $.extend(true, { label: '', span: 6, attr: '', text: '', style: '', page: 0, column: 0 }, field.html);\n        if (page == null) page = field.html.page;\n        if (column == null) column = field.html.column;\n        // input control\n        var input = '<input spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" class=\"w2ui-input\" type=\"text\" ' + field.html.attr + tabindex_str + '>';\n        switch (field.type) {\n          case 'pass':\n          case 'password':\n            input = '<input spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" class=\"w2ui-input\" type = \"password\" ' + field.html.attr + tabindex_str + '>';\n            break;\n          case 'check':\n          case 'checks':\n            if (field.options.items == null && field.html.items != null) field.options.items = field.html.items;\n            var items = field.options.items;\n            input = '';\n            // normalized options\n            if (!$.isArray(items)) items = [];\n            if (items.length > 0) {\n              items = w2obj.field.prototype.normMenu.call(this, items, field);\n            }\n            // generate\n            for (var i = 0; i < items.length; i++) {\n              input += '<label class=\"w2ui-box-label\">' +\n                '  <input spellcheck=\"false\" id=\"' + field.field + i + '\" name=\"' + field.field + '\" class=\"w2ui-input\" type=\"checkbox\" ' +\n                field.html.attr + (i === 0 ? tabindex_str : '') + ' data-value=\"' + items[i].id + '\" data-index=\"' + i + '\">' +\n                '<span>&#160;' + items[i].text + '</span>' +\n                '</label><br>';\n            }\n            break;\n\n          case 'checkbox':\n            input = '<label class=\"w2ui-box-label\">' +\n              '   <input spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" class=\"w2ui-input\" type=\"checkbox\" ' + field.html.attr + tabindex_str + '>' +\n              '   <span>' + field.html.label + '</span>' +\n              '</label>';\n            break;\n          case 'radio':\n            input = '';\n            // normalized options\n            if (field.options.items == null && field.html.items != null) field.options.items = field.html.items;\n            var items = field.options.items;\n            if (!$.isArray(items)) items = [];\n            if (items.length > 0) {\n              items = w2obj.field.prototype.normMenu.call(this, items, field);\n            }\n            // generate\n            for (var i = 0; i < items.length; i++) {\n              input += '<label class=\"w2ui-box-label\">' +\n                '  <input spellcheck=\"false\" id=\"' + field.field + i + '\" name=\"' + field.field + '\" class=\"w2ui-input\" type = \"radio\" ' +\n                field.html.attr + (i === 0 ? tabindex_str : '') + ' value=\"' + items[i].id + '\">' +\n                '<span>&#160;' + items[i].text + '</span>' +\n                '</label><br>';\n            }\n            break;\n          case 'select':\n            input = '<select spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" class=\"w2ui-input\" ' + field.html.attr + tabindex_str + '>';\n            // normalized options\n            if (field.options.items == null && field.html.items != null) field.options.items = field.html.items;\n            var items = field.options.items;\n            if (!$.isArray(items)) items = [];\n            if (items.length > 0) {\n              items = w2obj.field.prototype.normMenu.call(this, items, field);\n            }\n            // generate\n            for (var i = 0; i < items.length; i++) {\n              input += '<option spellcheck=\"false\" value=\"' + items[i].id + '\">' + items[i].text + '</option>';\n            }\n            input += '</select>';\n            break;\n          case 'textarea':\n            input = '<textarea spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" class=\"w2ui-input\" ' + field.html.attr + tabindex_str + '></textarea>';\n            break;\n          case 'toggle':\n            input = '<input spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" type=\"checkbox\" ' + field.html.attr + tabindex_str + ' class=\"w2ui-input w2ui-toggle\"><div><div></div></div>';\n            break;\n          case 'map':\n          case 'array':\n            field.html.key = field.html.key || {};\n            field.html.value = field.html.value || {};\n            field.html.tabindex_str = tabindex_str\n            input = '<span style=\"float: right\">' + (field.html.text || '') + '</span>' +\n              '<input spellcheck=\"false\" id=\"' + field.field + '\" name=\"' + field.field + '\" type=\"hidden\" ' + field.html.attr + tabindex_str + '>' +\n              '<div class=\"w2ui-map-container\"></div>';\n            break;\n          case 'html':\n          case 'div':\n          case 'custom':\n            input = '<div id=\"' + field.field + '\" name=\"' + field.field + '\" ' + field.html.attr + tabindex_str + '>' +\n              (field && field.html && field.html.html ? field.html.html : '') +\n              '</div>';\n            break;\n          case 'empty':\n            input = (field && field.html ? (field.html.html || '') + (field.html.text || '') : '');\n            break;\n\n        }\n        if (group !== '') {\n          if (page != field.html.page || column != field.html.column || (field.html.group && (group != field.html.group))) {\n            pages[page][column] += '\\n   </div>\\n  </div>';\n            group = '';\n          }\n        }\n        if (field.html.group && (group != field.html.group)) {\n          var collapsable = '';\n          if (field.html.groupCollapsable) {\n            collapsable = '<span class=\"w2ui-icon-collapse\" style=\"width: 15px; display: inline-block; position: relative; top: -2px;\"></span>'\n          }\n          html += '\\n <div class=\"w2ui-group\">'\n            + '\\n   <div class=\"w2ui-group-title\" style=\"' + (field.html.groupTitleStyle || '')\n            + (collapsable != '' ? 'cursor: pointer; user-select: none' : '') + '\"'\n            + (collapsable != '' ? 'data-group=\"' + w2utils.base64encode(field.html.group) + '\"' : '')\n            + (collapsable != ''\n              ? 'onclick=\"w2ui[\\'' + this.name + '\\'].toggleGroup(\\'' + field.html.group + '\\')\"'\n              : '')\n            + '>'\n            + collapsable + field.html.group + '</div>\\n'\n            + '   <div class=\"w2ui-group-fields\" style=\"' + (field.html.groupStyle || '') + '\">';\n          group = field.html.group;\n        }\n        if (field.html.anchor == null) {\n          var span = (field.html.span != null ? 'w2ui-span' + field.html.span : '')\n          if (field.html.span == -1) span = 'w2ui-span-none';\n          var label = '<label' + (span == 'none' ? ' style=\"display: none\"' : '') + '>' + w2utils.lang(field.type != 'checkbox' ? field.html.label : field.html.text) + '</label>'\n          if (!field.html.label) label = ''\n          html += '\\n      <div class=\"w2ui-field ' + span + '\" style=\"' + (field.hidden ? 'display: none;' : '') + field.html.style + '\">' +\n            '\\n         ' + label +\n            ((field.type === 'empty') ? input : '\\n         <div>' + input + (field.type != 'array' && field.type != 'map' ? w2utils.lang(field.type != 'checkbox' ? field.html.text : '') : '') + '</div>') +\n            '\\n      </div>';\n        } else {\n          pages[field.html.page].anchors = pages[field.html.page].anchors || {};\n          pages[field.html.page].anchors[field.html.anchor] = '<div class=\"w2ui-field w2ui-field-inline\" style=\"' + (field.hidden ? 'display: none;' : '') + field.html.style + '\">' +\n            ((field.type === 'empty') ? input : '<div>' + w2utils.lang(field.type != 'checkbox' ? field.html.label : field.html.text) + input + w2utils.lang(field.type != 'checkbox' ? field.html.text : '') + '</div>') +\n            '</div>';\n        }\n        if (pages[field.html.page] == null) pages[field.html.page] = {};\n        if (pages[field.html.page][field.html.column] == null) pages[field.html.page][field.html.column] = '';\n        pages[field.html.page][field.html.column] += html;\n        page = field.html.page;\n        column = field.html.column;\n      }\n      if (group !== '') pages[page][column] += '\\n   </div>\\n  </div>';\n      if (this.tabs.tabs) {\n        for (var i = 0; i < this.tabs.tabs.length; i++) if (pages[i] == null) pages[i] = [];\n      }\n      // buttons if any\n      var buttons = '';\n      if (!$.isEmptyObject(this.actions)) {\n        var addClass = '';\n        buttons += '\\n<div class=\"w2ui-buttons\">';\n        tabindex = this.tabindexBase + this.fields.length + 1;\n\n        for (var a in this.actions) { // it is an object\n          var act = this.actions[a];\n          var info = { text: '', style: '', \"class\": '' };\n          if ($.isPlainObject(act)) {\n            if (act.text == null && act.caption != null) {\n              console.log('NOTICE: form action.caption property is deprecated, please use action.text. Action ->', act);\n              act.text = act.caption;\n            }\n            if (act.text) info.text = act.text;\n            if (act.style) info.style = act.style;\n            if (act[\"class\"]) info['class'] = act['class'];\n          } else {\n            info.text = a;\n            if (['save', 'update', 'create'].indexOf(a.toLowerCase()) !== -1) info['class'] = 'w2ui-btn-blue'; else info['class'] = '';\n          }\n          buttons += '\\n    <button name=\"' + a + '\" class=\"w2ui-btn ' + info['class'] + '\" style=\"' + info.style + '\" tabindex=\"' + tabindex + '\">' +\n            w2utils.lang(info.text) + '</button>';\n          tabindex++;\n        }\n        buttons += '\\n</div>';\n      }\n      html = '';\n      for (var p = 0; p < pages.length; p++) {\n        html += '<div class=\"w2ui-page page-' + p + '\" style=\"' + (p !== 0 ? 'display: none;' : '') + this.pageStyle + '\">';\n        if (pages[p].before) {\n          html += pages[p].before;\n        }\n        html += '<div class=\"w2ui-column-container\">';\n        Object.keys(pages[p]).sort().forEach(function (c, ind) {\n          if (c == parseInt(c)) {\n            html += '<div class=\"w2ui-column col-' + c + '\">' + (pages[p][c] || '') + '\\n</div>';\n          }\n        })\n        html += '\\n</div>';\n        if (pages[p].after) {\n          html += pages[p].after;\n        }\n        html += '\\n</div>';\n        // process page anchors\n        if (pages[p].anchors) {\n          Object.keys(pages[p].anchors).forEach(function (key, ind) {\n            html = html.replace(key, pages[p].anchors[key]);\n          });\n        }\n      }\n      html += buttons;\n      return html;\n    },\n\n    toggleGroup: function (groupName, show) {\n      var el = $(this.box).find('.w2ui-group-title[data-group=\"' + w2utils.base64encode(groupName) + '\"]')\n      if (el.next().css('display') == 'none' && show !== true) {\n        el.next().slideDown(300);\n        el.next().next().remove()\n        el.find('span').addClass('w2ui-icon-collapse').removeClass('w2ui-icon-expand');\n      } else {\n        el.next().slideUp(300);\n        var css = 'width: ' + el.next().css('width') + ';'\n          + 'padding-left: ' + el.next().css('padding-left') + ';'\n          + 'padding-right: ' + el.next().css('padding-right') + ';'\n          + 'margin-left: ' + el.next().css('margin-left') + ';'\n          + 'margin-right: ' + el.next().css('margin-right') + ';'\n        setTimeout(function () { el.next().after('<div style=\"height: 5px;' + css + '\"></div>') }, 100)\n        el.find('span').addClass('w2ui-icon-expand').removeClass('w2ui-icon-collapse');\n      }\n    },\n\n    action: function (action, event) {\n      var act = this.actions[action];\n      var click = act;\n      if ($.isPlainObject(act) && act.onClick) click = act.onClick;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: action, type: 'action', action: act, originalEvent: event });\n      if (edata.isCancelled === true) return;\n      // default actions\n      if (typeof click === 'function') click.call(this, event);\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n    },\n\n    resize: function () {\n      var obj = this;\n\n      return;\n\n\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'resize' });\n      if (edata.isCancelled === true) return;\n      // default behaviour\n      var main = $(this.box).find('> div.w2ui-form-box');\n      var header = $(this.box).find('> div .w2ui-form-header');\n      var toolbar = $(this.box).find('> div .w2ui-form-toolbar');\n      var tabs = $(this.box).find('> div .w2ui-form-tabs');\n      var page = $(this.box).find('> div .w2ui-page');\n      var cpage = $(this.box).find('> div .w2ui-page.page-' + this.page);\n      var dpage = $(this.box).find('> div .w2ui-page.page-' + this.page + ' > div');\n      var buttons = $(this.box).find('> div .w2ui-buttons');\n      // if no height, calculate it\n      resizeElements();\n      if (this.autosize) {    //we don't need auto-size every time\n        if (parseInt($(this.box).height()) === 0 || $(this.box).data('auto-size') === true) {\n          $(this.box).height(\n            (header.length > 0 ? w2utils.getSize(header, 'height') : 0) +\n            ((typeof this.tabs === 'object' && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0) ? w2utils.getSize(tabs, 'height') : 0) +\n            ((typeof this.toolbar === 'object' && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') : 0) +\n            (page.length > 0 ? w2utils.getSize(dpage, 'height') + w2utils.getSize(cpage, '+height') + 12 : 0) +  // why 12 ??? // say whatttttttt\n            (buttons.length > 0 ? w2utils.getSize(buttons, 'height') : 0)\n          );\n          $(this.box).data('auto-size', true);\n        }\n        resizeElements();\n      }\n      if (this.toolbar && this.toolbar.resize) this.toolbar.resize();\n      if (this.tabs && this.tabs.resize) this.tabs.resize();\n      // event after\n      obj.trigger($.extend(edata, { phase: 'after' }));\n\n      function resizeElements() {\n        // resize elements\n        main.width($(obj.box).width()).height($(obj.box).height());\n        toolbar.css('top', (obj.header !== '' ? w2utils.getSize(header, 'height') : 0));\n        tabs.css('top', (obj.header !== '' ? w2utils.getSize(header, 'height') : 0)\n          + ((typeof obj.toolbar === 'object' && $.isArray(obj.toolbar.items) && obj.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') : 0));\n        page.css('top', (obj.header !== '' ? w2utils.getSize(header, 'height') : 0)\n          + ((typeof obj.toolbar === 'object' && $.isArray(obj.toolbar.items) && obj.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') + 5 : 0)\n          + ((typeof obj.tabs === 'object' && $.isArray(obj.tabs.tabs) && obj.tabs.tabs.length > 0) ? w2utils.getSize(tabs, 'height') + 5 : 0));\n        page.css('bottom', (buttons.length > 0 ? w2utils.getSize(buttons, 'height') : 0));\n      }\n    },\n\n    refresh: function () {\n      var time = (new Date()).getTime();\n      var obj = this;\n      if (!this.box) return;\n      if (!this.isGenerated || $(this.box).html() == null) return;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'refresh', page: this.page, field: field, fields: arguments });\n      if (edata.isCancelled === true) return;\n      var fields = Array.from(this.fields.keys());\n      if (arguments.length > 0) {\n        fields = Array.from(arguments)\n          .map(function (fld, ind) {\n            if (typeof fld != 'string') console.log('ERROR: Arguments in refresh functions should be field names')\n            return this.get(fld, true); // get index of field\n          }.bind(this))\n          .filter(function (fld, ind) {\n            if (fld != null) return true; else return false;\n          });\n      } else {\n        // update what page field belongs\n        $(this.box).find('input, textarea, select').each(function (index, el) {\n          var name = ($(el).attr('name') != null ? $(el).attr('name') : $(el).attr('id'));\n          var field = obj.get(name);\n          if (field) {\n            // find page\n            var div = $(el).closest('.w2ui-page');\n            if (div.length > 0) {\n              for (var i = 0; i < 100; i++) {\n                if (div.hasClass('page-' + i)) { field.page = i; break; }\n              }\n            }\n          }\n        });\n        // default action\n        $(this.box).find('.w2ui-page').hide();\n        $(this.box).find('.w2ui-page.page-' + this.page).show();\n        $(this.box).find('.w2ui-form-header').html(this.header);\n        // refresh tabs if needed\n        if (typeof this.tabs === 'object' && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0) {\n          $('#form_' + this.name + '_tabs').show();\n          this.tabs.active = this.tabs.tabs[this.page].id;\n          this.tabs.refresh();\n        } else {\n          $('#form_' + this.name + '_tabs').hide();\n        }\n        // refresh tabs if needed\n        if (typeof this.toolbar === 'object' && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0) {\n          $('#form_' + this.name + '_toolbar').show();\n          this.toolbar.refresh();\n        } else {\n          $('#form_' + this.name + '_toolbar').hide();\n        }\n      }\n      // refresh values of fields\n      for (var f = 0; f < fields.length; f++) {\n        var field = this.fields[fields[f]];\n        if (field.name == null && field.field != null) field.name = field.field;\n        if (field.field == null && field.name != null) field.field = field.name;\n        field.$el = $(this.box).find('[name=\"' + String(field.name).replace(/\\\\/g, '\\\\\\\\') + '\"]');\n        field.el = field.$el[0];\n        if (field.el) field.el.id = field.name;\n        var tmp = $(field).data('w2field');\n        if (tmp) tmp.clear();\n        $(field.$el)\n          .off('.w2form')\n          .on('change.w2form', function (event) {\n            var that = this;\n            var field = obj.get(this.name);\n            if (field == null) return;\n            if ($(this).data('skip_change') == true) {\n              $(this).data('skip_change', false)\n              return\n            }\n\n            var value_new = this.value;\n            var value_previous = obj.getValue(this.name);\n            if (value_previous == null) value_previous = ''\n\n            if (['list', 'enum', 'file'].indexOf(field.type) !== -1 && $(this).data('selected')) {\n              var nv = $(this).data('selected');\n              var cv = obj.getValue(this.name);\n              if ($.isArray(nv)) {\n                value_new = [];\n                for (var i = 0; i < nv.length; i++) value_new[i] = $.extend(true, {}, nv[i]); // clone array\n              }\n              if ($.isPlainObject(nv)) {\n                value_new = $.extend(true, {}, nv); // clone object\n              }\n              if ($.isArray(cv)) {\n                value_previous = [];\n                for (var i = 0; i < cv.length; i++) value_previous[i] = $.extend(true, {}, cv[i]); // clone array\n              }\n              if ($.isPlainObject(cv)) {\n                value_previous = $.extend(true, {}, cv); // clone object\n              }\n            }\n            if (['toggle', 'checkbox'].indexOf(field.type) !== -1) {\n              value_new = ($(this).prop('checked') ? ($(this).prop('value') === 'on' ? true : $(this).prop('value')) : false);\n            }\n            if (['check', 'checks'].indexOf(field.type) !== -1) {\n              if (!Array.isArray(value_previous)) value_previous = [];\n              value_new = value_previous.slice();\n              var tmp = field.options.items[$(this).attr('data-index')];\n              if ($(this).prop('checked')) {\n                value_new.push(tmp.id)\n              } else {\n                value_new.splice(value_new.indexOf(tmp.id), 1)\n              }\n            }\n            // clean extra chars\n            if (['int', 'float', 'percent', 'money', 'currency'].indexOf(field.type) !== -1) {\n              value_new = $(this).data('w2field').clean(value_new);\n            }\n            if (value_new === value_previous) return;\n            // event before\n            var edata2 = obj.trigger({ phase: 'before', target: this.name, type: 'change', value_new: value_new, value_previous: value_previous, originalEvent: event });\n            if (edata2.isCancelled === true) {\n              edata2.value_new = obj.getValue(this.name)\n              if ($(this).val() !== edata2.value_new) {\n                $(this).data('skip_change', true)\n                // if not immediate, then ignore it\n                setTimeout(function () { $(that).data('skip_change', false) }, 10)\n              }\n              $(this).val(edata2.value_new); // return previous value\n            }\n            // default action\n            var val = edata2.value_new;\n            if (['enum', 'file'].indexOf(field.type) !== -1) {\n              if (val.length > 0) {\n                var fld = $(field.el).data('w2field').helpers.multi;\n                $(fld).removeClass('w2ui-error');\n              }\n            }\n            if (val === '' || val == null\n              || ($.isArray(val) && val.length === 0) || ($.isPlainObject(val) && $.isEmptyObject(val))) {\n              val = null;\n            }\n            obj.setValue(this.name, val);\n            // event after\n            obj.trigger($.extend(edata2, { phase: 'after' }));\n          })\n          .on('input.w2form', function (event) {\n            var val = this.value;\n            if (event.target.type == 'checkbox') {\n              val = event.target.checked;\n            }\n            // remember original\n            if (obj.original == null) {\n              if (!$.isEmptyObject(obj.record)) {\n                obj.original = $.extend(true, {}, obj.record);\n              } else {\n                obj.original = {};\n              }\n            }\n            // event before\n            var edata2 = obj.trigger({ phase: 'before', target: this.name, type: 'input', value_new: val, originalEvent: event });\n            if (edata2.isCancelled === true) return;\n\n            // event after\n            obj.trigger($.extend(edata2, { phase: 'after' }));\n          });\n        // required\n        if (field.required) {\n          $(field.el).parent().parent().addClass('w2ui-required');\n        } else {\n          $(field.el).parent().parent().removeClass('w2ui-required');\n        }\n        // disabled\n        if (field.disabled != null) {\n          var $fld = $(field.el);\n          if (field.disabled) {\n            if ($fld.data('w2ui-tabIndex') == null) {\n              $fld.data('w2ui-tabIndex', $fld.prop('tabIndex'));\n            }\n            $(field.el)\n              .prop('readonly', true)\n              .prop('tabindex', -1)\n              .closest('.w2ui-field')\n              .addClass('w2ui-disabled');\n          } else {\n            $(field.el)\n              .prop('readonly', false)\n              .prop('tabIndex', $fld.data('w2ui-tabIndex'))\n              .closest('.w2ui-field')\n              .removeClass('w2ui-disabled');\n          }\n        }\n        // hidden\n        var tmp = field.el;\n        if (!tmp) tmp = $(this.box).find('#' + field.field)\n        if (field.hidden) {\n          $(tmp).closest('.w2ui-field').hide();\n        } else {\n          $(tmp).closest('.w2ui-field').show();\n        }\n      }\n      // attach actions on buttons\n      $(this.box).find('button, input[type=button]').each(function (index, el) {\n        $(el).off('click').on('click', function (event) {\n          var action = this.value;\n          if (this.id) action = this.id;\n          if (this.name) action = this.name;\n          obj.action(action, event);\n        });\n      });\n      // init controls with record\n      for (var f = 0; f < fields.length; f++) {\n        var field = this.fields[fields[f]];\n        var value = (this.getValue(field.name) != null ? this.getValue(field.name) : '');\n        if (!field.el) continue;\n        if (!$(field.el).hasClass('w2ui-input')) $(field.el).addClass('w2ui-input');\n        field.type = String(field.type).toLowerCase();\n        if (!field.options) field.options = {};\n        switch (field.type) {\n          case 'text':\n          case 'textarea':\n          case 'email':\n          case 'pass':\n          case 'password':\n            field.el.value = value;\n            break;\n          case 'int':\n          case 'float':\n          case 'money':\n          case 'currency':\n          case 'percent':\n            // issue #761\n            field.el.value = value;\n            $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n            break;\n          case 'hex':\n          case 'alphanumeric':\n          case 'color':\n          case 'date':\n          case 'time':\n            field.el.value = value;\n            $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n            break;\n          case 'toggle':\n            if (w2utils.isFloat(value)) value = parseFloat(value);\n            $(field.el).prop('checked', (value ? true : false));\n            this.setValue(field.name, (value ? value : false));\n            break;\n          case 'radio':\n            $(field.$el).prop('checked', false).each(function (index, el) {\n              if ($(el).val() == value) $(el).prop('checked', true);\n            });\n            break;\n          case 'checkbox':\n            $(field.el).prop('checked', value ? true : false);\n            if (field.disabled === true || field.disabled === false) {\n              $(field.el).prop('disabled', field.disabled ? true : false)\n            }\n            break;\n          case 'check':\n          case 'checks':\n            if (Array.isArray(value)) {\n              value.forEach(function (val) {\n                $(field.el).closest('div').find('[data-value=\"' + val + '\"]').prop('checked', true)\n              })\n            }\n            if (field.disabled) {\n              $(field.el).closest('div').find('input[type=checkbox]').prop('disabled', true)\n            } else {\n              $(field.el).closest('div').find('input[type=checkbox]').removeProp('disabled')\n            }\n            break;\n          // enums\n          case 'list':\n          case 'combo':\n            if (field.type === 'list') {\n              var tmp_value = ($.isPlainObject(value) ? value.id : ($.isPlainObject(field.options.selected) ? field.options.selected.id : value));\n              // normalized options\n              if (!field.options.items) field.options.items = [];\n              var items = field.options.items;\n              if (typeof items == 'function') items = items();\n              // find value from items\n              var isFound = false;\n              if (Array.isArray(items)) {\n                for (var i = 0; i < items.length; i++) {\n                  var item = items[i];\n                  if (item.id == tmp_value) {\n                    value = $.extend(true, {}, item);\n                    obj.setValue(field.name, value);\n                    isFound = true;\n                    break;\n                  }\n                }\n              }\n              if (!isFound && value != null && value !== '') {\n                field.$el.data('find_selected', value);\n              }\n            } else if (field.type === 'combo' && !$.isPlainObject(value)) {\n              field.el.value = value;\n            } else if ($.isPlainObject(value) && value.text != null) {\n              field.el.value = value.text;\n            } else {\n              field.el.value = '';\n            }\n            if (!$.isPlainObject(value)) value = {};\n            $(field.el).w2field($.extend({}, field.options, { type: field.type, selected: value }));\n            break;\n          case 'enum':\n          case 'file':\n            var sel = [];\n            var isFound = false;\n            if (!$.isArray(value)) value = [];\n            if (typeof field.options.items != 'function') {\n              if (!$.isArray(field.options.items)) {\n                field.options.items = [];\n              }\n              // find value from items\n              value.forEach(function (val) {\n                field.options.items.forEach(function (it) {\n                  if (it && (it.id == val || ($.isPlainObject(val) && it.id == val.id))) {\n                    sel.push($.isPlainObject(it) ? $.extend(true, {}, it) : it);\n                    isFound = true\n                  }\n                })\n              })\n            }\n            if (!isFound && value != null && value.length !== 0) {\n              field.$el.data('find_selected', value);\n              sel = value\n            }\n            var opt = $.extend({}, field.options, { type: field.type, selected: sel })\n            Object.keys(field.options).forEach(function (key) {\n              if (typeof field.options[key] == 'function') {\n                opt[key] = field.options[key]\n              }\n            })\n            $(field.el).w2field(opt);\n            break;\n\n          // standard HTML\n          case 'select':\n            // generate options\n            var items = field.options.items;\n            if (items != null && items.length > 0) {\n              items = w2obj.field.prototype.normMenu.call(this, items, field);\n              $(field.el).html('');\n              for (var it = 0; it < items.length; it++) {\n                $(field.el).append('<option value=\"' + items[it].id + '\">' + items[it].text + '</option');\n              }\n            }\n            $(field.el).val(value);\n            break;\n          case 'map':\n          case 'array':\n            // init map\n            if (field.type == 'map' && (value == null || !$.isPlainObject(value))) {\n              this.setValue(field.field, {})\n              value = this.getValue(field.field)\n            }\n            if (field.type == 'array' && (value == null || !Array.isArray(value))) {\n              this.setValue(field.field, [])\n              value = this.getValue(field.field)\n            }\n            // need closure\n            (function (obj, field) {\n              field.el.mapAdd = function (field, div, cnt) {\n                var attr = (field.disabled ? ' readOnly ' : '') + (field.html.tabindex_str || '');\n                var html = '<div class=\"w2ui-map-field\" style=\"margin-bottom: 5px\">' +\n                  '<input spellcheck=\"false\" id=\"' + field.field + '_key_' + cnt + '\" data-cnt=\"' + cnt + '\" type=\"text\" ' + field.html.key.attr + attr + ' class=\"w2ui-input w2ui-map key\">' +\n                  (field.html.key.text || '') +\n                  '<input spellcheck=\"false\" id=\"' + field.field + '_value_' + cnt + '\" data-cnt=\"' + cnt + '\" type=\"text\" ' + field.html.value.attr + attr + ' class=\"w2ui-input w2ui-map value\">' +\n                  (field.html.value.text || '') +\n                  '</div>';\n                div.append(html)\n              }\n              field.el.mapRefresh = function (map, div) {\n                // generate options\n                var cnt = 1;\n                var names;\n                if (field.type == 'map') {\n                  if (!$.isPlainObject(map)) map = {}\n                  if (map._order == null) map._order = Object.keys(map)\n                  names = map._order\n                }\n                if (field.type == 'array') {\n                  if (!Array.isArray(map)) map = []\n                  names = map.map(function (item) { return item.key })\n                }\n                var $k, $v;\n                names.forEach(function (item) {\n                  $k = div.find('#' + w2utils.escapeId(field.name) + '_key_' + cnt)\n                  $v = div.find('#' + w2utils.escapeId(field.name) + '_value_' + cnt)\n                  if ($k.length == 0 || $v.length == 0) {\n                    field.el.mapAdd(field, div, cnt)\n                    $k = div.find('#' + w2utils.escapeId(field.name) + '_key_' + cnt)\n                    $v = div.find('#' + w2utils.escapeId(field.name) + '_value_' + cnt)\n                  }\n                  var val = map[item];\n                  if (field.type == 'array') {\n                    var tmp = map.filter(function (it) { return it.key == item ? true : false })\n                    if (tmp.length > 0) val = tmp[0].value\n                  }\n                  $k.val(item);\n                  $v.val(val);\n                  if (field.disabled === true || field.disabled === false) {\n                    $k.prop('readOnly', field.disabled ? true : false)\n                    $v.prop('readOnly', field.disabled ? true : false)\n                  }\n                  $k.parents('.w2ui-map-field').attr('data-key', item)\n                  cnt++\n                })\n                var curr = div.find('#' + w2utils.escapeId(field.name) + '_key_' + cnt).parent()\n                var next = div.find('#' + w2utils.escapeId(field.name) + '_key_' + (cnt + 1)).parent()\n                // if not disabled - show next\n                if (curr.length === 0 && !($k && ($k.prop('readOnly') === true || $k.prop('disabled') === true))) {\n                  field.el.mapAdd(field, div, cnt);\n                }\n                if (curr.length == 1 && next.length == 1) {\n                  curr.removeAttr('data-key')\n                  curr.find('.key').val(next.find('.key').val());\n                  curr.find('.value').val(next.find('.value').val());\n                  next.remove()\n                }\n                if (field.disabled === true || field.disabled === false) {\n                  curr.find('.key').prop('readOnly', field.disabled ? true : false)\n                  curr.find('.value').prop('readOnly', field.disabled ? true : false)\n                }\n                // attach events\n                $(field.el).next().find('input.w2ui-map')\n                  .off('.mapChange')\n                  .on('keyup.mapChange', function (event) {\n                    var $div = $(event.target).parents('.w2ui-map-field')\n                    if (event.keyCode == 13) {\n                      $div.next().find('input.key').focus()\n                    }\n\n                  })\n                  .on('change.mapChange', function () {\n                    var $div = $(event.target).parents('.w2ui-map-field')\n                    var old = $div.attr('data-key')\n                    var key = $div.find('.key').val()\n                    var value = $div.find('.value').val()\n                    // event before\n                    var value_new = {}\n                    var value_previous = {}\n                    var aMap = null\n                    var aIndex = null\n                    value_new[key] = value\n                    if (field.type == 'array') {\n                      map.forEach(function (it, ind) {\n                        if (it.key == old) aIndex = ind\n                      })\n                      aMap = map[aIndex]\n                    }\n                    if (old != null && field.type == 'map') {\n                      value_previous[old] = map[old]\n                    }\n                    if (old != null && field.type == 'array') {\n                      value_previous[old] = aMap.value\n                    }\n                    var edata = obj.trigger({ phase: 'before', target: field.field, type: 'change', originalEvent: event, value_new: value_new, value_previous: value_previous })\n                    if (edata.isCancelled === true) {\n                      return;\n                    }\n                    if (field.type == 'map') {\n                      delete map[old];\n                      var ind = map._order.indexOf(old)\n                      if (key != '') {\n                        if (map[key] != null) {\n                          var newKey, more = 0\n                          do { more++; newKey = key + more } while (map[newKey] != null)\n                          key = newKey\n                          $div.find('.key').val(newKey)\n                        }\n                        map[key] = value;\n                        $div.attr('data-key', key)\n                        if (ind != -1) {\n                          map._order[ind] = key\n                        } else {\n                          map._order.push(key)\n                        }\n                      } else {\n                        map._order.splice(ind, 1)\n                        $div.find('.value').val('')\n                      }\n                    } else if (field.type == 'array') {\n                      if (key != '') {\n                        if (aMap == null) {\n                          map.push({ key: key, value: value })\n                        } else {\n                          aMap.key = key\n                          aMap.value = value\n                        }\n                      } else {\n                        map.splice(aIndex, 1)\n                      }\n                    }\n                    obj.setValue(field.field, map)\n                    field.el.mapRefresh(map, div)\n                    // event after\n                    obj.trigger($.extend(edata, { phase: 'after' }));\n                  })\n              }\n              field.el.mapRefresh(value, $(field.el).parent().find('.w2ui-map-container'))\n            })(this, field)\n            break;\n          case 'div':\n          case 'custom':\n            $(field.el).html(value)\n            break;\n          case 'html':\n          case 'empty':\n            break;\n          default:\n            $(field.el).val(value);\n            $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n            break;\n        }\n      }\n      // wrap pages in div\n      var tmp = $(this.box).find('.w2ui-page');\n      for (var i = 0; i < tmp.length; i++) {\n        if ($(tmp[i]).find('> *').length > 1) $(tmp[i]).wrapInner('<div></div>');\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      this.resize();\n      return (new Date()).getTime() - time;\n    },\n\n    render: function (box) {\n      var time = (new Date()).getTime();\n      var obj = this;\n      if (typeof box === 'object') {\n        // remove from previous box\n        if ($(this.box).find('#form_' + this.name + '_tabs').length > 0) {\n          $(this.box).removeAttr('name')\n            .removeClass('w2ui-reset w2ui-form')\n            .html('');\n        }\n        this.box = box;\n      }\n      if (!this.isGenerated) return;\n      if (!this.box) return;\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'render', box: (box != null ? box : this.box) });\n      if (edata.isCancelled === true) return;\n      var html = '<div class=\"w2ui-form-box\">' +\n        (this.header !== '' ? '<div class=\"w2ui-form-header\">' + this.header + '</div>' : '') +\n        '    <div id=\"form_' + this.name + '_toolbar\" class=\"w2ui-form-toolbar\" style=\"display: none\"></div>' +\n        '    <div id=\"form_' + this.name + '_tabs\" class=\"w2ui-form-tabs\" style=\"display: none\"></div>' +\n        this.formHTML +\n        '</div>';\n      $(this.box).attr('name', this.name)\n        .addClass('w2ui-reset w2ui-form')\n        .html(html);\n      if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n\n      // init toolbar regardless it is defined or not\n      if (typeof this.toolbar.render !== 'function') {\n        this.toolbar = $().w2toolbar($.extend({}, this.toolbar, { name: this.name + '_toolbar', owner: this }));\n        this.toolbar.on('click', function (event) {\n          var edata = obj.trigger({ phase: 'before', type: 'toolbar', target: event.target, originalEvent: event });\n          if (edata.isCancelled === true) return;\n          // no default action\n          obj.trigger($.extend(edata, { phase: 'after' }));\n        });\n      }\n      if (typeof this.toolbar === 'object' && typeof this.toolbar.render === 'function') {\n        this.toolbar.render($('#form_' + this.name + '_toolbar')[0]);\n      }\n      // init tabs regardless it is defined or not\n      if (typeof this.tabs.render !== 'function') {\n        this.tabs = $().w2tabs($.extend({}, this.tabs, { name: this.name + '_tabs', owner: this, active: this.tabs.active }));\n        this.tabs.on('click', function (event) {\n          obj.goto(this.get(event.target, true));\n        });\n      }\n      if (typeof this.tabs === 'object' && typeof this.tabs.render === 'function') {\n        this.tabs.render($('#form_' + this.name + '_tabs')[0]);\n        if (this.tabs.active) this.tabs.click(this.tabs.active);\n      }\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      // after render actions\n      this.resize();\n      var url = (typeof this.url !== 'object' ? this.url : this.url.get);\n      if (url && this.recid !== 0 && this.recid != null) {\n        this.request();\n      } else {\n        this.refresh();\n      }\n      // attach to resize event\n      if ($('.w2ui-layout').length === 0) { // if there is layout, it will send a resize event\n        this.tmp_resize = function (event) {\n          if (w2ui[obj.name] == null) {\n            $(window).off('resize.w2uiResize', obj.tmp_resize);\n          } else {\n            w2ui[obj.name].resize();\n          }\n        }\n        $(window).off('resize.w2uiResize').on('resize.w2uiResize', obj.tmp_resize);\n      }\n      if (this.focus != -1) {\n        setTimeout(function () {\n          // if not rendered in 10ms, then wait 500ms\n          if ($(obj.box).find('input, select, textarea').length === 0) {\n            setTimeout(focusEl, 500); // need timeout to allow form to render\n          } else {\n            obj.applyFocus();\n          }\n        }, 50);\n      }\n      return (new Date()).getTime() - time;\n    },\n\n    applyFocus: function () {\n      var focus = this.focus;\n      var inputs = $(this.box).find('div:not(.w2ui-field-helper) > input, select, textarea, div > label:nth-child(1) > :radio').not('.file-input');\n      // find visible\n      while ($(inputs[focus]).is(':hidden') && inputs.length >= focus) {\n        focus++\n      }\n      if (inputs[focus]) inputs[focus].focus();\n    },\n\n    destroy: function () {\n      // event before\n      var edata = this.trigger({ phase: 'before', target: this.name, type: 'destroy' });\n      if (edata.isCancelled === true) return;\n      // clean up\n      if (typeof this.toolbar === 'object' && this.toolbar.destroy) this.toolbar.destroy();\n      if (typeof this.tabs === 'object' && this.tabs.destroy) this.tabs.destroy();\n      if ($(this.box).find('#form_' + this.name + '_tabs').length > 0) {\n        $(this.box)\n          .removeAttr('name')\n          .removeClass('w2ui-reset w2ui-form')\n          .html('');\n      }\n      delete w2ui[this.name];\n      // event after\n      this.trigger($.extend(edata, { phase: 'after' }));\n      $(window).off('resize', 'body')\n    }\n  };\n\n  $.extend(w2form.prototype, w2utils.event);\n  w2obj.form = w2form;\n})(jQuery);\n\n/***********************************************************\n*  Compatibility with CommonJS and AMD modules\n*\n*********************************************************/\n\nmodule.exports = {\n  W2Layout: w2obj.layout,\n  W2Grid: w2obj.grid,\n  W2Toolbar: w2obj.toolbar,\n  W2Sidebar: w2obj.sidebar,\n  W2Tabs: w2obj.tabs,\n  W2Form: w2obj.form,\n  W2Popup: w2popup\n};\n\n/*\n(function(global, w2ui) {\n    if (typeof define=='function' && define.amd) {\n        return define(function(){ return w2ui; });\n    }\n    if (typeof exports!='undefined') {\n        if (typeof module!='undefined' && module.exports)\n            return exports = module.exports = w2ui;\n        global = exports;\n    }\n    for (var m in w2ui) {\n        global[m] = w2ui[m];\n    }\n})(this, {\n    w2ui: w2ui,\n    w2obj: w2obj,\n    w2utils: w2utils,\n    w2popup: w2popup,\n    w2alert: w2alert,\n    w2confirm: w2confirm,\n    w2prompt: w2prompt\n});*/\n\n//# sourceMappingURL=w2ui-1.5.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(a){'use strict';var b=function(){for(var d=arguments.length,c=Array(d),f=0;f<d;f++)c[f]=arguments[f];var g=document.createElement('input');return'object'===_typeof(c[0])&&(!0===c[0].multiple&&g.setAttribute('multiple',''),void 0!==c[0].accept&&g.setAttribute('accept',c[0].accept)),g.setAttribute('type','file'),g.style.display='none',g.setAttribute('id','hidden-file'),document.body.appendChild(g),new Promise(function(h){g.addEventListener('change',function(){h(g.files);var l=c[c.length-1];'function'==typeof l&&l(g.files),document.body.removeChild(g)});var j=document.createEvent('MouseEvents');j.initMouseEvent('click',!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),g.dispatchEvent(j)})};'function'==typeof define&&define.amd?define(function(){return b}):'undefined'==typeof exports?a.fileDialog=b:('undefined'!=typeof module&&module.exports&&(exports=module.exports=b),exports.fileDialog=b)})(void 0);\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/*!\n * jQuery JavaScript Library v3.6.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2022-08-26T17:52Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.6.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.6\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2021-02-16\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem && elem.namespaceURI,\n\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: Chrome 86+\n\t\t\t\t\t\t// In Chrome, if an element having a focusout handler is blurred by\n\t\t\t\t\t\t// clicking outside of it, it invokes the handler synchronously. If\n\t\t\t\t\t\t// that handler calls `.remove()` on the element, the data is cleared,\n\t\t\t\t\t\t// leaving `result` undefined. We need to guard against this.\n\t\t\t\t\t\treturn result && result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is display: block\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\t// trim whitespace for custom property (issue gh-4926)\n\t\tif ( isCustomProp ) {\n\n\t\t\t// rtrim treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" );\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","/*!\n\nJSZip v3.10.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.1\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){\"use strict\";t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=e(\"./support\");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexports.__esModule = true;\nexports.StrictEventEmitter = void 0;\nvar events_1 = require(\"events\");\nvar StrictEventEmitter = /** @class */ (function (_super) {\n    __extends(StrictEventEmitter, _super);\n    function StrictEventEmitter() {\n        return _super.call(this) || this;\n    }\n    StrictEventEmitter.prototype.on = function (event, listener) {\n        return _super.prototype.on.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.once = function (event, listener) {\n        return _super.prototype.once.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.off = function (event, listener) {\n        return _super.prototype.off.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.emit = function (event) {\n        var data = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            data[_i - 1] = arguments[_i];\n        }\n        return _super.prototype.emit.apply(this, __spreadArrays([event.toString()], data));\n    };\n    StrictEventEmitter.prototype.addListener = function (event, listener) {\n        return _super.prototype.addListener.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.prependListener = function (event, listener) {\n        return _super.prototype.prependListener.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.prependOnceListener = function (event, listener) {\n        return _super.prototype.prependOnceListener.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.removeListener = function (event, listener) {\n        return _super.prototype.removeListener.call(this, event.toString(), listener);\n    };\n    StrictEventEmitter.prototype.removeAllListeners = function (event) {\n        if (event) {\n            return _super.prototype.removeAllListeners.call(this, event.toString());\n        }\n        return _super.prototype.removeAllListeners.call(this);\n    };\n    StrictEventEmitter.prototype.eventNames = function () {\n        return _super.prototype.eventNames.call(this);\n    };\n    StrictEventEmitter.prototype.listeners = function (event) {\n        return _super.prototype.listeners.call(this, event.toString());\n    };\n    StrictEventEmitter.prototype.rawListeners = function (event) {\n        return _super.prototype.rawListeners.call(this, event.toString());\n    };\n    StrictEventEmitter.prototype.listenerCount = function (event) {\n        return _super.prototype.listenerCount.call(this, event.toString());\n    };\n    return StrictEventEmitter;\n}(events_1.EventEmitter));\nexports.StrictEventEmitter = StrictEventEmitter;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nexports.__esModule = true;\n__exportStar(require(\"./StrictEventEmitter\"), exports);\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Editor from './system/editor'\n\n/* launch the editor in one line :D [do you feel the power of this single line of code ( ͡° ͜ʖ ͡°) ] */\nEditor.launch()\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable camelcase */\n/* eslint-disable no-use-before-define */\n\nimport { Nullable } from '../helper/utils'\nimport Line from './line'\nimport { Deserializer, JSONObject, Serializable } from './object-mapper'\nimport { Point } from './point'\nimport { Vector } from './vector'\n\nexport class Arc implements Serializable {\n  center: Point // readonly ?\n  radius: number\n  startAngle: number\n  endAngle: number\n\n  static get Zero () { return new Arc(Point.Zero, 0, 0, 0) }\n\n  constructor (center: Point, radius: number, startAngle: number, endAngle: number) {\n    this.center = center\n    this.radius = radius\n    this.startAngle = startAngle\n    this.endAngle = endAngle\n  }\n\n  static duplicate (arc: Arc) {\n    return new Arc(Point.duplicate(arc.center), arc.radius, arc.startAngle, arc.endAngle)\n  }\n\n  /**\n   * p.x = o.x + t d.x = c.x + r cos(u)\n   * p.y = o.y + t d.y = c.y + r sin(u)\n   */\n  intersect (line: Line): Nullable<Array<Point>> {\n    const o = new Vector(line.start)\n    const d = line.direction\n    const c = new Vector(this.center)\n    const r = this.radius\n    const cs = new Vector(this.center, line.start)\n\n    // (d.x² + d.y²) t² + 2 (d.x.cs.x + d.y.cd.y) t + cs.x² + cs.y² - r² = 0\n    const delta = 4 * d.dot(cs) * d.dot(cs) - 4 * d.magSqr() * (cs.magSqr() - r * r)\n\n    if (delta < 0) {\n      return null\n    }\n\n    if (delta === 0) {\n      const t = -d.dot(cs) / d.magSqr()\n      if (t > 1 || t < 0) return null\n      const p = o.add(d.times(t)) // o + t d\n      const u = p.sub(c).argument() // arg( p - c )\n      if (u < this.startAngle || u > this.endAngle) return null\n      return [new Point(p.x, p.y)]\n    }\n\n    const res: Array<Point> = []\n\n    const t1 = -(2 * d.dot(cs) - Math.sqrt(delta)) / (2 * d.magSqr())\n    const t2 = -(2 * d.dot(cs) + Math.sqrt(delta)) / (2 * d.magSqr())\n\n    if (t1 >= 0 && t1 <= 1) {\n      const p = o.add(d.times(t1)) // o + t1 d\n      const u = p.sub(c).argument() // arg( p - c )\n      if (u >= this.startAngle && u <= this.endAngle) {\n        res.push(new Point(p.x, p.y))\n      }\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      const p = o.add(d.times(t2)) // o + t2 d\n      const u = p.sub(c).argument() // arg( p - c )\n      if (u >= this.startAngle && u <= this.endAngle) {\n        res.push(new Point(p.x, p.y))\n      }\n    }\n\n    return res.length === 0 ? null : res\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Arc',\n      center: this.center.serialize(),\n      radius: this.radius,\n      startAngle: this.startAngle,\n      endAngle: this.endAngle\n    }\n  }\n\n  static deserializer: Deserializer<Arc> = (data: JSONObject) => {\n    if (data.type !== 'Arc') throw new Error('bad type')\n    return new Arc(Point.deserializer(data.center), data.radius, data.startAngle, data.endAngle)\n  }\n}\n\nexport default Arc\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Nullable } from '../helper/utils'\nimport { Deserializers, IsSerializable, JSONObject, Serializable } from './object-mapper'\n\nexport class Collection<T> implements Serializable {\n  private storage: Array<T> = []\n\n  static Empty <T> () { return new Collection<T>() }\n\n  static from <T> (storage: Array<T>) {\n    const r = new Collection<T>()\n    for (const instance of storage) {\n      r.add(instance)\n    }\n    return r\n  }\n\n  get length (): number {\n    return this.storage.length\n  }\n\n  get (index: number): T {\n    return this.storage[index]\n  }\n\n  add (instance: T) {\n    this.storage.push(instance)\n  }\n\n  remove (instance: T) {\n    const index = this.storage.indexOf(instance)\n    if (index < 0) throw new Error('instance not found')\n    this.storage.splice(index, 1)\n  }\n\n  tryRemove (instance: T) {\n    const index = this.storage.indexOf(instance)\n    if (index < 0) return\n    this.storage.splice(index, 1)\n  }\n\n  forEach <K> (callbackfn: (this: K, value: T, index: number, array: T[]) => void, thisArg?: K) {\n    this.storage.forEach(callbackfn, thisArg)\n  }\n\n  map <K, V> (callbackfn: (this: K, value: T, index: number, array: T[]) => V, thisArg?: K): Collection<V> {\n    return Collection.from(this.storage.map(callbackfn, thisArg) as Array<V>)\n  }\n\n  find<S extends T> (\n    predicate: (this: void, value: T, index: number, obj: T[]) => value is S,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    thisArg?: any\n  ): Nullable<S> {\n    const v = this.storage.find(predicate, thisArg)\n    if (typeof v === 'undefined') return null\n    return v as S\n  }\n\n  filter<S extends T> (\n    predicate: (this: void, value: T, index: number, obj: T[]) => value is S,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    thisArg?: any\n  ): Collection<S> {\n    return Collection.from(this.storage.filter(predicate, thisArg)) as unknown as Collection<S>\n  }\n\n  toArray (): Array<T> {\n    return this.storage\n  }\n\n  clear (): void {\n    this.storage = []\n  }\n\n  destroy (): void {\n    this.clear()\n  }\n\n  serialize (): JSONObject {\n    const storage = []\n    for (const instance of this.storage) {\n      if (IsSerializable(instance)) {\n        storage.push(instance.serialize())\n      } else {\n        storage.push(instance)\n      }\n    }\n    return {\n      type: 'Collection',\n      storage\n    }\n  }\n\n  static deserializer <T extends Serializable> (data: JSONObject, types?: Deserializers): Collection<T> {\n    if (data.type !== 'Collection') throw new Error('bad type')\n    if (typeof types === 'undefined') throw new Error('unable to deserialize generic class without types')\n    const storage = []\n    for (let i = 0; i < data.storage.length; i++) {\n      const type = types[data.storage[i].type]\n      if (typeof type === 'undefined') throw new Error(`unable to find the type ${data.storage[i].type}`)\n      storage.push(type(data.storage[i], types))\n    }\n    return Collection.from(storage)\n  }\n}\n\nexport default Collection\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable camelcase */\n/* eslint-disable no-use-before-define */\n\nimport { equals0, Nullable } from '../helper/utils'\nimport { Deserializer, JSONObject, Serializable } from './object-mapper'\nimport { Point } from './point'\nimport { Vector } from './vector'\n\nexport class Line implements Serializable {\n  start: Point // readonly ?\n  end: Point\n\n  static get Zero () { return new Line(Point.Zero, Point.Zero) }\n\n  constructor (start: Point, end: Point) {\n    this.start = start\n    this.end = end\n  }\n\n  get direction () {\n    return new Vector(this.start, this.end)\n  }\n\n  static duplicate (line: Line) {\n    return new Line(Point.duplicate(line.start), Point.duplicate(line.end))\n  }\n\n  /**\n   *\n   * p + t r = q + u s\n   *\n   * @see https://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\n   * @see https://gist.github.com/tp/75cb619a7e40e6ad008ef2a6837bbdb2\n   */\n  intersect (ls1: Line): Nullable<Point> {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const ls0 = this\n    const p = new Vector(ls0.start)\n    const r = ls0.direction\n    const q = new Vector(ls1.start)\n    const s = ls1.direction\n\n    // r × s\n    const r_s = r.cross(s)\n    // (q − p) × r\n    const q_p_r = q.sub(p).cross(r)\n\n    if (equals0(r_s) && equals0(q_p_r)) {\n    // t0 = (q − p) · r / (r · r)\n    // const t0 = dot(subtractPoints(q, p), r) / dot(r, r);\n\n      // t1 = (q + s − p) · r / (r · r) = t0 + s · r / (r · r)\n      // const t1 = t0 + dot(s, r) / dot(r, r);\n\n      // NOTE(tp): For some reason (which I haven't spotted yet), the above t0 and hence t1 is wrong\n      // So resorting to calculating it 'backwards'\n      const t1 = q.add(s.sub(p)).dot(r) / r.dot(r)\n      const t0 = t1 - s.dot(r) / r.dot(r)\n\n      if ((t0 >= 0 && t0 <= 1) || (t1 >= 0 && t1 <= 1)) {\n        const v = p.add(r.times(t1))\n        return new Point(v.x, v.y)\n      }\n\n      return null\n    }\n\n    if (equals0(r_s) && !equals0(q_p_r)) {\n      return null\n    }\n\n    // t = (q − p) × s / (r × s)\n    const t = q.sub(p).cross(s) / r.cross(s)\n\n    // u = (q − p) × r / (r × s)\n    const u = q.sub(p).cross(r) / r.cross(s)\n\n    if (!equals0(r_s) && t >= 0 && t <= 1 && u >= 0 && u <= 1) {\n      const v = p.add(r.times(t))\n      return new Point(v.x, v.y)\n    }\n\n    return null\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Line',\n      start: this.start.serialize(),\n      end: this.end.serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Line> = (data: JSONObject) => {\n    if (data.type !== 'Line') throw new Error('bad type')\n    return new Line(Point.deserializer(data.start), Point.deserializer(data.end))\n  }\n}\n\nexport default Line\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type JSONObject = any\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ClassType = any\n\nexport interface Serializable {\n\n  serialize(): JSONObject\n\n}\n\nexport type Deserializer<T = Serializable> = (data: JSONObject, types?: {[type: string]: Deserializer<ClassType>}) => T\n\nexport type Deserializers = {[type: string]: Deserializer<ClassType>}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function IsSerializable (value: any): value is Serializable {\n  return typeof value.serialize === 'function'\n}\n\nexport class ObjectMapper {\n  static stringify (o: Serializable): string {\n    return JSON.stringify(o.serialize())\n  }\n\n  static parse <T> (data: string, types: Deserializers): T {\n    const o = JSON.parse(data)\n    if (typeof o.type === 'undefined') throw new Error('bad data')\n    if (typeof types[o.type] === 'undefined') throw new Error(`unable to find the type ${o.type}`)\n    const type = types[o.type]\n    return <T>type(o, types)\n  }\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Deserializer, JSONObject, Serializable } from './object-mapper'\n\nexport class Point implements Serializable {\n  static get Zero () { return new Point(0, 0) }\n\n  x: number\n  y: number\n\n  constructor (x?: number, y?: number) {\n    this.x = typeof x === 'number' ? x : 0\n    this.y = typeof y === 'number' ? y : 0\n  }\n\n  static add (a: Point, b: Point) {\n    return new Point(a.x + b.x, a.y + b.y)\n  }\n\n  static sub (a: Point, b: Point) {\n    return new Point(a.x - b.x, a.y - b.y)\n  }\n\n  static mul (a: Point, b: Point) {\n    return new Point(a.x * b.x, a.y * b.y)\n  }\n\n  static div (a: Point, b: Point) {\n    return new Point(a.x / b.x, a.y / b.y)\n  }\n\n  static duplicate (p: Point) {\n    return new Point(p.x, p.y)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Point',\n      x: this.x,\n      y: this.y\n    }\n  }\n\n  static deserializer: Deserializer<Point> = (data: JSONObject) => {\n    if (data.type !== 'Point') throw new Error('bad type')\n    return new Point(data.x, data.y)\n  }\n}\n\nexport default Point\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport { Deserializer, Deserializers, IsSerializable, JSONObject, Serializable } from './object-mapper'\n\ninterface PointerEvents {\n  change: () => void\n}\n\n/**\n *\n */\nexport class Pointer<T> extends StrictEventEmitter<PointerEvents> implements Serializable {\n  private value: T\n\n  protected constructor (value: T) {\n    super()\n    this.value = value\n  }\n\n  set (value: T) {\n    this.value = value\n    this.emit('change')\n  }\n\n  get (): T {\n    return this.value\n  }\n\n  /** @internal */\n  static make <T> (value: T) {\n    return new Pointer(value)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Pointer',\n      value: IsSerializable(this.value) ? this.value.serialize() : this.value\n    }\n  }\n\n  static deserializer: Deserializer<Pointer<Serializable>> = (data: JSONObject, types?: Deserializers) => {\n    if (data.type !== 'Registry') throw new Error('bad type')\n    if (typeof types === 'undefined') throw new Error('unable to deserialize generic class without types')\n    if (typeof data.value.type === 'undefined') {\n      return Pointer.make(data.value)\n    }\n    const type = types[data.value.type]\n    if (typeof type === 'undefined') throw new Error(`unable to find the type ${data.value.type}`)\n    return Pointer.make(type(data.value, types))\n  }\n}\n\nexport function makePointer <T> (value: T) {\n  return Pointer.make(value)\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isPointer (ptr: any): ptr is Pointer<any> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return ptr instanceof Pointer<any>\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport { isPointer, Pointer } from './pointer'\n\ninterface Events {\n  set: () => void\n  destroy: () => void\n}\n\nexport type Convertor<T> = (value: string) => T\nexport type DeConvertor<T> = (value: T) => string\n\nexport const floatConvertor: Convertor<number> = (value: string) => {\n  if (value.trim() === '' || (value.trim().length > 0 && value.trim().charAt(value.trim().length - 1) === '.') || Number.isNaN(Number(value))) throw new Error('bad value')\n  return parseFloat(value)\n}\nexport const floatDeconvertor: DeConvertor<number> = (value: number) => value + ''\n\nclass PropertyInputBuilder<T, K> {\n  private placeholder = ''\n  private value?: T\n  private convertor?: Convertor<K>\n  private deconvertor?: DeConvertor<K>\n\n  constructor (placeholder: string, value?: T) {\n    this.placeholder = placeholder\n    this.value = value\n  }\n\n  setConvertor (convertor?: Convertor<K>): PropertyInputBuilder<T, K> {\n    this.convertor = convertor\n    return this\n  }\n\n  setDeConvertor (deconvertor?: DeConvertor<K>): PropertyInputBuilder<T, K> {\n    this.deconvertor = deconvertor\n    return this\n  }\n\n  convert (val: string | number | string[] | undefined): K {\n    return typeof this.convertor === 'undefined' ? val as K : this.convertor(val as string)\n  }\n\n  deconvert (val: K): string {\n    return typeof this.deconvertor === 'undefined' ? val as string : this.deconvertor(val)\n  }\n\n  build (): JQuery {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    const input = $(document.createElement('input'))\n    input.attr('placeholder', this.placeholder)\n    if (typeof this.value !== 'undefined') {\n      if (isPointer(this.value)) {\n        const value = this.value\n        const listener = () => {\n          input.val(that.deconvert(value.get()))\n        }\n        input.val(that.deconvert(this.value.get()))\n        input.on('change keyup keydown', () => {\n          value.off('change', listener)\n          try {\n            value.set(that.convert(input.val()))\n            input.val(that.deconvert(value.get()))\n          } catch (e) {}\n          value.on('change', listener)\n        })\n        value.on('change', listener)\n      } else {\n        input.val(that.deconvert(this.value as unknown as K))\n      }\n    }\n    return input\n  }\n}\n\nclass PropertySelectBuilder<T, K> {\n  private placeholder = ''\n  private value?: T\n  private options: {[key: string]: string}\n  private convertor?: Convertor<K>\n  private deconvertor?: DeConvertor<K>\n\n  constructor (placeholder: string, options: {[key: string]: string}, value?: T) {\n    this.placeholder = placeholder\n    this.value = value\n    this.options = options\n  }\n\n  setConvertor (convertor?: Convertor<K>): PropertySelectBuilder<T, K> {\n    this.convertor = convertor\n    return this\n  }\n\n  setDeConvertor (deconvertor?: DeConvertor<K>): PropertySelectBuilder<T, K> {\n    this.deconvertor = deconvertor\n    return this\n  }\n\n  convert (val: string | number | string[] | undefined): K {\n    return typeof this.convertor === 'undefined' ? val as K : this.convertor(val as string)\n  }\n\n  deconvert (val: K): string {\n    return typeof this.deconvertor === 'undefined' ? val as string : this.deconvertor(val)\n  }\n\n  build (): JQuery {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    const input = $(document.createElement('select'))\n    for (const [key, value] of Object.entries(this.options)) {\n      input.append($('<option>', {\n        value: key,\n        text: value\n      }))\n    }\n    if (typeof this.value !== 'undefined') {\n      if (isPointer(this.value)) {\n        const value = this.value\n        const listener = () => {\n          input.val(that.deconvert(value.get()))\n        }\n        input.val(that.deconvert(this.value.get()))\n        input.on('change keyup keydown', () => {\n          value.off('change', listener)\n          try {\n            value.set(that.convert(input.val()))\n            input.val(that.deconvert(value.get()))\n          } catch (e) {}\n          value.on('change', listener)\n        })\n        value.on('change', listener)\n      } else {\n        input.val(that.deconvert(this.value as unknown as K))\n      }\n    }\n    return input\n  }\n}\n\nclass PropertyFormBuilder {\n  private name = 'unnamed'\n  private input = $(document.createElement('input')) as JQuery\n\n  setName (name: string) {\n    this.name = name\n    return this\n  }\n\n  setInput (input: JQuery) {\n    this.input = input\n    return this\n  }\n\n  build (): JQuery {\n    const tr = $(document.createElement('tr'))\n    const name = $(document.createElement('td'))\n    name.addClass('fitwidth')\n    name.html(this.name)\n    const value = $(document.createElement('td'))\n    value.append(this.input)\n    tr.append(name)\n    tr.append(value)\n    return tr\n  }\n}\n\nexport const PropertyForm = () => {\n  return new PropertyFormBuilder()\n}\n\nexport const PropertyInput = <T, K> (placeholder: string, value?: T) => {\n  return new PropertyInputBuilder<T, K>(placeholder, value)\n}\n\nexport const PropertySelect = <T, K> (placeholder: string, options: {[key: string]: string}, value?: T) => {\n  return new PropertySelectBuilder<T, K>(placeholder, options, value)\n}\n\nexport type FormBuilder = () => JQuery\n\nexport const DefaultFormBuilder = <T, K> (name: string, value?: T, convertor?: Convertor<K>, deconvertor?: DeConvertor<K>): FormBuilder => {\n  return () => {\n    return PropertyForm().setName(name).setInput(PropertyInput<T, K>(name, value).setConvertor(convertor).setDeConvertor(deconvertor).build()).build()\n  }\n}\n\nexport const SelectFormBuilder = <T, K> (name: string, options: {[key: string]: string}, value?: T, convertor?: Convertor<K>, deconvertor?: DeConvertor<K>): FormBuilder => {\n  return () => {\n    return PropertyForm().setName(name).setInput(PropertySelect<T, K>(name, options, value).setConvertor(convertor).setDeConvertor(deconvertor).build()).build()\n  }\n}\n\nexport class Property<T> extends StrictEventEmitter<Events> {\n  private name: string\n  private value: T | Pointer<T>\n  private convertor: Convertor<T>\n  private formbuilder: FormBuilder\n  constructor (name: string, defaultValue: T, convertor: Convertor<T>, formbuilder: FormBuilder)\n  constructor (name: string, defaultValue: Pointer<T>, convertor: Convertor<T>, formbuilder: FormBuilder)\n  constructor (name: string, defaultValue: T | Pointer<T>, convertor: Convertor<T>, formbuilder: FormBuilder) {\n    super()\n    this.name = name\n    this.value = defaultValue\n    this.convertor = convertor\n    this.formbuilder = formbuilder\n  }\n\n  getForm (): JQuery {\n    const form = this.formbuilder()\n    const listener = () => {\n      form.remove()\n      this.off('destroy', listener)\n    }\n    this.on('destroy', listener)\n    return form\n  }\n\n  getName () {\n    return this.name\n  }\n\n  setValue (value: T) {\n    if (isPointer(this.value)) {\n      this.value.set(this.convertor(value as unknown as string))\n    } else {\n      this.value = this.convertor(value as unknown as string)\n    }\n    this.emit('set')\n  }\n\n  getValue () {\n    if (isPointer(this.value)) {\n      return this.value.get()\n    } else {\n      return this.value\n    }\n  }\n\n  destroy (): void {\n    this.emit('destroy')\n  }\n}\n\nexport type Properties<T> = { [K in keyof T]?: Property<T[K] | Pointer<T[K]>> }\n\nexport default Property\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Deserializer, JSONObject, Serializable } from './object-mapper'\nimport { Point } from './point'\n\nexport class Rectangle implements Serializable {\n  static get Zero () { return Rectangle.from(0, 0, 0, 0) }\n\n  origin: Point\n  size: Point\n\n  constructor (origin: Point, size: Point) {\n    this.origin = origin\n    this.size = size\n  }\n\n  ratio () {\n    return this.size.x / this.size.y\n  }\n\n  static from (x: number, y: number, w: number, h: number) {\n    return new Rectangle(new Point(x, y), new Point(w, h))\n  }\n\n  static fromSize (w: number, h: number) {\n    return new Rectangle(new Point(0, 0), new Point(w, h))\n  }\n\n  static duplicate (rect: Rectangle) {\n    return new Rectangle(Point.duplicate(rect.origin), Point.duplicate(rect.size))\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Rectangle',\n      origin: this.origin.serialize(),\n      size: this.size.serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Rectangle> = (data: JSONObject) => {\n    if (data.type !== 'Rectangle') throw new Error('bad type')\n    return new Rectangle(Point.deserializer(data.origin), Point.deserializer(data.size))\n  }\n}\n\nexport default Rectangle\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nexport class UniqueID {\n  private data: {[key:number]: boolean} = []\n  get (): number {\n    let id = 1\n    while (typeof this.data[id] !== 'undefined') id++\n    this.data[id] = true\n    return id\n  }\n\n  remove (id: number) {\n    if (typeof this.data[id] === 'undefined') throw new Error('unable to remove id')\n    delete this.data[id]\n  }\n}\n\nexport default UniqueID\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { EPSILON } from '../helper/utils'\nimport Point from './point'\n\nexport class Vector {\n  values: number[]\n\n  constructor(x?: number, y?: number);\n  constructor(values?: number[]);\n  constructor(k?: number);\n  constructor(a?: Point);\n  constructor(a?: Point, b?: Point);\n  constructor (a?: number | number[] | Point, b?: number | Point) {\n    if (a instanceof Point && b instanceof Point) {\n      const c = Point.sub(b, a)\n      this.values = [c.x, c.y]\n    } else if (Array.isArray(a)) {\n      this.values = a.length >= 2 ? [a[0], a[1]] : a.length === 1 ? [a[0], a[0]] : [0, 0]\n    } else if (typeof b === 'undefined') {\n      if (a instanceof Point) {\n        this.values = [a.x, a.y]\n      } else {\n        this.values = [typeof a === 'number' ? a : 0, typeof a === 'number' ? a : 0]\n      }\n    } else {\n      this.values = [typeof a === 'number' ? a : 0, typeof b === 'number' ? b : 0]\n    }\n  }\n\n  get x (): number { return this.values[0] }\n  set x (val: number) { this.values[0] = val }\n\n  get y (): number { return this.values[1] }\n  set y (val: number) { this.values[1] = val }\n\n  static get Left (): Vector { return new Vector(-1, 0) }\n  static get Right (): Vector { return new Vector(+1, 0) }\n  static get Up (): Vector { return new Vector(0, +1) }\n  static get Down (): Vector { return new Vector(0, -1) }\n\n  static get Zero (): Vector { return new Vector(0, 0) }\n  static get One (): Vector { return new Vector(1, 1) }\n\n  static get X (): Vector { return new Vector(+1, 0) }\n  static get Y (): Vector { return new Vector(0, +1) }\n\n  /** Adds the scalar value to each component. */\n  add(scalar: number): Vector;\n  /** Returns the vector addition (this + vector). */\n  add(vector: Vector): Vector;\n  add (that: Vector | number): Vector {\n    if (that instanceof Vector) {\n      return new Vector(this.values[0] + that.values[0], this.values[1] + that.values[1])\n    } else {\n      return new Vector(this.values[0] + that, this.values[1] + that)\n    }\n  }\n\n  /** Subtracts the scalar value from each component. */\n  sub(scalar: number): Vector;\n  /** Returns the vector subtraction (this - that). */\n  sub(vector: Vector): Vector;\n  sub (that: number | Vector): Vector {\n    if (that instanceof Vector) {\n      return new Vector(this.values[0] - that.values[0], this.values[1] - that.values[1])\n    } else {\n      return new Vector(this.values[0] - that, this.values[1] - that)\n    }\n  }\n\n  /** Returns the dot product (this * that). */\n  dot (that: Vector): number {\n    return this.values[0] * that.values[0] + this.values[1] * that.values[1]\n  }\n\n  /**\n     * Returns 2D cross product (this x that).\n     *\n     * Equivalent to embedding this and that in the XY plane and returning the Z value of the product vector\n     * (such a vector would be of the form (0, 0, z)).\n     */\n  cross (that: Vector): number {\n    return this.values[0] * that.values[1] - this.values[1] * that.values[0]\n  }\n\n  /** Returns the scalar product (scalar * this). */\n  times(scalar: number): Vector;\n  /** Returns the component-wise product (this * vector). */\n  times(vector: Vector): Vector;\n  times (that: number | Vector): Vector {\n    if (that instanceof Vector) {\n      return new Vector(this.values[0] * that.values[0], this.values[1] * that.values[1])\n    } else {\n      return new Vector(this.values[0] * that, this.values[1] * that)\n    }\n  }\n\n  /** Returns the scalar division (this / scalar). */\n  div(scalar: number): Vector;\n  /** Returns the component-wise division (this / vector). */\n  div(vector: Vector): Vector;\n  div (that: number | Vector): Vector {\n    if (that instanceof Vector) {\n      return new Vector(this.values[0] / that.values[0], this.values[1] / that.values[1])\n    } else {\n      return new Vector(this.values[0] / that, this.values[1] / that)\n    }\n  }\n\n  /** Returns -this. */\n  negate (): Vector {\n    return this.times(-1)\n  }\n\n  /** Returns the squared magnitude of this vector. */\n  magSqr (): number {\n    return this.values[0] * this.values[0] + this.values[1] * this.values[1]\n  }\n\n  /** Returns the magnitude of this vector. */\n  mag (): number {\n    return Math.sqrt(this.magSqr())\n  }\n\n  /** Returns a normalized copy of this vector. */\n  normalized (): Vector {\n    return this.div(this.mag())\n  }\n\n  /** Returns the angle betwen this and vector */\n  angle (vector: Vector): number {\n    return Math.atan2(this.values[1] - vector.values[1], this.values[0] - vector.values[1])\n  }\n\n  /**\n     * Returns the angle between this vector and the x-axis.\n     *\n     * Returns the angle between this vector and (1, 0), in radians, in the range (-Pi, +Pi].\n     */\n  argument (): number {\n    return Math.atan2(this.values[1], this.values[0])\n  }\n\n  /** Returns a copy of this vector. */\n  clone (): Vector {\n    return new Vector(this.values[0], this.values[1])\n  }\n\n  /** Returns a copy of this vector, scaled if needed so its magnitude is at most 'length'. */\n  cap (length: number): Vector {\n    if (length <= EPSILON) {\n      return new Vector(0, 0)\n    }\n    const mag = this.mag()\n    if (length < mag) {\n      return this.times(length / mag)\n    }\n    return this.clone()\n  }\n\n  /** Returns a copy of this vector, swapping x and y. */\n  transpose (): Vector {\n    return new Vector(this.values[1], this.values[0])\n  }\n\n  /** Returns the orthogonal vector v such that (this, v) is a right-handed basis, and |v| = |this|. */\n  orthogonal (): Vector {\n    return new Vector(-this.values[1], this.values[0])\n  }\n\n  /** Returns a copy of this vector, applying floor() to all components. */\n  floor (): Vector {\n    return new Vector(Math.floor(this.values[0]), Math.floor(this.values[1]))\n  }\n\n  /** Returns a copy of this vector, applying ceil() to all components. */\n  ceil (): Vector {\n    return new Vector(Math.ceil(this.values[0]), Math.ceil(this.values[1]))\n  }\n\n  /** Returns a copy of this vector, applying abs() to all components. */\n  abs (): Vector {\n    return new Vector(Math.abs(this.values[0]), Math.abs(this.values[1]))\n  }\n\n  /** Returns a copy of this vector, applying f() to all components. */\n  map (f: (x: number) => number): Vector {\n    return new Vector(f(this.values[0]), f(this.values[1]))\n  }\n\n  /** Returns the maximum component in this vector. */\n  max(): number;\n  /** Returns the component-wise maximum of this and that. */\n  max(that: Vector): Vector;\n  max (that?: Vector): Vector | number {\n    if (that === undefined) {\n      return Math.max(this.values[0], this.values[1])\n    } else {\n      return new Vector(\n        Math.max(this.values[0], that.values[0]),\n        Math.max(this.values[1], that.values[1])\n      )\n    }\n  }\n\n  /** Returns the minimum component in this vector. */\n  min(): number;\n  /** Returns the component-wise minimum of this and that. */\n  min(that: Vector): Vector;\n  min (that?: Vector): Vector | number {\n    if (that === undefined) {\n      return Math.min(this.values[0], this.values[1])\n    } else {\n      return new Vector(\n        Math.min(this.values[0], that.values[0]),\n        Math.min(this.values[1], that.values[1])\n      )\n    }\n  }\n\n  /** Returns the Euclidean distance between u and v. */\n  static dist (u: Vector, v: Vector): number {\n    return u.sub(v).mag()\n  }\n\n  /** Returns the projection of arbitrary vector 'v' into *unit* vector 'n', as a Vector. */\n  static Project (v: Vector, n: Vector): Vector {\n    return n.times(v.dot(n))\n  }\n\n  /** Returns a Vector (Cartesian coordinates) corresponding to the polar coordinates (radius, angle). */\n  static FromPolar (radius: number, angle: number): Vector {\n    return new Vector(radius * Math.cos(angle), radius * Math.sin(angle))\n  }\n\n  /** Linearly interpolate between a at t=0 and b at t=1 (t is NOT clamped). */\n  static Interpolate (a: Vector, b: Vector, t: number): Vector {\n    return a.add(b.sub(a).times(t))\n  }\n\n  /** Calculate the average vector. */\n  static Average (...vecs: Vector[]): Vector {\n    let accumulator = new Vector(0, 0)\n    if (vecs.length === 0) {\n      return accumulator\n    }\n\n    for (const vec of vecs) {\n      accumulator = accumulator.add(vec)\n    }\n\n    return accumulator.div(vecs.length)\n  }\n\n  /**\n   * Calculate the weighted average vector.\n   *\n   * Iterates up to shortest length.\n   * Ignores negative or approximately zero weights and their associated vectors.\n  */\n  static WeightedAverage (vecs: Vector[], weights: number[]): Vector {\n    let accumulator = new Vector(0, 0)\n    let totalWeight = 0\n\n    const N = Math.min(vecs.length, weights.length)\n    if (N === 0) {\n      return accumulator\n    }\n\n    for (let i = 0; i < N; i++) {\n      const vec = vecs[i]\n      const weight = weights[i]\n      if (weight > EPSILON) {\n        totalWeight += weight\n        accumulator = accumulator.add(vec.times(weight))\n      }\n    }\n\n    if (totalWeight > EPSILON) {\n      return accumulator.div(totalWeight)\n    } else {\n      return accumulator\n    }\n  }\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable no-use-before-define */\n// /* eslint-disable no-use-before-define */\nimport { Point } from '../core/point'\nimport { CanvasRenderingContext2DTracked, getMousePos, MouseButton, Nullable, ResetTransformation, trackTransforms } from '../helper/utils'\nimport Logical from '../core/logical'\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport Scene from './scene'\nimport RenderState from './render-state'\nimport RenderStatus from './render-status'\n\ninterface Events extends Draggable {\n  mousemove: (mousePosition: Point) => void;\n  mousedown: (mousePosition: Point, mouseButton: MouseButton) => void;\n  mouseup: (mousePosition: Point, mouseButton: MouseButton) => void;\n  mousewheel: (mousePosition: Point, wheel: number) => void;\n  mouseleave: (mousePosition: Point) => void;\n  render: (state: RenderState) => void;\n}\n\nexport class Canvas extends StrictEventEmitter<Events> {\n  private canvas: HTMLCanvasElement // contains the dom HTML Element\n  private ctx: CanvasRenderingContext2DTracked // contains the 2d context tracked\n\n  private dragged: boolean // true if mouse click hold down and mouse has moved\n  private dragStart: Nullable<Point> // contains mouse position in the world space when user click\n  private dragButton: Nullable<number> // containes the mouse button (0 = left, 1 = middle, 2 = right)\n\n  private last: Point // contains the mouse position in the world space (updated each tick)\n  private center: Point // used to translate the canvas by canvas.width/2 and canvas.height/2 to center\n\n  private logicals: Array<Logical<StrictEventEmitter<Events>>>\n\n  private scene: Nullable<Scene> = null\n\n  private state: Nullable<RenderState> = null\n\n  constructor () {\n    super()\n    // create a canvas, retrieve the 2d context and track all matrix transformations\n    this.canvas = document.createElement('canvas')\n    const ctx = this.canvas.getContext('2d') // todo: use create2DCanvasContextTracked()\n    if (ctx == null) throw new Error('Unable to retrieve 2d canvas context')\n    this.ctx = trackTransforms(ctx) // allow to reverse transformation matrix that allow to\n    // convert screen coordinate to world coordinate easly\n\n    this.ctx.imageSmoothingEnabled = false\n\n    // setCanvasDPI(this.canvas)\n\n    this.logicals = []\n\n    // track mouse drag\n    this.dragged = false // true if mouse click hold down and mouse has moved\n    this.dragStart = null // contains mouse position in the world space when user click\n    this.dragButton = null // containes the mouse button (0 = left, 1 = middle, 2 = right)\n\n    // contains the mouse position in the world space (updated each tick)\n    this.last = new Point(this.canvas.width / 2, this.canvas.height / 2)\n\n    // used to translate the canvas by canvas.width/2 and canvas.height/2 to center\n    this.center = new Point(0, 0)\n\n    let lastRender = 0\n    let currRender = Date.now()\n\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    // const gkhead = new Image()\n    // gkhead.src = 'https://c4.wallpaperflare.com/wallpaper/715/35/760/victory-the-suit-starcraft-rifle-strategy-hd-wallpaper-preview.jpg'\n    function redraw () {\n      const canvas = that.canvas\n      const ctx = that.ctx\n\n      lastRender = currRender\n      currRender = Date.now()\n\n      that.state = new RenderState(RenderStatus.Screen, that, that.scene == null ? Scene.Empty : that.scene, (currRender - lastRender) / 1000, ctx, that.last)\n\n      window.requestAnimationFrame(redraw)\n\n      const e = ctx.duplicateTransform()\n      canvas.width = canvas.offsetWidth\n      canvas.height = canvas.offsetHeight\n      ctx.setTransform(e.a, e.b, e.c, e.d, e.e, e.f)\n      that.center = new Point(canvas.width / 2, canvas.height / 2)\n      ctx.translate(that.center.x / e.a, that.center.y / e.d)\n\n      // Clear the entire canvas\n\n      that.clear()\n\n      /*\n      that.scene.applyClip(ctx)\n      that.scene.render(ctx)\n      that.scene.unclip()\n      that.scene.render(ctx) */\n\n      ctx.imageSmoothingEnabled = false\n      that.scene?.render(that.state)\n      that.emit('render', that.state)\n\n      // ctx.drawImage(gkhead, 0, 0)\n\n      ctx.translate(-that.center.x / e.a, -that.center.y / e.d)\n    }\n    redraw()\n\n    this.listen()\n  }\n\n  reset () {\n    this.ctx.setTransform(ResetTransformation())\n  }\n\n  setScene (scene: Scene) {\n    this.scene = scene\n  }\n\n  /**\n   * Retrieve the html element\n   * @returns Canvas HTML Element\n   */\n  element () {\n    return this.canvas\n  }\n\n  register (logical: Logical<StrictEventEmitter<Events>>) {\n    this.logicals.push(logical)\n    logical.register(this)\n  }\n\n  unregister (logical: Logical<StrictEventEmitter<Events>>) {\n    const index = this.logicals.indexOf(logical)\n    if (index < 0) throw new Error('logical not found')\n    this.logicals[index].unregister(this)\n    this.logicals.splice(index, 1)\n  }\n\n  private getWorldPoint (pt: Point) {\n    const e = this.ctx.getTransform()\n    return Point.sub(this.ctx.screenToWorld(pt), Point.div(this.center, new Point(e.a, e.d)))\n  }\n\n  clear () {\n    const ctx = this.ctx\n    const canvas = this.canvas\n\n    const p1 = ctx.screenToWorld(0, 0)\n    const p2 = ctx.screenToWorld(canvas.width, canvas.height)\n    ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y)\n\n    ctx.save()\n    ctx.setTransform(ResetTransformation())\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n    ctx.restore()\n  }\n\n  /**\n   * Start listen useful canvas events (mouse, ...etc) and dispatch in the registered listeners\n   */\n  private listen () {\n    const canvas = this.canvas\n    const ctx = this.ctx\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    canvas.addEventListener(\n      'mousedown',\n      function (evt) {\n        that.last = getMousePos(canvas, evt)\n        that.dragButton = evt.button\n        that.dragStart = that.getWorldPoint(that.last)\n        that.dragged = false\n        that.emit('mousedown', that.last, that.dragButton as MouseButton)\n        that.emit('dragstart', that.dragStart, that.dragButton as MouseButton)\n      },\n      false\n    )\n\n    window.addEventListener(\n      'mousemove',\n      function (evt) {\n        that.last = getMousePos(canvas, evt)\n        const pt = that.getWorldPoint(that.last)\n        that.emit('mousemove', pt)\n        that.dragged = true\n\n        // todo: add enablePan() + enableZoom();\n        if (that.dragStart != null && that.dragButton === 2) {\n          ctx.translate(pt.x - that.dragStart.x, pt.y - that.dragStart.y)\n        }\n\n        if (that.dragStart != null) that.emit('dragstep', pt, that.dragButton as MouseButton)\n      },\n      false\n    )\n\n    window.addEventListener(\n      'mouseup',\n      function (evt) {\n        if (evt.target !== that.canvas) {\n          that.dragged = false\n          that.emit('dragcancel')\n        }\n        that.last = getMousePos(canvas, evt)\n        const pt = that.getWorldPoint(that.last)\n        that.emit('mouseup', pt, that.dragButton as MouseButton)\n        if (that.dragged) that.emit('dragend', pt, that.dragButton as MouseButton)\n        that.dragButton = null\n        that.dragStart = null\n      },\n      false\n    )\n\n    window.addEventListener(\n      'mouseleave',\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      function (_evt) {\n        that.dragStart = null\n        that.dragged = false\n        that.dragButton = null\n        that.emit('mouseleave', that.getWorldPoint(that.last))\n      },\n      false\n    )\n\n    canvas.addEventListener(\n      'contextmenu',\n      function (evt) {\n        evt.preventDefault()\n        evt.stopPropagation()\n      },\n      false\n    )\n\n    const scaleFactor = 1.1\n\n    const zoom = function (clicks: number) {\n      const pt = that.getWorldPoint(that.last)\n      ctx.translate(pt.x, pt.y)\n      const factor = Math.pow(scaleFactor, clicks)\n      ctx.scale(factor, factor)\n      ctx.translate(-pt.x, -pt.y)\n    }\n\n    const handleScroll = function (evt: Event) {\n      const delta = (<WheelEvent>evt).deltaY\n        ? -(<WheelEvent>evt).deltaY / 40\n        : (<WheelEvent>evt).detail\n            ? -(<WheelEvent>evt).detail\n            : 0\n      if (delta) zoom(delta)\n      that.emit('mousewheel', that.last, delta)\n      evt.preventDefault()\n      return false\n    }\n\n    canvas.addEventListener('DOMMouseScroll', handleScroll, false)\n    canvas.addEventListener('mousewheel', handleScroll, false)\n  }\n}\n\nexport default Canvas\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Deserializer, JSONObject, Serializable } from '../core/object-mapper'\n\nexport class Color implements Serializable {\n  static get Default () { return Color.fromRGB(100, 100, 100) }\n  static get Blue () { return Color.fromRGB(0, 0, 255) }\n  static get Red () { return Color.fromRGB(255, 0, 0) }\n  static get Green () { return Color.fromRGB(0, 255, 0) }\n  static get Yellow () { return Color.fromRGB(255, 255, 0) }\n  static get Magenta () { return Color.fromRGB(255, 0, 255) }\n  static get Cyan () { return Color.fromRGB(0, 255, 255) }\n  static get Amber () { return Color.fromRGB(255, 191, 0) }\n  static get Black () { return Color.fromRGB(0, 0, 0) }\n  static get White () { return Color.fromRGB(255, 255, 255) }\n\n  private _r: number\n  private _g: number\n  private _b: number\n\n  protected set r (r: number) {\n    this._r = r\n  }\n\n  get r (): number {\n    return this._r\n  }\n\n  protected set g (g: number) {\n    this._g = g\n  }\n\n  get g (): number {\n    return this._g\n  }\n\n  protected set b (b: number) {\n    this._b = b\n  }\n\n  get b (): number {\n    return this._b\n  }\n\n  /**\n   * Converts an RGB color value to HSL. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n   * Assumes r, g, and b are contained in the set [0, 255] and\n   * returns h, s, and l in the set [0, 1].\n   *\n   * @param r The red color value\n   * @param g The green color value\n   * @param b The blue color value\n   * @return The HSL representation\n   */\n  static rgbToHsl (r: number, g: number, b: number) {\n    r /= 255\n    g /= 255\n    b /= 255\n    const max = Math.max(r, g, b); const min = Math.min(r, g, b)\n    let h = 0; let s = 0; const l = (max + min) / 2\n\n    if (max === min) {\n      h = s = 0 // achromatic\n    } else {\n      const d = max - min\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n      switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break\n        case g: h = (b - r) / d + 2; break\n        case b: h = (r - g) / d + 4; break\n      }\n      h /= 6\n    }\n\n    return [h, s, l]\n  }\n\n  /**\n   * Converts an HSL color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n   * Assumes h, s, and l are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param h The hue\n   * @param s The saturation\n   * @param l The lightness\n   * @return The RGB representation\n   */\n  static hslToRgb (h: number, s: number, l: number) {\n    let r, g, b\n\n    if (s === 0) {\n      r = g = b = l // achromatic\n    } else {\n      const hue2rgb = function hue2rgb (p: number, q: number, t: number) {\n        if (t < 0) t += 1\n        if (t > 1) t -= 1\n        if (t < 1 / 6) return p + (q - p) * 6 * t\n        if (t < 1 / 2) return q\n        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n        return p\n      }\n\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n      const p = 2 * l - q\n      r = hue2rgb(p, q, h + 1 / 3)\n      g = hue2rgb(p, q, h)\n      b = hue2rgb(p, q, h - 1 / 3)\n    }\n\n    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)]\n  }\n\n  protected constructor (r: number, g: number, b: number) {\n    this._r = r\n    this._g = g\n    this._b = b\n  }\n\n  toString (): string {\n    return `rgb(${this.r},${this.g},${this.b})`\n  }\n\n  static fromRGB (r: number, g: number, b: number) {\n    return new Color(r, g, b)\n  }\n\n  static from (color: Color) {\n    return new Color(color.r, color.g, color.b)\n  }\n\n  addRed (r: number): void {\n    this.r += r\n    if (this.r < 0) this.r = 0\n    if (this.r > 255) this.r = 255\n  }\n\n  addGreen (g: number): void {\n    this.g += g\n    if (this.g < 0) this.g = 0\n    if (this.g > 255) this.g = 255\n  }\n\n  addBlue (b: number): void {\n    this.b += b\n    if (this.b < 0) this.b = 0\n    if (this.b > 255) this.b = 255\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Color',\n      r: this.r,\n      g: this.g,\n      b: this.b\n    }\n  }\n\n  static deserializer: Deserializer<Color> = (data: JSONObject) => {\n    if (data.type !== 'Color') throw new Error('bad type')\n    return Color.fromRGB(data.r, data.g, data.b)\n  }\n}\n\nexport default Color\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport Point from '../core/point'\nimport { MouseButton, Nullable, TAU } from '../helper/utils'\nimport RenderState from './render-state'\nimport Renderable, { RenderableEvents } from './renderable'\nimport Grab from './grab'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport Collection from '../core/collection'\nimport MultiColor from './multi-color'\nimport Color from './color'\n\n// todo: draggable interface to factorize register, unregister, and basic properties ondrag<...>\n\n/**\n * This class is part of the Grab System. A {@link GrabPoint} instance is listening\n * some {@link MouseEvent | mouse events} to allow the user to move the {@link GrabPoint} somewhere else.\n *\n * @experimental\n *\n * @see [Grab](./grab.ts)\n * @see [GrabRectangle](./grab-rectangle.ts)\n */\nexport class GrabPoint extends Grab<Point> {\n  readonly overflow: boolean = true\n\n  private tmppos: Nullable<Point> = null\n  private button: MouseButton\n  private hovered = false\n  private grabbed = false\n  private registered = false\n  private instance: Renderable\n\n  private x: Pointer<number>\n  private y: Pointer<number>\n  private color: MultiColor = new MultiColor(5)\n  private radius = 20\n  private time = 0\n\n  private ondragstart: (mousePosition: Point, mouseButton: MouseButton) => void\n  private ondragstep: (mousePosition: Point) => void\n  private ondragcancel: () => void\n  private ondragend: (mousePosition: Point) => void\n\n  private dispatchers: Map<StrictEventEmitter<Draggable>, boolean> = new Map<StrictEventEmitter<Draggable>, boolean>()\n\n  constructor (position: Point, button: MouseButton) {\n    super()\n    this.instance = this\n    this.button = button\n    this.ondragstart = this.dragstart(this)\n    this.ondragstep = this.dragstep(this)\n    this.ondragcancel = this.dragcancel(this)\n    this.ondragend = this.dragend(this)\n\n    this.x = makePointer(position.x)\n    this.y = makePointer(position.y)\n  }\n\n  destroy (): void {\n    super.destroy()\n    const dispatchers = Array.from(this.dispatchers.keys())\n    for (const dispatcher of dispatchers) {\n      this.unregister(dispatcher)\n    }\n  }\n\n  pointers () {\n    return [this.x, this.y]\n  }\n\n  setPosition (pos: Point) {\n    this.x.set(pos.x)\n    this.y.set(pos.y)\n  }\n\n  getPosition () {\n    return new Point(this.x.get(), this.y.get())\n  }\n\n  render (state: RenderState): void {\n    if (!this.registered) return\n    const ctx = state.ctx\n    this.time += state.dt\n    if (this.time > TAU) this.time = TAU - this.time\n    this.radius = 20 + 4 * Math.sin(this.time)\n    const t = ctx.getTransform()\n    const scale = (t.a + t.d) / 2\n    const radius = this.radius / scale\n    this.color.update(state.dt)\n    const gradient = ctx.createRadialGradient(this.x.get(), this.y.get(), 0, this.x.get(), this.y.get(), radius)\n    gradient.addColorStop(0, this.color.toString())\n    gradient.addColorStop(1, `rgba(${this.color.r},${this.color.g},${this.color.b},0.3)`)\n    ctx.beginPath()\n    ctx.arc(this.x.get(), this.y.get(), radius, 0, 2 * Math.PI, false)\n    ctx.fillStyle = gradient\n    ctx.fill()\n    ctx.closePath()\n    ctx.beginPath()\n    ctx.arc(this.x.get(), this.y.get(), radius / 5, 0, 2 * Math.PI, false)\n    ctx.fillStyle = Color.Black.toString()\n    ctx.fill()\n    ctx.lineWidth = 4 / scale\n    ctx.beginPath()\n    ctx.arc(this.x.get(), this.y.get(), radius + 2 / scale, 0, 2 * Math.PI, false)\n    ctx.strokeStyle = Color.Black.toString()\n    ctx.stroke()\n    ctx.lineWidth = 4 / scale\n    ctx.beginPath()\n    ctx.arc(this.x.get(), this.y.get(), radius, 0, 2 * Math.PI, false)\n    ctx.strokeStyle = this.color.toString()\n    ctx.stroke()\n    ctx.lineWidth = 1\n  }\n\n  isHover (state: RenderState) {\n    const ctx = state.ctx\n    const t = ctx.getTransform()\n    ctx.beginPath()\n    ctx.arc(this.x.get(), this.y.get(), 20 / ((t.a + t.d) / 2), 0, 2 * Math.PI, false)\n    ctx.closePath()\n    this.hovered = state.isMouseInPath()\n    return this.hovered\n  }\n\n  isGrabbed (): boolean {\n    return this.grabbed\n  }\n\n  hover (state: RenderState) {\n    this.register(state.dispatcher)\n  }\n\n  unhover (state: RenderState): void {\n    this.unregister(state.dispatcher)\n  }\n\n  forceHover () {\n    this.hovered = true\n  }\n\n  renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T> {\n    return Collection.Empty()\n  }\n\n  register (dispatcher: StrictEventEmitter<Draggable>, instance?: Renderable) {\n    this.registered = true\n    this.instance = typeof instance === 'undefined' ? this : instance\n    this.dispatchers.set(dispatcher, true)\n    dispatcher.on('dragstart', this.ondragstart)\n    dispatcher.on('dragstep', this.ondragstep)\n    dispatcher.on('dragcancel', this.ondragcancel)\n    dispatcher.on('dragend', this.ondragend)\n  }\n\n  unregister (dispatcher: StrictEventEmitter<Draggable>) {\n    this.grabbed = false\n    this.hovered = false\n    this.instance = this\n    this.dispatchers.delete(dispatcher)\n    this.registered = false\n    dispatcher.off('dragstart', this.ondragstart)\n    dispatcher.off('dragstep', this.ondragstep)\n    dispatcher.off('dragcancel', this.ondragcancel)\n    dispatcher.off('dragend', this.ondragend)\n  }\n\n  private dragstart (that: GrabPoint) {\n    return (mousePosition: Point, mouseButton: MouseButton) => {\n      if (mouseButton === that.button && this.hovered) {\n        that.tmppos = Point.sub(mousePosition, that.getPosition())\n      } else that.tmppos = null\n      if (that.grabbed) {\n        that.grabbed = false\n        // that.instance.unselect()\n      }\n    }\n  }\n\n  private dragstep (that: GrabPoint) {\n    return (mousePosition: Point) => {\n      if (that.tmppos != null) {\n        that.setPosition(Point.sub(mousePosition, that.tmppos))\n        if (!that.grabbed) {\n          that.instance.select()\n        }\n        that.grabbed = true\n        that.emit('change', that.getPosition())\n        return\n      }\n      if (that.grabbed) {\n        that.grabbed = false\n        // that.instance.unselect()\n      }\n    }\n  }\n\n  private dragend (that: GrabPoint) {\n    return (mousePosition: Point) => {\n      if (that.tmppos != null) {\n        that.setPosition(Point.sub(mousePosition, that.tmppos))\n        that.emit('change', that.getPosition())\n      }\n      if (that.grabbed) {\n        that.grabbed = false\n        // that.instance.unselect()\n      }\n      that.tmppos = null\n    }\n  }\n\n  private dragcancel (that: GrabPoint) {\n    return () => {\n      that.tmppos = null\n      if (that.grabbed) {\n        that.grabbed = false\n        // that.instance.unselect()\n      }\n    }\n  }\n\n  serialize (): JSONObject {\n    return {\n      ...super.serialize(),\n      type: 'GrabPoint',\n      button: this.button,\n      position: this.getPosition().serialize()\n    }\n  }\n\n  static deserializer: Deserializer<GrabPoint> = (data: JSONObject) => {\n    if (data.type !== 'GrabPoint') throw new Error('bad type')\n    if (typeof data.button !== 'number') throw new Error('bad type')\n    return new GrabPoint(Point.deserializer(data.position), data.button)\n  }\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport Point from '../core/point'\nimport { makePointer, Pointer } from '../core/pointer'\nimport Rectangle from '../core/rectangle'\nimport { MouseButton } from '../helper/utils'\nimport Renderable, { RenderableEvents } from './renderable'\nimport Grab from './grab'\nimport { GrabPoint } from './grab-point'\nimport RenderState from './render-state'\nimport Collection from '../core/collection'\n\n/**\n * This class is part of the Grab System. A {@link GrabRectangle} instance is listening\n * some {@link MouseEvent | mouse events} to allow the user to move the {@link GrabRectangle} somewhere else.\n *\n * @experimental\n *\n * @see [Grab](./grab.ts)\n * @see [GrabPoint](./grab-point.ts)\n */\nexport class GrabRectangle extends Grab<Rectangle> {\n  readonly overflow: boolean = true\n\n  private grabPoints: [GrabPoint, GrabPoint, GrabPoint, GrabPoint]\n\n  /* if true then the original ratio will be preserved during grabbing */\n  private keepRatio = false\n\n  /* will contain original ratio */\n  private ratio = 0\n\n  private registered = false\n\n  /* keep track of x (x1), y (y1), width (x2) and height (y2) */\n  private x1: Pointer<number>\n  private y1: Pointer<number>\n  private x2: Pointer<number>\n  private y2: Pointer<number>\n\n  /**\n   * @returns the four [GrabPoint](./grab-point.ts) of this {@link GrabRectangle}\n   *\n   * @see {@link grabPoints}\n   */\n  getGrabPoints () {\n    return this.grabPoints\n  }\n\n  constructor (box: Rectangle, button: MouseButton) {\n    super()\n    const origin = Point.duplicate(box.origin)\n    const size = Point.duplicate(box.size)\n\n    this.ratio = box.ratio()\n\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n\n    this.x1 = makePointer(origin.x)\n    this.y1 = makePointer(origin.y)\n    this.x2 = makePointer(size.x)\n    this.y2 = makePointer(size.y)\n\n    const grabPoints: [GrabPoint, GrabPoint, GrabPoint, GrabPoint] = [\n      new GrabPoint(origin, button),\n      new GrabPoint(Point.add(origin, new Point(size.x, 0)), button),\n      new GrabPoint(Point.add(origin, size), button),\n      new GrabPoint(Point.add(origin, new Point(0, size.y)), button)\n    ]\n\n    grabPoints[0].on('change', (p) => {\n      if (that.keepRatio) {\n        p.y -= (grabPoints[2].getPosition().x - p.x) / that.ratio - (grabPoints[2].getPosition().y - p.y)\n      }\n      const origin = new Point(that.x1.get(), that.y1.get())\n      const size = new Point(that.x2.get(), that.y2.get())\n      that.x1.set(p.x)\n      that.y1.set(p.y)\n      that.x2.set(grabPoints[2].getPosition().x - p.x)\n      that.y2.set(grabPoints[2].getPosition().y - p.y)\n      grabPoints[1].setPosition(Point.add(origin, new Point(size.x, 0)))\n      grabPoints[3].setPosition(Point.add(origin, new Point(0, size.y)))\n      that.emit('change', Rectangle.from(that.x1.get(), that.y1.get(), that.x2.get(), that.y2.get()))\n    })\n    grabPoints[2].on('change', (p) => {\n      if (that.keepRatio) {\n        p.y -= (grabPoints[0].getPosition().x - p.x) / that.ratio - (grabPoints[0].getPosition().y - p.y)\n      }\n      const origin = new Point(that.x1.get(), that.y1.get())\n      const size = new Point(that.x2.get(), that.y2.get())\n      that.x2.set(p.x - origin.x)\n      that.y2.set(p.y - origin.y)\n      grabPoints[1].setPosition(Point.add(origin, new Point(size.x, 0)))\n      grabPoints[3].setPosition(Point.add(origin, new Point(0, size.y)))\n      that.emit('change', Rectangle.from(that.x1.get(), that.y1.get(), that.x2.get(), that.y2.get()))\n    })\n    grabPoints[1].on('change', (p) => {\n      if (that.keepRatio) {\n        p.y += (grabPoints[3].getPosition().x - p.x) / that.ratio + (grabPoints[3].getPosition().y - p.y)\n      }\n      const origin = new Point(that.x1.get(), that.y1.get())\n      const size = new Point(that.x2.get(), that.y2.get())\n      that.x1.set(p.x - size.x)\n      that.y1.set(p.y)\n      that.x2.set(p.x - grabPoints[3].getPosition().x)\n      that.y2.set(grabPoints[3].getPosition().y - p.y)\n      grabPoints[0].setPosition(origin)\n      grabPoints[2].setPosition(Point.add(origin, size))\n      that.emit('change', Rectangle.from(that.x1.get(), that.y1.get(), that.x2.get(), that.y2.get()))\n    })\n    grabPoints[3].on('change', (p) => {\n      if (that.keepRatio) {\n        p.y += (grabPoints[1].getPosition().x - p.x) / that.ratio + (grabPoints[1].getPosition().y - p.y)\n      }\n      const origin = new Point(that.x1.get(), that.y1.get())\n      const size = new Point(that.x2.get(), that.y2.get())\n      that.x1.set(p.x)\n      that.y1.set(p.y - size.y)\n      that.x2.set(grabPoints[1].getPosition().x - p.x)\n      that.y2.set(p.y - grabPoints[1].getPosition().y)\n      grabPoints[0].setPosition(origin)\n      grabPoints[2].setPosition(Point.add(origin, size))\n      that.emit('change', Rectangle.from(that.x1.get(), that.y1.get(), that.x2.get(), that.y2.get()))\n    })\n\n    this.grabPoints = grabPoints\n  }\n\n  /**\n   * @inheritdoc\n   */\n  destroy (): void {\n    super.destroy()\n\n    /* dont forget to destroy internal grabpoints too */\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.destroy()\n    }\n  }\n\n  /**\n   * Allow to have access to the actual position and size of this {@link GrabRectangle}\n   *\n   * @returns the four pointers to have access to respectively : [x, y, width, height]\n   */\n  pointers () {\n    return [this.x1, this.y1, this.x2, this.y2]\n  }\n\n  /**\n   * Allow to fit this {@link GrabRectangle} to a box\n   *\n   * @param box a {@link Rectangle}\n   */\n  refresh (box: Rectangle): void {\n    this.ratio = box.ratio()\n    this.x1.set(box.origin.x)\n    this.y1.set(box.origin.y)\n    this.x2.set(box.size.x)\n    this.y2.set(box.size.y)\n    this.grabPoints[0].setPosition(box.origin)\n    this.grabPoints[1].setPosition(Point.add(box.origin, new Point(box.size.x, 0)))\n    this.grabPoints[2].setPosition(Point.add(box.origin, box.size))\n    this.grabPoints[3].setPosition(Point.add(box.origin, new Point(0, box.size.y)))\n  }\n\n  /**\n   * @inheritdoc\n   */\n  render (state: RenderState): void {\n    if (!this.registered) return\n\n    const ctx = state.ctx\n\n    /* connect all grabpoints together with a line */\n    ctx.beginPath()\n    ctx.lineWidth = 1\n    let firstpt = true\n    for (const grabPoint of this.grabPoints) {\n      const pt = grabPoint.getPosition()\n      if (firstpt) {\n        firstpt = false\n        ctx.moveTo(pt.x, pt.y)\n      } else {\n        ctx.lineTo(pt.x, pt.y)\n      }\n    }\n    ctx.closePath()\n    ctx.strokeStyle = 'red'\n    ctx.stroke()\n\n    /* dont forget to render grabpoints then */\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.render(state)\n    }\n  }\n\n  hover (state: RenderState) {\n    this.registered = true\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.hover(state)\n    }\n  }\n\n  unhover (state: RenderState): void {\n    this.registered = false\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.unhover(state)\n    }\n  }\n\n  isGrabbed (): boolean {\n    for (const grabPoint of this.grabPoints) {\n      if (grabPoint.isGrabbed()) return true\n    }\n    return false\n  }\n\n  /**\n   * @inheritdoc\n   */\n  isHover (state: RenderState) {\n    const ctx = state.ctx\n    ctx.beginPath()\n    ctx.lineWidth = 1\n    let firstpt = true\n    for (const grabPoint of this.grabPoints) {\n      const pt = grabPoint.getPosition()\n      if (firstpt) {\n        firstpt = false\n        ctx.moveTo(pt.x, pt.y)\n      } else {\n        ctx.lineTo(pt.x, pt.y)\n      }\n    }\n    ctx.closePath()\n    let v = false\n    let b = false\n    if (state.isMouseInPath()) v ||= true\n    for (const grabPoint of this.grabPoints) {\n      if (grabPoint.isHover(state)) { v ||= true; b ||= true }\n    }\n    if (!b) {\n      for (const grabPoint of this.grabPoints) grabPoint.forceHover()\n    }\n    return v\n  }\n\n  /**\n   * @inheritdoc\n   */\n  renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T> {\n    /* this.getGrabPoints() as unknown as Array<T> */\n    return Collection.Empty()\n  }\n\n  /**\n   * @inheritdoc\n   */\n  register (dispatcher: StrictEventEmitter<Draggable>, instance?: Renderable): void {\n    this.registered = true\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.register(dispatcher, instance)\n    }\n  }\n\n  /**\n   * @inheritdoc\n   */\n  unregister (dispatcher: StrictEventEmitter<Draggable>): void {\n    this.registered = false\n    for (const grabPoint of this.grabPoints) {\n      grabPoint.unregister(dispatcher)\n    }\n  }\n\n  serialize (): JSONObject {\n    return {\n      ...super.serialize(),\n      type: 'GrabRectangle',\n      overflow: this.overflow,\n      keepRatio: this.keepRatio,\n      box: Rectangle.from(this.x1.get(), this.y1.get(), this.x2.get(), this.y2.get()).serialize()\n    }\n  }\n\n  static deserializer: Deserializer<GrabRectangle> = (data: JSONObject) => {\n    if (data.type !== 'GrabRectangle') throw new Error('bad type')\n    if (typeof data.button !== 'number') throw new Error('bad type')\n    // todo: keepRatio\n    return new GrabRectangle(Rectangle.deserializer(data.box), data.button)\n  }\n}\n\nexport default GrabRectangle\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport Point from '../core/point'\nimport { Pointer } from '../core/pointer'\nimport Rectangle from '../core/rectangle'\nimport Renderable, { RenderableEvents } from './renderable'\nimport RenderState from './render-state'\nimport Collection from '../core/collection'\n\n/**\n * Any {@link Grab} instance can emit or listening '**change**' event\n */\nexport interface GrabEvents<T> extends RenderableEvents {\n\n  /**\n   * @param data Acutally correspond to a [Point](../core/point.ts) or a [Rectangle](../core/rectangle.ts)\n   */\n  change: (data: T) => void\n}\n\n/**\n * This class is part of the Grab System. A {@link Grab} instance is listening\n * some {@link MouseEvent | mouse events} to allow the user to move the {@link Grab} somewhere else.\n *\n * @virtual\n *\n * @experimental\n *\n * @see [GrabPoint](./grab-point.ts)\n * @see [GrabRectangle](./grab-rectangle.ts)\n */\nexport abstract class Grab<T = Rectangle | Point> extends Renderable<GrabEvents<T>> {\n  abstract overflow: boolean\n\n  constructor () {\n    super()\n    this.zIndex.clear()\n    this.zIndex.set(10000) /* a Grab instance have a z-index of 10000 (it's an arbitrary value) */\n  }\n\n  /**\n   * {@inheritDoc Renderable.render}\n   */\n  abstract render(state: RenderState): void\n\n  /**\n   * {@inheritDoc Renderable.getAllRenderables}\n   */\n  abstract renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T>\n\n  abstract isGrabbed(): boolean\n\n  /**\n   * Allow to **start** listening events from a {@link dispatcher} (especially {@link MouseEvent | mouse events} here)\n   *\n   * @param dispatcher a dispatcher which can send {@link Draggable} events\n   * @param instance this instance can (depend of implementation) receive select events,\n   * if not defined, the grab instance itself is used as the instance\n   *\n   * @see {@link Grab.unregister}\n   */\n  abstract register (dispatcher: StrictEventEmitter<Draggable>, instance?: unknown): void\n\n  /**\n   * Allow to **stop** listening events from a {@link dispatcher} (especially {@link MouseEvent | mouse events} here)\n   *\n   * @param dispatcher a dispatcher which can send {@link Draggable} events\n   *\n   * @see {@link Grab.register}\n   */\n  abstract unregister (dispatcher: StrictEventEmitter<Draggable>): void\n\n  abstract pointers(): Array<Pointer<number>>\n\n  destroy (): void {\n    super.destroy()\n  }\n}\n\nexport default Grab\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Nullable } from '../helper/utils'\nimport Renderable from './renderable'\nimport { Item } from './item'\nimport Layer from './layer'\nimport RenderState from './render-state'\n\n/**\n * Used to contain the element _(which must extends the {@link Renderable} class)_ that is\n * currently hovered by the mouse\n */\nexport class HoverResult {\n  layer: Nullable<Layer>\n  renderable: Nullable<Renderable>\n\n  static get Empty () { return new HoverResult() }\n\n  static from (layer: Layer, renderable: Renderable): HoverResult {\n    return new HoverResult(layer, renderable)\n  }\n\n  private constructor (layer?: Layer, renderable?: Renderable) {\n    this.layer = typeof layer !== 'undefined' ? layer : null\n    this.renderable = typeof renderable !== 'undefined' ? renderable : null\n  }\n\n  hover (state: RenderState): void {\n    if (this.renderable == null) return\n    this.renderable.hover(state)\n  }\n\n  unhover (state: RenderState): void {\n    if (this.renderable == null) return\n    this.renderable.unhover(state)\n  }\n\n  isEmpty () {\n    return this.renderable == null\n  }\n\n  select () {\n    if (this.renderable == null) return\n    this.renderable.select()\n  }\n\n  unselect () {\n    if (this.renderable == null) return\n    this.renderable.unselect()\n  }\n\n  isGrabbed (): boolean {\n    if (this.renderable == null) return false\n    if (!(this.renderable instanceof Item)) return false\n    return this.renderable.isGrabbed()\n  }\n\n  isHover (state: RenderState): boolean {\n    if (this.renderable == null || this.layer == null) return false\n    return this.layer.applyRenderable(state, this.renderable, renderable => {\n      return renderable.isHover(state)\n    })\n  }\n\n  instance (): Nullable<Renderable> {\n    return this.renderable\n  }\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport RenderState from './render-state'\nimport Renderable, { RenderableEvents } from './renderable'\nimport { GrabPoint } from './grab-point'\nimport Property, { Convertor, FormBuilder, Properties } from '../core/property'\nimport Collection from '../core/collection'\nimport Point from '../core/point'\nimport { MouseButton } from '../helper/utils'\nimport { Pointer } from '../core/pointer'\nimport Rectangle from '../core/rectangle'\nimport GrabRectangle from './grab-rectangle'\nimport Grab from './grab'\nimport { JSONObject } from '../core/object-mapper'\n\nexport interface ItemEvents extends RenderableEvents {\n\n  propertiesUpdate: () => void\n\n}\n\n/**\n * Represent the base class of any complex {@link Renderable} object that\n * can have {@link Grab | Grabs} anchor to be moved and have some internal\n * properties which can be accessed from the outside\n */\nexport abstract class Item<T = unknown> extends Renderable<ItemEvents> {\n  readonly overflow: boolean = false\n\n  /* used to not disable grabbing brutally if the item is still currently grabbed with the mouse */\n  private _islistening = false\n\n  /* property system used to edit internal properties easier with a view panel */\n  private properties: Properties<T> = {}\n\n  /* part of the grab system */\n  readonly grabs: Collection<Grab> = new Collection<Grab>()\n\n  constructor () {\n    super()\n    this.zIndex.set(0) // assume that any new Item object have a 0 z-index\n  }\n\n  /**\n   * @inheritdoc\n   */\n  render (state: RenderState): void {\n    this.renderGrab(state)\n  }\n\n  hover (state: RenderState): void {\n    /* const grabs = this.getGrabs()\n    for (const grab of grabs) {\n      if (grab.isHover(state)) {\n        grab.hover(state)\n        break\n      }\n    } */\n    this.enableGrab(state.dispatcher)\n  }\n\n  unhover (state: RenderState): void {\n    /* const grabs = this.getGrabs()\n    for (const grab of grabs) {\n      grab.unhover(state)\n    } */\n    this.disableGrab(state.dispatcher)\n  }\n\n  /**\n   * @inheritdoc\n   */\n  isHover (state: RenderState): boolean {\n    for (const grab of this.grabs.toArray()) {\n      if (grab.isHover(state)) return true\n    }\n    return false\n  }\n\n  /**\n   *\n   * @virtual Subclasses are free to implement this method as they wish but they\n   * must call the super method\n   *\n   * @inheritdoc\n   */\n  renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T> {\n    /* an Item object only have grabs object at this step */\n    return this.grabs as unknown as Collection<T>\n  }\n\n  /**\n   * @inheritdoc\n   */\n  destroy (): void {\n    super.destroy()\n    /* dont forget to destroy grabs object too */\n    this.grabs.forEach(grab => grab.destroy())\n    this.grabs.destroy()\n  }\n\n  /**\n   * Allow to set the value of a particular {@link Property}\n   *\n   * @param key name of the {@link Property}\n   * @param value new value\n   */\n  set <K extends keyof T> (key: K, value: T[K]) {\n    this.getProperty(key).setValue(value)\n  }\n\n  /**\n   * Allow to retrieve the value of a particular {@link Property}\n   *\n   * @param key name of the {@link Property}\n   *\n   * @returns the value of the {@link Property}\n   */\n  get <K extends keyof T> (key: K) {\n    return this.getProperty(key).getValue()\n  }\n\n  /**\n   * Allow to retrieve the {@link Property} object itself\n   *\n   * @param key name of the {@link Property}\n   *\n   * @returns the {@link Property} which have this name\n   */\n  getProperty <K extends keyof T> (key: K): Property<T[K] | Pointer<T[K]>> {\n    const p = this.properties[key]\n    if (typeof p === 'undefined') throw new Error(`no property \"${key as string}\"`)\n    return p\n  }\n\n  /**\n   * Allow to retrieve all the {@link Properties} contained in this {@link Item}\n   *\n   * @returns all the {@link Properties}\n   */\n  getProperties () {\n    return this.properties\n  }\n\n  /**\n   * Allow to create a {@link Property}\n   *\n   * @param name name of the {@link Property}\n   * @param defaultValue default value of the {@link Property}\n   * @param convertor a {@link Convertor} that allow to convert a string to compatible value for the {@link Property}\n   * @param formbuilder a {@link FormBuilder} to easly build the corresponding HTML with some events\n   *\n   * @returns the created {@link Property}\n   */\n  setProperty <K extends keyof T> (name: K, defaultValue: T[K] | Pointer<T[K]>, convertor: Convertor<T[K]>, formbuilder: FormBuilder): Property<T[K] | Pointer<T[K]>> {\n    const property = new Property(name as string, defaultValue, convertor, formbuilder)\n    this.properties[name] = property\n    return property\n  }\n\n  removeProperty (property: string): void\n  removeProperty <K extends keyof T> (property: Property<T[K] | Pointer<T[K]>>): void\n  /**\n   * Allow to remove a {@link Property} by reference in this {@link Item} instance\n   *\n   * @param property the {@link Property} to remove\n   */\n  removeProperty <K extends keyof T> (property: string | Property<T[K] | Pointer<T[K]>>): void {\n    const key: K = (typeof property === 'string' ? property : property.getName()) as K\n    // console.log('remove property')\n    this.properties[key]?.destroy()\n    delete this.properties[key]\n  }\n\n  /**\n   * Allow to easly add new {@link Grab} instance to this {@link Item}\n   *\n   * @param data actually a {@link Point} or a {@link Rectangle}\n   * @param button mouse button used to move the {@link Grab} instance ({@link MouseButton})\n   *\n   * @returns a {@link GrabPoint} or a {@link GrabRectangle}\n   */\n  addGrab (data: Point, button: MouseButton): GrabPoint\n  addGrab (data: Rectangle, button: MouseButton): GrabRectangle\n  addGrab (data: Point | Rectangle, button: MouseButton): GrabPoint | GrabRectangle {\n    const grab = data instanceof Point ? new GrabPoint(data, button) : new GrabRectangle(data, button)\n    this.grabs.add(grab)\n    return grab\n  }\n\n  /**\n   * Allow to remove a {@link Grab} instance by reference\n   *\n   * @param grab the {@link Grab} instance to remove\n   */\n  removeGrab (grab: Grab) {\n    this.grabs.remove(grab)\n  }\n\n  // todo: removeAllGrabs\n\n  /**\n   * Allow to enable grabbing. (by default the grabbing is disabled)\n   *\n   * @param dispatcher a {@link StrictEventEmitter} that can emit {@link Draggable} events\n   * @param instance (optional) can be used to set another parent instance\n   */\n  enableGrab (dispatcher: StrictEventEmitter<Draggable>, instance?: unknown) {\n    this.grabs.forEach(grab => grab.register(dispatcher, instance))\n  }\n\n  /**\n   * Allow to disable grabbing. (by default the grabbing is disabled)\n   *\n   * @param dispatcher a {@link StrictEventEmitter} that can emit {@link Draggable} events\n   */\n  disableGrab (dispatcher: StrictEventEmitter<Draggable>) {\n    this.grabs.forEach(grab => grab.unregister(dispatcher))\n  }\n\n  /**\n   * Allow to render all {@link Grab | Grabs} instances\n   *\n   * @param state a {@link RenderSate}\n   */\n  private renderGrab (state: RenderState) {\n    this.grabs.forEach(grab => grab.render(state))\n  }\n\n  isGrabbed () {\n    // if (grabs.length === 0) return super.isSelected()\n    for (const grab of this.grabs.toArray()) {\n      if (grab.isGrabbed()) { return true }\n    }\n    return false\n  }\n\n  serialize (): JSONObject {\n    return {\n      ...super.serialize(),\n      type: 'Item',\n      grabs: this.grabs.serialize()\n    }\n  }\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Deserializer, Deserializers, JSONObject } from '../core/object-mapper'\nimport Rectangle from '../core/rectangle'\nimport Collection from '../core/collection'\nimport { CanvasRenderingContext2DTracked, clearCanvas, create2DCanvasContextTracked, isContextTracked, Nullable, ResetTransformation, resize2DCanvasContext } from '../helper/utils'\nimport Renderable, { RenderableEvents, RenderableType } from './renderable'\nimport Filter from './filter'\nimport Filterable from './filterable'\nimport { HoverResult } from './hover-result'\nimport { Item } from './item'\nimport RenderState from './render-state'\n\nexport interface LayerOptions {\n  name: string\n  zIndex?: number\n  overflow?: boolean\n  background?: string\n  type?: RenderableType\n}\n\nexport class Layer<T extends Renderable = Renderable> extends Renderable implements Filterable {\n  private currentZIndex: number\n  readonly name: string\n  readonly overflow: boolean // ???????????\n  readonly background: Nullable<string>\n\n  readonly offscreen: CanvasRenderingContext2DTracked = create2DCanvasContextTracked()\n  readonly overscreen: CanvasRenderingContext2DTracked = create2DCanvasContextTracked()\n\n  private collection: Collection<T> = new Collection<T>()\n  readonly filters: Collection<Filter> = new Collection<Filter>()\n\n  private ondestroy: (t: T) => void\n\n  constructor (options?: LayerOptions) {\n    super()\n    if (typeof options === 'undefined') options = { name: 'unnamed layer' }\n    this.overflow = typeof options.overflow === 'boolean' ? options.overflow : false\n    this.currentZIndex = typeof options.zIndex === 'number' ? options.zIndex : 0\n    this.name = options.name\n    this.background = typeof options.background === 'string' ? options.background : null\n    this.renderingType = typeof options.type !== 'undefined' ? options.type : RenderableType.Normal\n    this.zIndex.set(this.currentZIndex)\n    this.ondestroy = this.ondestroytrigger(this)\n  }\n\n  destroy (): void {\n    this.collection.forEach(renderable => renderable.destroy())\n    this.collection.clear()\n    // destroy filter ???\n    // destroy canvas offscreen + overscreen ?????\n    this.filters.clear()\n  }\n\n  private ondestroytrigger (that: Layer<T>) {\n    return (t: T) => {\n      t.zIndex.pop()\n      that.collection.tryRemove(t)\n    }\n  }\n\n  addRenderable (t: T) {\n    const collection = this.collection\n    collection.add(t)\n    t.zIndex.push(this.currentZIndex)\n    t.on('destroy', this.ondestroy as <K extends RenderableEvents, T extends Renderable<K>> (that: T) => void)\n  }\n\n  removeRenderable (t: T) {\n    t.zIndex.pop()\n    this.collection.remove(t)\n    t.off('destroy', this.ondestroy as <K extends RenderableEvents, T extends Renderable<K>> (that: T) => void)\n  }\n\n  filter (items?: Collection<Item<unknown>>): void {\n    this.filters.forEach(filter => {\n      filter.apply(this.offscreen, typeof items === 'undefined' ? this.collection : items)\n    })\n  }\n\n  setTransform (transform: DOMMatrix) {\n    this.offscreen.setTransform(transform)\n    this.overscreen.setTransform(transform)\n  }\n\n  resetTransform () {\n    this.offscreen.setTransform(ResetTransformation())\n    this.overscreen.setTransform(ResetTransformation())\n  }\n\n  clear (color?: string) {\n    clearCanvas(this.offscreen, typeof color === 'undefined' ? this.background == null ? color : this.background : color)\n    clearCanvas(this.overscreen)\n  }\n\n  save () {\n    this.offscreen.save()\n    this.overscreen.save()\n  }\n\n  restore () {\n    this.overscreen.restore()\n    this.offscreen.restore()\n  }\n\n  rect (box: Rectangle, color: string) {\n    this.offscreen.beginPath()\n    this.offscreen.rect(box.origin.x, box.origin.y, box.size.x, box.size.y)\n    this.offscreen.fillStyle = color\n    this.offscreen.fill()\n  }\n\n  fit (target: CanvasRenderingContext2D | CanvasRenderingContext2DTracked | HTMLImageElement | HTMLCanvasElement) {\n    if (target instanceof CanvasRenderingContext2D || isContextTracked(target)) {\n      this.resize(target.canvas.width, target.canvas.height)\n    } else if (target instanceof HTMLImageElement) {\n      this.resize(target.naturalWidth, target.naturalHeight)\n    } else if (target instanceof HTMLCanvasElement) {\n      this.resize(target.width, target.height)\n    } else {\n      throw new Error('unable to fit the layer based on the target')\n    }\n  }\n\n  resize (width: number, height: number) {\n    resize2DCanvasContext(this.offscreen, width, height)\n    resize2DCanvasContext(this.overscreen, width, height)\n  }\n\n  renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T> {\n    return this.collection as unknown as Collection<T>\n  }\n\n  getHoveredRenderable (state: RenderState): HoverResult {\n    const renderables = [...this.collection.toArray()].sort((a, b) => a.compare(b)).reverse()\n    for (const renderable of renderables) {\n      if (renderable.overflow) {\n        state.push(this.overscreen)\n        if (renderable.isHover(state)) return HoverResult.from(this as unknown as Layer, renderable)\n        state.pop()\n      } else {\n        state.push(this.offscreen)\n        if (renderable.isHover(state)) return HoverResult.from(this as unknown as Layer, renderable)\n        state.pop()\n      }\n    }\n    return HoverResult.Empty\n  }\n\n  applyRenderable <V> (state: RenderState, renderable: Renderable, fn: (renderable: Renderable) => V): V {\n    if (renderable.overflow) {\n      state.push(this.overscreen)\n      const r = fn(renderable)\n      state.pop()\n      return r\n    } else {\n      state.push(this.offscreen)\n      const r = fn(renderable)\n      state.pop()\n      return r\n    }\n  }\n\n  render (state: RenderState): void {\n    this.offscreen.imageSmoothingEnabled = false\n    this.overscreen.imageSmoothingEnabled = false\n    const renderables = this.collection.toArray()\n    let allrenderables: Array<Renderable> = []\n    for (const renderable of renderables) allrenderables = allrenderables.concat(renderable.renderables().toArray())\n    allrenderables = allrenderables.concat(renderables).sort((a, b) => a.compare(b))\n    for (const renderable of allrenderables) {\n      if (renderable.overflow) {\n        state.push(this.overscreen)\n        renderable.render(state)\n        state.pop()\n      } else {\n        state.push(this.offscreen)\n        renderable.render(state)\n        state.pop()\n      }\n    }\n  }\n\n  isHover (): boolean {\n    return false\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Layer',\n      name: this.name,\n      zIndex: this.currentZIndex,\n      background: this.background,\n      renderingType: this.renderingType,\n      overflow: this.overflow,\n      collection: this.collection.serialize(),\n      filters: this.filters.serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Layer> = (data: JSONObject, types?: Deserializers) => {\n    if (data.type !== 'Layer') throw new Error('bad type')\n    if (typeof types === 'undefined') throw new Error('unable to deserialize generic class without types')\n    const layer = new Layer({\n      zIndex: data.zIndex,\n      name: data.name,\n      type: data.renderingType,\n      background: data.background,\n      overflow: data.overflow\n    })\n    Collection.deserializer<Renderable>(data.collection, types).forEach(renderable => layer.addRenderable(renderable))\n    Collection.deserializer<Filter>(data.filters, types).forEach(filter => layer.filters.add(filter))\n    return layer\n  }\n}\n\nexport default Layer\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Color from './color'\n\nexport class MultiColor extends Color {\n  private h = 0\n  private s = 1\n  private l = 0.5\n  private factor = 5\n\n  static get Default () { return new MultiColor(1) }\n\n  constructor (factor: number) {\n    super(255, 0, 0)\n    this.factor = factor\n  }\n\n  update (dt: number): void {\n    const [r, g, b] = Color.hslToRgb(this.h, this.s, this.l)\n    this.h += dt / this.factor\n    if (this.h > 1) this.h = 0\n    this.r = r\n    this.g = g\n    this.b = b\n  }\n}\n\nexport default MultiColor\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { EventMapType, StrictEventEmitter } from 'strict-event-emitter'\nimport Point from '../core/point'\nimport { CanvasRenderingContext2DTracked } from '../helper/utils'\nimport RenderStatus from './render-status'\nimport Scene from './scene'\n\nexport class RenderState {\n  private _mouse: Array<Point>\n  private stack: Array<CanvasRenderingContext2DTracked>\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private _dispatcher: StrictEventEmitter<EventMapType>\n  private _isHoverEnabled = false\n  private _dt: number\n  readonly scene: Scene\n  readonly status: RenderStatus\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor (status: RenderStatus, dispatcher: StrictEventEmitter<EventMapType>, scene: Scene, dt: number, ctx: CanvasRenderingContext2DTracked, mouse: Point) {\n    this._dispatcher = dispatcher\n    this.stack = [ctx]\n    this._mouse = [Point.duplicate(mouse)]\n    this._dt = dt\n    this.scene = scene\n    this.status = status\n  }\n\n  isMouseInPath () {\n    if (!this._isHoverEnabled) return false\n    return this.ctx.isPointInPath(this.mouse.x, this.mouse.y)\n  }\n\n  isPointInPath (x: number, y: number) {\n    const p = this.ctx.worldToScreen(x, y)\n    return this.ctx.isPointInPath(p.x, p.y)\n  }\n\n  enableHover () {\n    this._isHoverEnabled = true\n  }\n\n  disableHover () {\n    this._isHoverEnabled = false\n  }\n\n  get ctx () {\n    return this.stack[this.stack.length - 1]\n  }\n\n  get mouse () {\n    return this._mouse[this._mouse.length - 1]\n  }\n\n  get dispatcher () {\n    return this._dispatcher\n  }\n\n  get dt () {\n    return this._dt\n  }\n\n  screenToWorld (pt: Point) {\n    return this.ctx.screenToWorld(pt)\n  }\n\n  worldToScreen (pt: Point) {\n    return this.ctx.worldToScreen(pt)\n  }\n\n  push (ctx: CanvasRenderingContext2DTracked) {\n    this._mouse.push(this.ctx.screenToWorld(this.mouse))\n    this.stack.push(ctx)\n  }\n\n  pop () {\n    const ctx = this.stack.pop()\n    const mouse = this._mouse.pop()\n    if (ctx == null || mouse == null) throw new Error('too much pop()')\n    return ctx\n  }\n}\n\nexport default RenderState\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nexport enum RenderStatus {\n  File,\n  Screen\n}\n\nexport default RenderStatus\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n// todo: explain z-index system\n\n/* eslint-disable no-use-before-define */\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Collection from '../core/collection'\nimport Comparable from '../core/comparable'\nimport { JSONObject, Serializable } from '../core/object-mapper'\nimport RenderState from './render-state'\nimport ZIndex from './z-index'\n\n/**\n * Type of a {@link Renderable} instance\n *\n * The type of the instance alters the render phase\n *\n * _**NOTE:** only implemented for the layer system_\n */\nexport enum RenderableType {\n  /**\n   * Can be rendered anywhere (in a file, on the screen)\n   */\n  Normal,\n\n  /**\n   * Can only be rendered on the screen\n   */\n  Draft\n}\n\n/**\n * Base events of any {@link Renderable}\n *\n * Any {@link Renderable} can receive a :\n * - {@link destroy} event\n * - {@link select} event\n * - {@link unselect} event\n *\n * @virtual Subclasses/subinterfaces are free to build there own logic based on that\n */\nexport interface RenderableEvents {\n\n  destroy: (that: Renderable) => void\n\n  select: (that: Renderable) => void\n\n  unselect: (that: Renderable) => void\n\n}\n\n/**\n * Base class of every renderable elements.\n * Must be extended by any class which can be drawn on a {@link Canvas}\n */\nexport abstract class Renderable<T extends RenderableEvents = RenderableEvents> extends StrictEventEmitter<T> implements Comparable<Renderable<T>>, Serializable {\n  private _isselected = false\n  readonly overflow: boolean = false\n\n  readonly zIndex = new ZIndex()\n\n  protected renderingType = RenderableType.Normal\n\n  getRenderingType (): RenderableType {\n    return this.renderingType\n  }\n\n  setRenderingType (renderingType: RenderableType): void {\n    this.renderingType = renderingType\n  }\n\n  /**\n   * Allow to render a {@link Renderable} somewhere\n   *\n   * @param state a {@link RenderState} used to known where to render the {@link Renderable}\n   *\n   * @virtual Subclasses are free to implement this method as they wish\n   */\n  abstract render (state: RenderState): void\n\n  /**\n   * Allow to check if a {@link Renderable} is hovered\n   *\n   * @param state a {@link RenderState} used to known where to render the {@link Renderable}\n   *\n   * @virtual Subclasses are free to implement this method as they wish\n   */\n  abstract isHover (state: RenderState): boolean\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  hover (_state: RenderState): void { /* nothing */ }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  unhover (_state: RenderState): void { /* nothing */ }\n\n  /**\n   * Allow to retrieve all sub-{@link Renderable}s of a {@link Renderable}\n   *\n   * @virtual Subclasses are free to implement this method as they wish\n   *\n   * @returns all the sub-{@link Renderable}s in a {@link Array}\n   */\n  abstract renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T>\n\n  /**\n   * Allow to propagate an {@link RenderableEvents.destroy | destroy} event everywhere\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   */\n  destroy (): void {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.emit('destroy', this)\n  }\n\n  /**\n   * Allow to propagate an {@link RenderableEvents.select | select} event everywhere\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   */\n  select (): void {\n    this._isselected = true\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.emit('select', this)\n  }\n\n  /**\n   * Allow to propagate an {@link RenderableEvents.unselect | unselect} event everywhere\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   */\n  unselect (): void {\n    this._isselected = false\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.emit('unselect', this)\n  }\n\n  /**\n   * Allow to check if a {@link Renderable} is currently selected\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   *\n   * @returns true if this {@link Renderable} is selected else false\n   */\n  isSelected () {\n    return this._isselected\n  }\n\n  /**\n   * Allow to compare the **depth** ({@link Renderable.zIndex | z-index}) between two {@link Renderable}\n   *\n   * @example\n   * ```\n   * const renderables: Array<Renderable> = ...\n   * renderables.sort((a, b) => a.compare(b))\n   * ```\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   *\n   * @param other a {@link Renderable}\n   *\n   * @returns\n   *\n   * 0 if {@link other} have the same {@link Renderable.zIndex | z-index}\n   *\n   * < 0 if {@link other} is behind (smaller {@link Renderable.zIndex | z-index})\n   *\n   * \\> 0 if {@link other} is in front (bigger {@link Renderable.zIndex | z-index})\n   */\n  compare (other: Renderable<T>): number {\n    return this.zIndex.compare(other.zIndex)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Renderable',\n      zIndex: this.zIndex.data(),\n      isselected: this._isselected,\n      overflow: this.overflow\n    }\n  }\n}\n\nexport default Renderable\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport { fromCanvas, RGBA } from 'binary-bmp'\nimport Renderable, { RenderableEvents, RenderableType } from './renderable'\nimport { clip, create2DCanvasContextTracked, Nullable, ResetTransformation, unclip } from '../helper/utils'\nimport Rectangle from '../core/rectangle'\nimport Collection from '../core/collection'\nimport RenderState from './render-state'\nimport Layer from './layer'\nimport { HoverResult } from './hover-result'\nimport Point from '../core/point'\nimport Canvas from './canvas'\nimport { Deserializer, Deserializers, JSONObject } from '../core/object-mapper'\nimport RenderStatus from './render-status'\n\nexport class Scene extends Renderable {\n  readonly overflow: boolean = false\n\n  private name: string\n\n  private box: Nullable<Rectangle> = null // if null infinite\n  readonly layers: Collection<Layer> = new Collection<Layer>()\n\n  private grabEnabled = false\n  private hovered = HoverResult.Empty\n  private selected = false\n\n  static get Empty () { return new Scene(Rectangle.from(-50, -50, 100, 100)) }\n\n  constructor(box?: Rectangle)\n  constructor (name?: string | Rectangle, box?: Rectangle) {\n    super()\n    this.name = typeof name === 'string' ? name : 'unnamed'\n    this.box = typeof box === 'undefined' ? name instanceof Rectangle ? Rectangle.duplicate(name) : null : Rectangle.duplicate(box)\n  }\n\n  destroy (): void {\n    this.layers.forEach(layer => layer.destroy())\n    this.layers.destroy()\n    this.disableGrab()\n  }\n\n  renderables <K extends RenderableEvents, T extends Renderable<K>> (): Collection<T> {\n    let renderables: Array<T> = []\n    this.layers.forEach(layer => {\n      renderables = renderables.concat(layer.renderables().toArray() as Array<T>)\n    })\n    return Collection.from(renderables)\n  }\n\n  enableGrab () {\n    this.grabEnabled = true\n  }\n\n  disableGrab () {\n    this.grabEnabled = false\n  }\n\n  isGrabEnabled () {\n    return this.grabEnabled\n  }\n\n  getBox (): Rectangle {\n    return this.box == null ? Rectangle.Zero : this.box\n  }\n\n  toBMP (layersname?: Array<string>) {\n    if (this.box == null) throw new Error('infinite canvas to bmp not yet implemented')\n    const mix = create2DCanvasContextTracked()\n    mix.canvas.width = this.box.size.x // buggued\n    mix.canvas.height = this.box.size.y\n\n    mix.setTransform(ResetTransformation())\n    mix.translate(-this.box.origin.x, -this.box.origin.y)\n\n    const renderingTypes: Record<string, RenderableType> = {}\n    this.layers.forEach(layer => { renderingTypes[layer.name] = layer.getRenderingType() })\n\n    if (typeof layersname !== 'undefined') {\n      this.layers.forEach(layer => layer.setRenderingType(RenderableType.Draft))\n      layersname.forEach((name) => {\n        const layer = this.layers.find((layer): layer is Layer => layer.name === name)\n        if (layer == null) return\n        if (renderingTypes[layer.name] === RenderableType.Draft) return\n        layer.setRenderingType(RenderableType.Normal)\n      })\n    }\n\n    this.renderInternal(new RenderState(RenderStatus.File, new Canvas(), this, 0, mix, new Point()), false)\n\n    this.layers.forEach(layer => layer.setRenderingType(renderingTypes[layer.name]))\n\n    // mix.canvas.style.cssText = 'position: absolute; left: 10px; top: 10px; border: 1px solid red; z-index: 99999999; transform: scale(0.5); background:blue;'\n    // document.body.appendChild(mix.canvas)\n\n    const rgba = fromCanvas(RGBA, mix.canvas)\n    return new Blob([rgba], { type: 'image/bmp' })\n  }\n\n  setName (name: string): void {\n    this.name = name\n  }\n\n  getName (): string {\n    return this.name\n  }\n\n  resize (width: number, height: number): void {\n    this.box = Rectangle.from(-width / 2, -height / 2, width, height)\n  }\n\n  // should reset all stuff? maybe empty or something ??\n  reset () {\n    this.layers.forEach(layer => {\n      layer.renderables().forEach(renderable => renderable.destroy())\n      layer.renderables().destroy()\n    })\n    this.layers.forEach(layer => layer.resetTransform())\n  }\n\n  render (state: RenderState) {\n    this.renderInternal(state, true)\n  }\n\n  isHover (): boolean {\n    return false\n  }\n\n  private renderInternal (state: RenderState, b: boolean): void {\n    const ctx = state.ctx\n\n    // todo: pop this state (reset)\n    if (this.isGrabEnabled()) {\n      state.enableHover()\n    } else {\n      state.disableHover()\n      if (!this.hovered.isEmpty()) this.hovered.unhover(state)\n      this.hovered = HoverResult.Empty\n    }\n\n    const t = ctx.duplicateTransform()\n    ctx.setTransform(ResetTransformation())\n\n    this.layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      layer.fit(ctx)\n    })\n    this.layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      layer.clear()\n    })\n    this.layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      layer.setTransform(t)\n    })\n\n    // sort\n    const layers = this.layers.toArray().sort((a, b) => a.compare(b))\n\n    // hover\n    if (!this.hovered.isEmpty() && this.hovered.isGrabbed()) {\n      if (!this.selected) {\n        this.selected = true\n        this.hovered.select()\n      }\n      if (!this.hovered.isHover(state) && !this.hovered.isGrabbed()) {\n        this.hovered.unhover(state)\n        this.hovered = HoverResult.Empty\n      }\n    } else {\n      this.selected = false\n      const layershover = [...this.layers.toArray()].sort((a, b) => b.compare(a))\n      const oldhovered = this.hovered\n      let renderable = HoverResult.Empty\n      for (const layer of layershover) {\n        const d = layer.getHoveredRenderable(state)\n        if (!d.isEmpty()) {\n          renderable = d\n          break\n        }\n      }\n      this.hovered = renderable\n      if (this.hovered.instance() !== oldhovered.instance()) {\n        oldhovered?.unhover(state)\n      }\n      if (!this.hovered.isEmpty() && oldhovered.instance() !== renderable.instance()) {\n        this.hovered.hover(state)\n      }\n    }\n\n    // render\n    layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      layer.render(state)\n    })\n\n    // apply filters\n    this.layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      layer.filter(this.renderables())\n    })\n\n    // draw (+ clip)\n    layers.forEach(layer => {\n      if (!b && layer.getRenderingType() === RenderableType.Draft) return\n      if (this.box != null) {\n        clip(ctx, t, this.box)\n      }\n      ctx.drawImage(layer.offscreen.canvas, 0, 0)\n      if (this.box != null) {\n        unclip(ctx)\n      }\n      ctx.drawImage(layer.overscreen.canvas, 0, 0)\n    })\n\n    ctx.setTransform(t)\n  }\n\n  serialize (): JSONObject {\n    const json: JSONObject = {\n      type: 'Scene',\n      name: this.getName()\n    }\n    if (this.box != null) json.box = this.box.serialize()\n    return {\n      ...json,\n      layers: this.layers.serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Scene> = (data: JSONObject, types?: Deserializers) => {\n    if (data.type !== 'Scene') throw new Error('bad type')\n    if (typeof types === 'undefined') throw new Error('unable to deserialize generic class without types')\n    const scene = typeof data.box === 'undefined' ? new Scene() : new Scene(Rectangle.deserializer(data.box))\n    scene.setName(data.name)\n    Collection.deserializer<Layer>(data.layers, types).forEach(layer => scene.layers.add(layer))\n    return scene\n  }\n}\n\nexport default Scene\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { isImageLoaded, MouseButton } from '../helper/utils'\nimport RenderState from './render-state'\nimport { Item } from './item'\nimport Rectangle from '../core/rectangle'\nimport { Pointer } from '../core/pointer'\nimport GrabRectangle from './grab-rectangle'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { JSONObject, Deserializer } from '../core/object-mapper'\n\nexport interface SpriteProps {\n  x: number\n  y: number\n  width: number\n  height: number\n  zIndex: number\n}\n\nexport class Sprite extends Item<SpriteProps> {\n  private static GenID: UniqueID = new UniqueID()\n  private box: Rectangle = Rectangle.Zero\n  private id: number\n  private internal: HTMLImageElement\n  private _isloaded: boolean\n  private _keep_ratio: boolean\n\n  private x: Pointer<number>\n  private y: Pointer<number>\n  private width: Pointer<number>\n  private height: Pointer<number>\n\n  private grab: GrabRectangle\n\n  constructor (image: HTMLImageElement, box?: Rectangle) {\n    super()\n    this.id = Sprite.GenID.get()\n    this.internal = image\n    this._isloaded = typeof box === 'undefined' ? isImageLoaded(this.internal) : true\n    this._keep_ratio = false\n\n    if (this._isloaded) {\n      this.box = typeof box !== 'undefined' ? Rectangle.duplicate(box) : Rectangle.from(-this.internal.naturalWidth / 2, -this.internal.naturalHeight / 2, this.internal.naturalWidth, this.internal.naturalHeight)\n    }\n\n    this.grab = this.addGrab(this.box, MouseButton.Left)\n    this.zIndex.set(0);\n    [this.x, this.y, this.width, this.height] = this.grab.pointers()\n\n    this.setProperty('x', this.x, floatConvertor, DefaultFormBuilder('x', this.x, floatConvertor, floatDeconvertor))\n    this.setProperty('y', this.y, floatConvertor, DefaultFormBuilder('y', this.y, floatConvertor, floatDeconvertor))\n    this.setProperty('width', this.width, floatConvertor, DefaultFormBuilder('width', this.width, floatConvertor, floatDeconvertor))\n    this.setProperty('height', this.height, floatConvertor, DefaultFormBuilder('height', this.height, floatConvertor, floatDeconvertor))\n    this.setProperty('zIndex', this.zIndex, floatConvertor, DefaultFormBuilder('z-index', this.zIndex, floatConvertor, floatDeconvertor))\n  }\n\n  getID () {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    Sprite.GenID.remove(this.id)\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n    if (!this._isloaded && isImageLoaded(this.internal)) {\n      this._isloaded = true\n      this.box = Rectangle.from(-this.internal.naturalWidth / 2, -this.internal.naturalHeight / 2, this.internal.naturalWidth, this.internal.naturalHeight)\n      this.grab.refresh(this.box)\n    }\n    if (this._isloaded && isImageLoaded(this.internal)) {\n      const origin = new Point(this.x.get(), this.y.get())\n      const size = new Point(this.width.get(), this.height.get())\n      const d = Point.sub(new Point(this.x.get(), this.y.get()), new Point(this.x.get() + this.width.get(), this.y.get() + this.height.get()))\n      ctx.translate(origin.x, origin.y)\n      ctx.scale(d.x < 0 ? 1 : -1, d.y < 0 ? 1 : -1)\n      ctx.drawImage(this.internal, d.x < 0 ? 0 : -size.x, d.y < 0 ? 0 : -size.y, size.x, size.y)\n      ctx.scale(d.x < 0 ? 1 : -1, d.y < 0 ? 1 : -1)\n      ctx.translate(-origin.x, -origin.y)\n    }\n  }\n\n  static from (source: FileList): Array<Promise<Sprite>>\n  static from (source: File): Promise<Sprite>\n  static from (source: HTMLImageElement, box?: Rectangle): Sprite\n  static from (source: FileList | File | HTMLImageElement, box?: Rectangle): Array<Promise<Sprite>> | Promise<Sprite> | Sprite {\n    if (source instanceof HTMLImageElement) {\n      return new Sprite(source, box)\n    } else if (source instanceof File) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader()\n        reader.onload = function (e) {\n          if (e.target == null) return reject(new Error('unable to load the image'))\n          const image = new Image()\n          image.src = e.target.result as string\n          resolve(Sprite.from(image))\n        }\n        reader.readAsDataURL(source)\n      })\n    } else {\n      const p = []\n      for (let i = 0; i < source.length; i++) {\n        p.push(Sprite.from(source[i]))\n      }\n      return p\n    }\n  }\n\n  serialize (): JSONObject {\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n    if (ctx == null) throw new Error('unable to get 2d context')\n    canvas.height = this.internal.naturalHeight\n    canvas.width = this.internal.naturalWidth\n    ctx.drawImage(this.internal, 0, 0)\n    return {\n      type: 'Sprite',\n      box: Rectangle.from(this.x.get(), this.y.get(), this.width.get(), this.height.get()).serialize(),\n      zIndex: this.zIndex.get(),\n      image: canvas.toDataURL()\n    }\n  }\n\n  static deserializer: Deserializer<Sprite> = (data: JSONObject) => {\n    if (data.type !== 'Sprite') throw new Error('bad type')\n    const image = new Image()\n    const box = Rectangle.deserializer(data.box)\n    const sprite = Sprite.from(image, box)\n    sprite.zIndex.set(data.zIndex)\n    image.src = data.image\n    return sprite\n  }\n}\n\nexport default Sprite\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Comparable from '../core/comparable'\nimport { Pointer } from '../core/pointer'\nimport { Nullable } from '../helper/utils'\n\nexport class ZIndex extends Pointer<number> implements Comparable<ZIndex> {\n  private values: Array<number> = []\n\n  constructor (value?: number) {\n    super(0)\n    this.values = typeof value === 'number' ? [value] : []\n  }\n\n  push (zIndex: number): void {\n    this.values.unshift(zIndex)\n  }\n\n  pop (): Nullable<number> {\n    const v = this.values.shift()\n    if (typeof v === 'undefined') return null\n    return v\n  }\n\n  get (index?: number): number {\n    return this.values[typeof index === 'number' ? index : this.values.length - 1]\n  }\n\n  set (zIndex: number): void {\n    if (this.values.length === 0) {\n      this.values.push(zIndex)\n    } else {\n      this.values[this.values.length - 1] = zIndex\n    }\n  }\n\n  size (): number {\n    return this.values.length\n  }\n\n  clear () {\n    this.values = []\n  }\n\n  data (): Array<number> {\n    return this.values\n  }\n\n  /**\n   * Allow to compare the **depth** ({@link ZIndex.values | z-index}) between two {@link ZIndex}\n   *\n   * @example\n   * ```\n   * const zindexes: Array<ZIndex> = ...\n   * zindexes.sort((a, b) => a.compare(b))\n   * ```\n   *\n   * @sealed recommanded to **NOT OVERRIDE** this method\n   *\n   * @param other a {@link ZIndex}\n   *\n   * @returns\n   *\n   * 0 if {@link other} have the same {@link ZIndex.values | z-index}\n   *\n   * < 0 if {@link other} is behind (smaller {@link ZIndex.values | z-index})\n   *\n   * \\> 0 if {@link other} is in front (bigger {@link ZIndex.values | z-index})\n   */\n  compare (other: ZIndex): number {\n    /* else we compare the z-index */\n    if (this.size() !== other.size()) return this.size() - other.size()\n    for (let i = this.size() - 1; i >= 0; i--) {\n      if (this.get(i) === other.get(i)) continue\n      return this.get(i) - other.get(i)\n    }\n\n    /* at this step, we assume that the two renderables are on the same depth (z-index) */\n    return 0\n  }\n}\n\nexport default ZIndex\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { arc, DegToRad, IsInstanceOf, line, Nullable, stroke } from '../helper/utils'\nimport Filter from '../drawing/filter'\nimport { Item } from '../drawing/item'\nimport Road from './road'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport Color from '../drawing/color'\nimport Collection from '../core/collection'\nimport { RoadLine } from './road-line'\nimport RoadArc from './road-arc'\n\nexport class RoadFilter implements Filter {\n  apply (ctx: CanvasRenderingContext2D, items: Collection<Item>): void {\n    // wow\n    const c = ctx.globalCompositeOperation\n    ctx.globalCompositeOperation = 'destination-over'\n\n    // solution: ctx.lineJoin = \"round\";\n    // found closest point => link them and build path\n\n    const w = ctx.lineWidth\n    // const cap = ctx.lineCap\n\n    const color1 = Color.Magenta\n    const color2 = Color.Yellow\n\n    ctx.lineCap = 'butt'\n    ctx.lineWidth = 1\n\n    if (items.length === 0) return\n    let l: Nullable<Road> = items.find(IsInstanceOf(RoadLine))\n    if (l == null) {\n      l = items.find(IsInstanceOf(RoadArc))\n    }\n    if (l == null) return\n\n    const width = l.getWidth()\n    const isize = 0.7\n\n    const roadlines: Array<Road> = items.filter(IsInstanceOf(RoadLine)).toArray()\n    const roadarcs: Array<Road> = items.filter(IsInstanceOf(RoadArc)).toArray()\n    const roads = roadlines.concat(roadarcs)\n\n    // const deltac = 255 / Math.floor(width * (1 / isize))\n\n    for (let i = 0; i < width * (1 / isize); i++) {\n      // color1.addBlue(deltac)\n      // color2.addGreen(deltac)\n\n      for (let j = roads.length - 1; j >= 0; j--) {\n        const road = roads[j]\n\n        if (!(road instanceof RoadLine || road instanceof RoadArc)) continue\n\n        const amount = width / 2 + ctx.lineWidth / 2\n        if (road instanceof RoadLine) {\n          const start = road.getStart()\n          const end = road.getEnd()\n          const angle = Math.atan2(end.y - start.y, end.x - start.x)\n          const vx = Math.cos(angle)\n          const vy = Math.sin(angle)\n          const dx = ((i * isize) + amount) * vx\n          const dy = ((i * isize) + amount) * vy\n          line(ctx, start.x - dy, start.y + dx, end.x - dy, end.y + dx)\n          stroke(ctx, color1)\n          arc(ctx, end.x, end.y, amount + i * isize, angle, angle + Math.PI / 2)\n          stroke(ctx, color1)\n          arc(ctx, start.x, start.y, amount + i * isize, angle + Math.PI / 2, angle + Math.PI)\n          stroke(ctx, color1)\n          line(ctx, start.x + dy, start.y - dx, end.x + dy, end.y - dx)\n          stroke(ctx, color2)\n          arc(ctx, end.x, end.y, amount + i * isize, angle - Math.PI / 2, angle)\n          stroke(ctx, color2)\n          arc(ctx, start.x, start.y, amount + i * isize, angle + Math.PI, angle + Math.PI + Math.PI / 2)\n          stroke(ctx, color2)\n        } else if (road instanceof RoadArc) {\n          const center = road.getCenter()\n          const radius = road.getRadius()\n          const startAngle = DegToRad(road.getStartAngle())\n          const endAngle = DegToRad(road.getEndAngle())\n          let from = startAngle\n          let to = endAngle\n          if (from >= to) {\n            from = endAngle\n            to = startAngle\n          }\n          arc(ctx, center.x, center.y, radius + ((i * isize) + amount), from, to)\n          stroke(ctx, color1)\n          arc(ctx, center.x, center.y, radius - ((i * isize) + amount), from, to)\n          stroke(ctx, color2)\n        }\n      }\n    }\n\n    ctx.globalCompositeOperation = c\n    ctx.lineWidth = w\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'RoadFilter'\n    }\n  }\n\n  static deserializer: Deserializer<RoadFilter> = (data: JSONObject) => {\n    if (data.type !== 'RoadFilter') throw new Error('bad type')\n    return new RoadFilter()\n  }\n}\n\nexport default RoadFilter\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Draggable from '../core/draggable'\nimport Line from '../core/line'\nimport Logical from '../core/logical'\nimport Point from '../core/point'\nimport Color from '../drawing/color'\nimport RenderState from '../drawing/render-state'\nimport { MouseButton, Nullable } from '../helper/utils'\nimport RoadArc from './road-arc'\nimport { RoadLine } from './road-line'\n\ninterface Events {\n  newline: (line: Line) => void\n}\n\nexport class LogicalLines extends StrictEventEmitter<Events> implements Logical<Draggable> {\n  private tmppos: Nullable<Point> = null\n  private tmpcur: Nullable<Point> = null\n  private lastButton: MouseButton\n  private button: MouseButton\n\n  private ondragstart: (mousePosition: Point, mouseButton: MouseButton) => void\n  private ondragstep: (mousePosition: Point) => void\n  private ondragcancel: () => void\n  private ondragend: (mousePosition: Point) => void\n\n  constructor (button: MouseButton) {\n    super()\n    this.button = button\n    this.lastButton = button\n    this.ondragstart = this.dragstart(this)\n    this.ondragstep = this.dragstep(this)\n    this.ondragcancel = this.dragcancel(this)\n    this.ondragend = this.dragend(this)\n  }\n\n  getCurrentLine () {\n    if (this.tmppos && this.tmpcur && this.lastButton === this.button) {\n      return new Line(this.tmppos, this.tmpcur)\n    }\n    return null\n  }\n\n  register (dispatcher: StrictEventEmitter<Draggable>) {\n    dispatcher.on('dragstart', this.ondragstart)\n    dispatcher.on('dragstep', this.ondragstep)\n    dispatcher.on('dragcancel', this.ondragcancel)\n    dispatcher.on('dragend', this.ondragend)\n  }\n\n  unregister (dispatcher: StrictEventEmitter<Draggable>) {\n    dispatcher.off('dragstart', this.ondragstart)\n    dispatcher.off('dragstep', this.ondragstep)\n    dispatcher.off('dragcancel', this.ondragcancel)\n    dispatcher.off('dragend', this.ondragend)\n  }\n\n  private dragstart (that: LogicalLines) {\n    return (mousePosition: Point, mouseButton: MouseButton) => {\n      if (mouseButton === that.button) that.tmppos = mousePosition\n      else this.tmppos = null\n      that.tmpcur = null\n      that.lastButton = mouseButton\n    }\n  }\n\n  private dragstep (that: LogicalLines) {\n    return (mousePosition: Point) => {\n      that.tmpcur = mousePosition\n    }\n  }\n\n  private dragend (that: LogicalLines) {\n    return (mousePosition: Point) => {\n      if (that.tmppos != null) {\n        that.emit('newline', new Line(that.tmppos, mousePosition))\n      }\n      that.tmppos = null\n      that.tmpcur = null\n    }\n  }\n\n  private dragcancel (that: LogicalLines) {\n    return () => {\n      that.tmppos = null\n      that.tmpcur = null\n    }\n  }\n\n  renderCurrentLine (color: Color) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n\n    return (state: RenderState) => {\n      const data = that.getCurrentLine()\n      if (data != null) {\n        const item = RoadLine.from(Line.Zero)\n        item.setColor(color)\n        item.setStart(data.start)\n        item.setEnd(data.end)\n        item.render(state)\n        item.destroy()\n      }\n    }\n  }\n\n  renderCurrentArc (color: Color) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n\n    return (state: RenderState) => {\n      const data = that.getCurrentLine()\n      if (data != null) {\n        const item = RoadArc.from(data)\n        item.setColor(color)\n        item.render(state)\n        item.destroy()\n      }\n    }\n  }\n}\n\nexport default LogicalLines\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { getOrDefaultValue, IsInstanceOf } from '../helper/utils'\nimport Point from '../core/point'\nimport Rectangle from '../core/rectangle'\nimport Init from '../map/init'\nimport Itinerary, { Action } from '../map/itinerary'\nimport Obstacle from '../map/obstacle'\nimport Road from '../map/road'\nimport RoadLine from '../map/road-line'\nimport RoadArc from '../map/road-arc'\nimport Stop from '../map/stop'\nimport TrafficLight from '../map/traffic-light'\nimport WayPoint from '../map/way-point'\nimport Scene from '../drawing/scene'\nimport { RoadLine as RoadLineItem } from './road-line'\nimport { RoadArc as RoadArcItem } from './road-arc'\nimport { StartingPoint as StartingPointItem } from './starting-point'\nimport { Step as StepItem } from './step'\nimport { Obstacle as ObstacleItem } from './obstacle'\nimport { Stop as StopItem } from './stop'\n\nexport interface MapOptions {\n  name?: string\n  graphics?: string\n  guide?: string\n  init?: Init\n  roads?: Array<Road>\n  ways?: Array<WayPoint>\n  trafficLights?: Array<TrafficLight>\n  stops?: Array<Stop>\n  obstacles?: Array<Obstacle>\n  itinerary?: Itinerary\n}\n\nexport class MapWriter {\n  private name: string\n  private graphics: string\n  private guide: string\n  private init: Init\n  private roads: Array<Road>\n  private ways: Array<WayPoint>\n  private trafficLights: Array<TrafficLight>\n  private stops: Array<Stop>\n  private obstacles: Array<Obstacle>\n  private itinerary: Itinerary\n\n  getName () {\n    return this.name\n  }\n\n  getItiName (): string {\n    return `${this.name}.iti`\n  }\n\n  getGraphicsName (): string {\n    return this.graphics\n  }\n\n  getGuideName (): string {\n    return this.guide\n  }\n\n  private constructor (options: MapOptions) {\n    this.name = getOrDefaultValue(options.name, 'unnamed')\n    this.graphics = getOrDefaultValue(options.graphics, 'game-unnamed.bmp')\n    this.guide = getOrDefaultValue(options.guide, 'b-unnamed.bmp')\n    this.init = getOrDefaultValue(options.init, Init.Zero)\n    this.roads = getOrDefaultValue(options.roads, [])\n    this.ways = getOrDefaultValue(options.ways, [])\n    this.trafficLights = getOrDefaultValue(options.trafficLights, [])\n    this.stops = getOrDefaultValue(options.stops, [])\n    this.obstacles = getOrDefaultValue(options.obstacles, [])\n    this.itinerary = getOrDefaultValue(options.itinerary, Itinerary.Default)\n  }\n\n  /**\n   *\n   * @example\n   * ```\n   * map \"oneway_line\"\n   * graphics \"map_00_oneway_line.bmp\"\n   * guide \"b-00.bmp\"\n   * init 50. 50. 23.703\n   * rd 1\n   * line 1 30 50. 50. 550. 250.\n   * wp 1\n   * 0 550. 250.\n   * tl 0\n   * st 0\n   * obst 2\n   * 30.  30.  1. 10.\n   * 200. 200.  8. 30.\n   * iti 2\n   * go 20.\n   * stop\n   * end\n   * ```\n   *\n   * @returns map file content\n   */\n  build () {\n    let r = ''\n\n    r += `map \"${this.name}\"\\n`\n    r += `graphics \"${this.graphics}\"\\n`\n    r += `guide \"${this.guide}\"\\n`\n\n    r += this.init.toString()\n\n    r += `rd ${this.roads.length}\\n`\n    for (const road of this.roads) r += road.toString()\n\n    r += `wp ${this.ways.length}\\n`\n    for (const way of this.ways) r += way.toString()\n\n    r += `tl ${this.trafficLights.length}\\n`\n    for (const trafficLight of this.trafficLights) r += trafficLight.toString()\n\n    r += `st ${this.stops.length}\\n`\n    for (const stop of this.stops) r += stop.toString()\n\n    r += `obst ${this.obstacles.length}\\n`\n    for (const obstacle of this.obstacles) r += obstacle.toString()\n\n    r += `iti ${this.itinerary.size()}\\n`\n    r += this.itinerary.toString()\n\n    r += 'end\\n'\n    return r\n  }\n\n  /**\n   *\n   * @example\n   * ```\n   * go 20.\n   * stop\n   * ```\n   *\n   * @returns itinerary content\n   */\n  buildItinerary () {\n    return this.itinerary.toString()\n  }\n\n  private static computeCoordinate (box: Rectangle, a: Point): Point {\n    return new Point(a.x - box.origin.x, box.size.y - (a.y - box.origin.y))\n  }\n\n  static from (scene: Scene): MapWriter {\n    const options = {} as MapOptions\n\n    /* get boundaries (will not work with infinite scene) */\n    const box = scene.getBox()\n\n    /* setup some properties from the scene's name */\n    options.name = scene.getName()\n    options.graphics = `game-${options.name}.bmp`\n    options.guide = `b-${options.name}.bmp`\n    options.roads = []\n    const actions: Array<Action> = []\n\n    /* fetch item object from the scene */\n    const lines = scene.renderables().filter(IsInstanceOf(RoadLineItem)).toArray()\n    const arcs = scene.renderables().filter(IsInstanceOf(RoadArcItem)).toArray()\n    const obss = scene.renderables().filter(IsInstanceOf(ObstacleItem)).toArray()\n    const startpoints = scene.renderables().filter(IsInstanceOf(StartingPointItem)).toArray()\n    const steps = scene.renderables().filter(IsInstanceOf(StepItem)).toArray().sort((a, b) => a.getIndex() - b.getIndex())\n    const stops = scene.renderables().filter(IsInstanceOf(StopItem)).toArray()\n\n    /* setup vehicle start point in the map */\n    if (startpoints.length > 0) {\n      options.init = new Init(this.computeCoordinate(box, startpoints[0].getPosition()), startpoints[0].getAngle())\n      actions.push(Itinerary.Go.from(startpoints[0].getSpeed()))\n    }\n\n    /* setup roads in the map */\n    for (const line of lines) {\n      options.roads.push(\n        new RoadLine(\n          line.getDirection(),\n          line.getSpeed(),\n          this.computeCoordinate(box, line.getStart()),\n          this.computeCoordinate(box, line.getEnd())\n        )\n      )\n    }\n    for (const arc of arcs) {\n      options.roads.push(\n        new RoadArc(\n          arc.getDirection(),\n          arc.getSpeed(),\n          this.computeCoordinate(box, arc.getCenter()),\n          arc.getRadius(),\n          arc.getStartAngle(),\n          arc.getEndAngle()\n        )\n      )\n    }\n\n    /* setup obstacles in the map */\n    const obstacles = obss.map(obs => new Obstacle(this.computeCoordinate(box, obs.getPosition()), obs.getSince(), obs.getTill()))\n    options.obstacles = obstacles\n\n    /* setup custom itinerary + waypoints */\n    // todo: add order index to waypoint as property then sort\n    if (steps.length > 0) {\n      let currentSpeed = startpoints.length > 0 ? startpoints[0].getSpeed() : 20\n      for (const step of steps) {\n        const action = step.getAction()\n        actions.push(action)\n        if (action instanceof Itinerary.Go) {\n          currentSpeed = action.getValue()\n        } else if (action instanceof Itinerary.Turn) {\n          actions.push(Itinerary.Go.from(currentSpeed))\n        }\n      }\n\n      /* setup the waypoints for the corresponding itinerary */\n      const waypoints = []\n      for (const step of steps) {\n        waypoints.push(new WayPoint(this.computeCoordinate(box, step.getPosition()), step.getRoadIndex()))\n      }\n\n      options.itinerary = new Itinerary(actions)\n      options.ways = waypoints\n    }\n\n    /* if no itinerary, add default one by adding stop at the end */\n    if (startpoints.length > 0 && steps.length === 0) {\n      actions.push(Itinerary.Stop.from())\n      options.itinerary = new Itinerary(actions)\n    }\n\n    /* setup stops and traffic lights */\n    if (stops.length > 0) {\n      const stoppoints = []\n      const trafficLights = []\n      for (let i = 0; i < stops.length; i++) {\n        const stop = stops[i]\n        trafficLights.push(new TrafficLight(\n          this.computeCoordinate(box, stop.getLightPosition()),\n          stop.getRoadIndex(),\n          stop.getLightDelayR(),\n          stop.getLightDelayA(),\n          stop.getLightDelayG(),\n          stop.getLightPhase()\n        ))\n        stoppoints.push(new Stop(this.computeCoordinate(box, stop.getPosition()), stop.getRoadIndex(), i))\n      }\n\n      options.stops = stoppoints\n      options.trafficLights = trafficLights\n    }\n\n    return new MapWriter(options)\n  }\n}\n\nexport default MapWriter\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\n\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { MouseButton } from '../helper/utils'\nimport RenderState from '../drawing/render-state'\nimport { Item } from '../drawing/item'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\n\nexport interface ObstacleProps {\n  x: number\n  y: number\n  since: number\n  till: number\n}\n\nexport class Obstacle extends Item<ObstacleProps> {\n  private static GenID: UniqueID = new UniqueID()\n\n  private x: Pointer<number>\n  private y: Pointer<number>\n  private since: Pointer<number>\n  private till: Pointer<number>\n\n  private id: number\n\n  private grab: GrabPoint\n\n  private image: HTMLImageElement\n  private imageloaded: boolean\n\n  constructor (pt: Point) {\n    super()\n\n    this.id = Obstacle.GenID.get()\n\n    const that = this\n    this.imageloaded = false\n    this.image = new Image()\n    this.image.onload = () => {\n      that.imageloaded = true\n    }\n    this.image.src = 'data:image/png;base64,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'\n\n    this.grab = this.addGrab(pt, MouseButton.Left);\n\n    [this.x, this.y] = this.grab.pointers()\n\n    this.since = makePointer(1)\n    this.till = makePointer(8)\n\n    this.setProperty('x', this.x, floatConvertor, DefaultFormBuilder('x', this.x, floatConvertor, floatDeconvertor))\n    this.setProperty('y', this.y, floatConvertor, DefaultFormBuilder('y', this.y, floatConvertor, floatDeconvertor))\n    this.setProperty('since', this.since, floatConvertor, DefaultFormBuilder('since', this.since, floatConvertor, floatDeconvertor))\n    this.setProperty('till', this.till, floatConvertor, DefaultFormBuilder('till', this.till, floatConvertor, floatDeconvertor))\n  }\n\n  getID () {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    Obstacle.GenID.remove(this.id)\n  }\n\n  setSince (since: number) {\n    this.since.set(since)\n  }\n\n  getSince () {\n    return this.since.get()\n  }\n\n  setTill (till: number) {\n    this.till.set(till)\n  }\n\n  getTill () {\n    return this.till.get()\n  }\n\n  setPosition (pos: Point) {\n    this.x.set(pos.x)\n    this.y.set(pos.y)\n  }\n\n  getPosition () {\n    return new Point(this.x.get(), this.y.get())\n  }\n\n  render (state: RenderState): void {\n    super.render(state)\n    const ctx = state.ctx\n    if (this.imageloaded) {\n      ctx.drawImage(this.image, -this.image.naturalWidth / 2 + this.x.get(), -this.image.naturalHeight / 2 + this.y.get())\n    }\n  }\n\n  isHover (state: RenderState) {\n    if (super.isHover(state)) return true\n    const ctx = state.ctx\n    if (this.imageloaded) {\n      ctx.beginPath()\n      ctx.rect(-this.image.naturalWidth / 2 + this.x.get(), -this.image.naturalHeight / 2 + this.y.get(), this.image.naturalWidth, this.image.naturalHeight)\n      return state.isMouseInPath()\n    }\n    return false\n  }\n\n  static from (pt: Point) {\n    return new Obstacle(pt)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Obstacle',\n      position: this.getPosition().serialize(),\n      since: this.since.get(),\n      till: this.till.get()\n    }\n  }\n\n  static deserializer: Deserializer<Obstacle> = (data: JSONObject) => {\n    if (data.type !== 'Obstacle') throw new Error('bad type')\n    const obs = Obstacle.from(Point.deserializer(data.position))\n    obs.setSince(data.since)\n    obs.setTill(data.till)\n    return obs\n  }\n}\n\nexport default Obstacle\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/**\n * _**NOTE**_: this class is not working as expected (angle computation is wrong when running in scontest)\n * Maybe a bug in scontest or just a limitation to have free angle\n */\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport { Line } from '../core/line'\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { arc, DegToRad, MouseButton, RadToDeg, stroke } from '../helper/utils'\nimport Color from '../drawing/color'\nimport RenderState from '../drawing/render-state'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { JSONObject, Deserializer } from '../core/object-mapper'\nimport MultiColor from '../drawing/multi-color'\nimport { Vector } from '../core/vector'\nimport Road, { RoadProps } from './road'\n\nexport interface RoadArcProps extends RoadProps {\n  centerx: number\n  centery: number\n  radius: number\n  startAngle: number\n  endAngle: number\n}\n\nexport class RoadArc extends Road<RoadArcProps> {\n  private static GenID: UniqueID = new UniqueID()\n  private id: number\n\n  private testx: Pointer<number>\n  private testy: Pointer<number>\n  private testx2: Pointer<number>\n  private testy2: Pointer<number>\n\n  private centerx: Pointer<number>\n  private centery: Pointer<number>\n  private radius: Pointer<number>\n  private startAngle: Pointer<number>\n  private endAngle: Pointer<number>\n\n  private grab: GrabPoint\n  private grab2: GrabPoint\n  private grab3: GrabPoint\n\n  private time = 0\n  private m = 0\n\n  constructor (center: Point, radius: number)\n  constructor (line: Line)\n  constructor (data: Point | Line, radius?: number)\n  constructor (data: Point | Line, radius?: number) {\n    super()\n\n    this.id = RoadArc.GenID.get()\n\n    if (data instanceof Point) {\n      this.radius = makePointer(typeof radius === 'undefined' ? 1 : radius)\n      this.grab = this.addGrab(data, MouseButton.Left)\n      this.startAngle = makePointer(90)\n      this.endAngle = makePointer(-90)\n      this.grab2 = this.addGrab(Point.Zero, MouseButton.Left)\n      this.grab3 = this.addGrab(Point.Zero, MouseButton.Left)\n    } else {\n      const v = new Vector(data.start, data.end)\n      this.radius = makePointer(v.mag() / 2)\n      this.grab = this.addGrab(new Point((data.start.x + data.end.x) / 2, (data.start.y + data.end.y) / 2), MouseButton.Left)\n      this.startAngle = makePointer(RadToDeg(v.argument()))\n      this.endAngle = makePointer(RadToDeg(v.argument() + Math.PI))\n      this.grab2 = this.addGrab(data.start, MouseButton.Left)\n      this.grab3 = this.addGrab(data.end, MouseButton.Left)\n    }\n\n    [this.centerx, this.centery] = this.grab.pointers();\n    [this.testx, this.testy] = this.grab2.pointers();\n    [this.testx2, this.testy2] = this.grab3.pointers()\n\n    const wow = () => {\n      this.testx.off('change', wow)\n      this.testy.off('change', wow)\n      const c = new Vector(this.getCenter())\n      const v = new Vector(this.getCenter(), new Point(this.testx.get(), this.testy.get()))\n      const u = c.add(v.normalized().times(this.radius.get()))\n      this.testx.set(u.x)\n      this.testy.set(u.y)\n      this.testx.on('change', wow)\n      this.testy.on('change', wow)\n      const g = v.argument()\n      // if (g < -180) g += 180\n      this.startAngle.set(RadToDeg(g))\n    }\n\n    this.testx.on('change', wow)\n    this.testy.on('change', wow)\n\n    const wow2 = () => {\n      this.testx2.off('change', wow2)\n      this.testy2.off('change', wow2)\n      const c = new Vector(this.getCenter())\n      const v = new Vector(this.getCenter(), new Point(this.testx2.get(), this.testy2.get()))\n      const u = c.add(v.normalized().times(this.radius.get()))\n      this.testx2.set(u.x)\n      this.testy2.set(u.y)\n      this.testx2.on('change', wow2)\n      this.testy2.on('change', wow2)\n      const g = v.argument()\n      // if (g < -180) g += 180\n      this.endAngle.set(RadToDeg(g))\n    }\n\n    this.testx2.on('change', wow2)\n    this.testy2.on('change', wow2)\n\n    this.setProperty('centerx', this.centerx, floatConvertor, DefaultFormBuilder('center.x', this.centerx, floatConvertor, floatDeconvertor))\n    this.setProperty('centery', this.centery, floatConvertor, DefaultFormBuilder('center.y', this.centery, floatConvertor, floatDeconvertor))\n    this.setProperty('radius', this.radius, floatConvertor, DefaultFormBuilder('radius', this.radius, floatConvertor, floatDeconvertor))\n    this.setProperty('startAngle', this.startAngle, floatConvertor, DefaultFormBuilder('startAngle', this.startAngle, floatConvertor, floatDeconvertor))\n    this.setProperty('endAngle', this.endAngle, floatConvertor, DefaultFormBuilder('endAngle', this.endAngle, floatConvertor, floatDeconvertor))\n\n    this.radius.on('change', () => {\n      this.testx.emit('change')\n      this.testy.emit('change')\n      this.testx2.emit('change')\n      this.testy2.emit('change')\n    })\n\n    this.centerx.on('change', () => {\n      this.testx.emit('change')\n      this.testy.emit('change')\n      this.testx2.emit('change')\n      this.testy2.emit('change')\n    })\n\n    this.centery.on('change', () => {\n      this.testx.emit('change')\n      this.testy.emit('change')\n      this.testx2.emit('change')\n      this.testy2.emit('change')\n    })\n\n    this.testx.emit('change')\n    this.testy.emit('change')\n    this.testx2.emit('change')\n    this.testy2.emit('change')\n  }\n\n  getID (): number {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    RoadArc.GenID.remove(this.id)\n  }\n\n  setP1 (p1: Point): void {\n    this.testx.set(p1.x)\n    this.testy.set(p1.y)\n    this.testx.emit('change')\n    this.testy.emit('change')\n  }\n\n  setP2 (p2: Point): void {\n    this.testx2.set(p2.x)\n    this.testy2.set(p2.y)\n    this.testx2.emit('change')\n    this.testy2.emit('change')\n  }\n\n  setCenter (center: Point): void {\n    this.centerx.set(center.x)\n    this.centery.set(center.y)\n  }\n\n  getCenter (): Point {\n    return new Point(this.centerx.get(), this.centery.get())\n  }\n\n  setRadius (radius: number): void {\n    this.radius.set(radius)\n  }\n\n  getRadius (): number {\n    return this.radius.get()\n  }\n\n  setStartAngle (startAngle: number): void {\n    this.startAngle.set(startAngle)\n  }\n\n  setEndAngle (endAngle: number): void {\n    this.endAngle.set(endAngle)\n  }\n\n  getStartAngle (): number {\n    return this.startAngle.get()\n  }\n\n  getEndAngle (): number {\n    return this.endAngle.get()\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n    ctx.lineCap = 'round'\n    ctx.lineWidth = this.width\n\n    /* const isInArc = (a: number, from: number, to: number): boolean => {\n      if (from < to) {\n        // trigo direction\n        console.log('trigo', Number(a).toFixed(1), Number(from).toFixed(1), Number(to).toFixed(1))\n        return (from <= a && a <= to) || (from <= (a + 360) && (a + 360) <= to)\n      } else {\n        // clock direction\n        console.log('clock', Number(a).toFixed(1), Number(from).toFixed(1), Number(to).toFixed(1))\n        return (to <= a && a <= from) || (to <= (a + 360) && (a + 360) <= from)\n      }\n    }\n\n    const lineAngle = (x1: number, y1: number, x2: number, y2: number): number => {\n      return RadToDeg(Math.atan2(y2 - y1, x2 - x1))\n    } */\n\n    // const mouse = state.screenToWorld(state.mouse)\n\n    // const a = lineAngle(this.centerx.get(), this.centery.get(), mouse.x, mouse.y)\n    let from = this.startAngle.get()\n    let to = this.endAngle.get()\n    if (from >= to) {\n      from = this.endAngle.get()\n      to = this.startAngle.get()\n    }\n    // console.log(isInArc(a, this.startAngle.get(), this.endAngle.get()))\n\n    arc(ctx, this.centerx.get(), this.centery.get(), this.radius.get(), DegToRad(from), DegToRad(to))\n    stroke(ctx, this.color)\n\n    // arc(ctx, mouse.x, mouse.y, 2, 0, TAU)\n    // fill(ctx, Color.Black)\n\n    if (this.color instanceof MultiColor) {\n      this.color.update(state.dt)\n    }\n  }\n\n  static from (center: Point, radius: number): RoadArc\n  static from (line: Line): RoadArc\n  static from (data: Point | Line, radius?: number): RoadArc {\n    return new RoadArc(data, radius)\n  }\n\n  serialize (): JSONObject {\n    return {\n      ...super.serialize(),\n      type: 'RoadArc',\n      center: this.getCenter().serialize(),\n      color: this.color.serialize(),\n      width: this.width,\n      speed: this.speed.get(),\n      direction: this.direction.get(),\n      radius: this.radius.get(),\n      startAngle: this.startAngle.get(),\n      endAngle: this.endAngle.get(),\n      p1: new Point(this.testx.get(), this.testy.get()).serialize(),\n      p2: new Point(this.testx2.get(), this.testy2.get()).serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Road> = (data: JSONObject) => {\n    if (data.type !== 'RoadArc') throw new Error('bad type')\n    const road = RoadArc.from(Point.deserializer(data.center), data.radius)\n    road.setColor(Color.deserializer(data.color))\n    road.setDirection(data.direction)\n    road.setSpeed(data.speed)\n    road.setWidth(data.width)\n    road.setRadius(data.radius)\n    road.setP1(Point.deserializer(data.p1))\n    road.setP2(Point.deserializer(data.p2))\n    return road\n  }\n}\n\nexport default RoadArc\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport { Line } from '../core/line'\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { line, MouseButton, stroke } from '../helper/utils'\nimport Color from '../drawing/color'\nimport RenderState from '../drawing/render-state'\nimport { Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { JSONObject, Deserializer } from '../core/object-mapper'\nimport MultiColor from '../drawing/multi-color'\nimport Road, { RoadProps } from './road'\n\nexport interface RoadLineProps extends RoadProps {\n  x1: number\n  y1: number\n  x2: number\n  y2: number\n}\n\nexport class RoadLine extends Road<RoadLineProps> {\n  private static GenID: UniqueID = new UniqueID()\n\n  private id: number\n\n  private x1: Pointer<number>\n  private y1: Pointer<number>\n  private x2: Pointer<number>\n  private y2: Pointer<number>\n\n  private p1: GrabPoint\n  private p2: GrabPoint\n\n  constructor (line: Line) {\n    super()\n    this.id = RoadLine.GenID.get()\n\n    this.p1 = this.addGrab(line.start, MouseButton.Left)\n    this.p2 = this.addGrab(line.end, MouseButton.Left);\n\n    [this.x1, this.y1] = this.p1.pointers();\n    [this.x2, this.y2] = this.p2.pointers()\n\n    this.setProperty('x1', this.x1, floatConvertor, DefaultFormBuilder('x1', this.x1, floatConvertor, floatDeconvertor))\n    this.setProperty('y1', this.y1, floatConvertor, DefaultFormBuilder('y1', this.y1, floatConvertor, floatDeconvertor))\n    this.setProperty('x2', this.x2, floatConvertor, DefaultFormBuilder('x2', this.x2, floatConvertor, floatDeconvertor))\n    this.setProperty('y2', this.y2, floatConvertor, DefaultFormBuilder('y2', this.y2, floatConvertor, floatDeconvertor))\n  }\n\n  getID (): number {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    RoadLine.GenID.remove(this.id)\n  }\n\n  setStart (start: Point): void {\n    this.x1.set(start.x)\n    this.y1.set(start.y)\n  }\n\n  setEnd (end: Point): void {\n    this.x2.set(end.x)\n    this.y2.set(end.y)\n  }\n\n  getStart () {\n    return new Point(this.x1.get(), this.y1.get())\n  }\n\n  getEnd () {\n    return new Point(this.x2.get(), this.y2.get())\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n    ctx.lineCap = 'round'\n    ctx.lineWidth = this.width\n\n    line(ctx, this.x1, this.y1, this.x2, this.y2)\n    stroke(ctx, this.color)\n\n    if (this.color instanceof MultiColor) {\n      this.color.update(state.dt)\n    }\n  }\n\n  static from (line: Line): RoadLine {\n    return new RoadLine(line)\n  }\n\n  serialize (): JSONObject {\n    return {\n      ...super.serialize(),\n      type: 'RoadLine',\n      line: new Line(this.getStart(), this.getEnd()).serialize()\n    }\n  }\n\n  static deserializer: Deserializer<Road> = (data: JSONObject) => {\n    if (data.type !== 'RoadLine') throw new Error('bad type')\n    const road = RoadLine.from(Line.deserializer(data.line))\n    road.setColor(Color.deserializer(data.color))\n    road.setDirection(data.direction)\n    road.setSpeed(data.speed)\n    road.setWidth(data.width)\n    return road\n  }\n}\n\nexport default RoadLine\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport Color from '../drawing/color'\nimport { Item } from '../drawing/item'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor, SelectFormBuilder } from '../core/property'\nimport { JSONObject } from '../core/object-mapper'\nimport { RoadDirection } from '../map/road'\n\nexport interface RoadProps {\n  direction: RoadDirection\n  speed: number\n}\n\nexport abstract class Road<T extends RoadProps = RoadProps> extends Item<T> {\n  protected color: Color\n  protected width: number\n\n  protected speed: Pointer<number>\n  protected direction: Pointer<RoadDirection>\n\n  constructor () {\n    super()\n    this.direction = makePointer(1)\n    this.speed = makePointer(20) // TODO: default value\n\n    this.width = 2 // TODO: default value\n    this.color = Color.Default\n\n    const convertor = (value: string): RoadDirection => value === '1' ? 1 : 2\n    const deconvertor = (value: RoadDirection) => value + ''\n\n    this.setProperty('direction', this.direction, convertor, SelectFormBuilder('direction', {\n      1: '1',\n      2: '2'\n    }, this.direction, convertor, deconvertor))\n\n    this.setProperty('speed', this.speed, floatConvertor, DefaultFormBuilder('speed', this.speed, floatConvertor, floatDeconvertor))\n  }\n\n  abstract getID(): number\n\n  setColor (color: Color): void {\n    this.color = color\n  }\n\n  getColor (): Color {\n    return Color.from(this.color)\n  }\n\n  getDirection () {\n    return this.direction.get()\n  }\n\n  getSpeed () {\n    return this.speed.get()\n  }\n\n  setDirection (direction: RoadDirection) {\n    this.direction.set(direction)\n  }\n\n  setSpeed (speed: number) {\n    this.speed.set(speed)\n  }\n\n  setWidth (width: number) {\n    this.width = width\n  }\n\n  getWidth () {\n    return this.width\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Road',\n      color: this.color.serialize(),\n      width: this.width,\n      speed: this.speed.get(),\n      direction: this.direction.get()\n    }\n  }\n}\n\nexport default Road\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\n\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { arc, DegToRad, fill, MouseButton, stroke, TAU } from '../helper/utils'\nimport RenderState from '../drawing/render-state'\nimport { Item } from '../drawing/item'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport Color from '../drawing/color'\n\nexport interface StartingPointProps {\n  x: number\n  y: number\n  angle: number\n  speed: number\n}\n\nexport class StartingPoint extends Item<StartingPointProps> {\n  private static GenID: UniqueID = new UniqueID()\n\n  private x: Pointer<number>\n  private y: Pointer<number>\n  private angle: Pointer<number>\n  private speed: Pointer<number>\n\n  private grab: GrabPoint\n\n  private radius: number\n  private time: number\n\n  constructor (pt: Point) {\n    super()\n\n    this.radius = 2\n    this.time = 0\n\n    this.grab = this.addGrab(pt, MouseButton.Left);\n\n    [this.x, this.y] = this.grab.pointers()\n\n    this.angle = makePointer(0)\n    this.speed = makePointer(20)\n\n    this.setProperty('x', this.x, floatConvertor, DefaultFormBuilder('x', this.x, floatConvertor, floatDeconvertor))\n    this.setProperty('y', this.y, floatConvertor, DefaultFormBuilder('y', this.y, floatConvertor, floatDeconvertor))\n    this.setProperty('angle', this.angle, floatConvertor, DefaultFormBuilder('angle', this.angle, floatConvertor, floatDeconvertor))\n    this.setProperty('speed', this.speed, floatConvertor, DefaultFormBuilder('speed', this.speed, floatConvertor, floatDeconvertor))\n  }\n\n  setPosition (pos: Point) {\n    this.x.set(pos.x)\n    this.y.set(pos.y)\n  }\n\n  getPosition () {\n    return new Point(this.x.get(), this.y.get())\n  }\n\n  setAngle (angle: number) {\n    this.angle.set(angle)\n  }\n\n  getAngle () {\n    return this.angle.get()\n  }\n\n  setSpeed (speed: number) {\n    this.speed.set(speed)\n  }\n\n  getSpeed () {\n    return this.speed.get()\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n    this.time += state.dt\n    if (this.time >= TAU) this.time = 0\n    ctx.lineCap = 'round'\n    ctx.lineWidth = 2\n    arc(ctx, this.x.get(), this.y.get(), this.radius / 4, 0, TAU)\n    fill(ctx, Color.fromRGB(0, 0, 200))\n    ctx.lineWidth = 1 + 2 * Math.abs(Math.sin(this.time))\n    ctx.globalAlpha = (1 - Math.abs(Math.sin(this.time))) * 0.7 + 0.3\n    arc(ctx, this.x.get(), this.y.get(), this.radius + 10 * Math.abs(Math.sin(this.time)), 0, TAU)\n    stroke(ctx, Color.fromRGB(0, 0, 200))\n    ctx.globalAlpha = 1\n    ctx.lineWidth = 1\n    const radAngle = DegToRad(360 - this.angle.get())\n    arc(ctx, this.x.get(), this.y.get(), this.radius + 10 * Math.abs(Math.sin(this.time)), radAngle - 0.2, radAngle + 0.2)\n    stroke(ctx, Color.fromRGB(200, 0, 0))\n  }\n\n  static from (pt: Point) {\n    return new StartingPoint(pt)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'StartingPoint',\n      position: this.getPosition().serialize(),\n      angle: this.angle.get(),\n      speed: this.speed.get()\n    }\n  }\n\n  static deserializer: Deserializer<StartingPoint> = (data: JSONObject) => {\n    if (data.type !== 'StartingPoint') throw new Error('bad type')\n    const startingPoint = StartingPoint.from(Point.deserializer(data.position))\n    startingPoint.setAngle(data.angle)\n    startingPoint.setSpeed(data.speed)\n    return startingPoint\n  }\n}\n\nexport default StartingPoint\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport { Line } from '../core/line'\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { IsInstanceOf, line, MouseButton, stroke } from '../helper/utils'\nimport Color from '../drawing/color'\nimport RenderState from '../drawing/render-state'\nimport { Item } from '../drawing/item'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport Itinerary, { Action } from '../map/itinerary'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor, SelectFormBuilder } from '../core/property'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport MultiColor from '../drawing/multi-color'\nimport { RoadLine } from './road-line'\nimport RoadArc from './road-arc'\nimport Arc from '../core/arc'\n\nexport interface StepProps {\n  index: number\n  x1: number\n  y1: number\n  x2: number\n  y2: number\n  action: Action\n  value: number\n}\n\nexport class Step extends Item<StepProps> {\n  private static GenID: UniqueID = new UniqueID()\n  private color: Color\n  private id: number\n  private width: number\n\n  private x1: Pointer<number>\n  private y1: Pointer<number>\n  private x2: Pointer<number>\n  private y2: Pointer<number>\n\n  private action: Pointer<Action>\n  private value: Pointer<number>\n\n  private index: Pointer<number>\n\n  private p1: GrabPoint\n  private p2: GrabPoint\n\n  private roadIntersection = Point.Zero\n  private roadIndex = -1\n\n  constructor (line: Line) {\n    super()\n    this.width = 2 // TODO: default value\n    this.color = Color.Default\n    this.id = Step.GenID.get()\n\n    this.p1 = this.addGrab(line.start, MouseButton.Left)\n    this.p2 = this.addGrab(line.end, MouseButton.Left);\n\n    [this.x1, this.y1] = this.p1.pointers();\n    [this.x2, this.y2] = this.p2.pointers()\n\n    this.value = makePointer(20)\n    this.action = makePointer(Itinerary.Go.from(this.value.get()))\n    this.index = makePointer(this.id)\n\n    this.setProperty('index', this.index, floatConvertor, DefaultFormBuilder('index', this.index, floatConvertor, floatDeconvertor))\n\n    this.setProperty('x1', this.x1, floatConvertor, DefaultFormBuilder('x1', this.x1, floatConvertor, floatDeconvertor))\n    this.setProperty('y1', this.y1, floatConvertor, DefaultFormBuilder('y1', this.y1, floatConvertor, floatDeconvertor))\n    this.setProperty('x2', this.x2, floatConvertor, DefaultFormBuilder('x2', this.x2, floatConvertor, floatDeconvertor))\n    this.setProperty('y2', this.y2, floatConvertor, DefaultFormBuilder('y2', this.y2, floatConvertor, floatDeconvertor))\n\n    const convertor = (value: string): Action => {\n      const action = value === 'GO' ? Itinerary.Go.from(this.value.get()) : value === 'TURN' ? Itinerary.Turn.from(this.value.get()) : Itinerary.Stop.from()\n      if (value !== 'GO' && value !== 'TURN') {\n        this.value.set(0)\n      }\n      return action\n    }\n    const deconvertor = (value: Action) => value instanceof Itinerary.Go ? 'GO' : value instanceof Itinerary.Turn ? 'TURN' : 'STOP'\n    this.setProperty('action', this.action, convertor, SelectFormBuilder('action', {\n      GO: 'GO',\n      TURN: 'TURN',\n      STOP: 'STOP'\n    }, this.action, convertor, deconvertor))\n\n    const floatConvertorCustom = (value: string) => {\n      if (this.action.get() instanceof Itinerary.Stop) {\n        this.value.set(0)\n        return 0\n      }\n      const v = floatConvertor(value)\n      if (this.action.get() instanceof Itinerary.Go) {\n        this.action.set(Itinerary.Go.from(this.value.get()))\n      } else if (this.action.get() instanceof Itinerary.Turn) {\n        this.action.set(Itinerary.Turn.from(this.value.get()))\n      }\n      return v\n    }\n    const floatDeconvertorCustom = (value: number) => value + ''\n    this.setProperty('value', this.value, floatConvertorCustom, DefaultFormBuilder('value', this.value, floatConvertorCustom, floatDeconvertorCustom))\n  }\n\n  getID () {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    Step.GenID.remove(this.id)\n  }\n\n  setAction (action: Action): Step {\n    this.action.set(action)\n    this.value.set(action.getValue())\n    return this\n  }\n\n  getAction () {\n    return this.action.get()\n  }\n\n  setColor (color: Color): Step {\n    this.color = color\n    return this\n  }\n\n  getColor (): Color {\n    return Color.from(this.color)\n  }\n\n  setWidth (width: number): Step {\n    this.width = width\n    return this\n  }\n\n  getWidth () {\n    return this.width\n  }\n\n  getStart () {\n    return new Point(this.x1.get(), this.y1.get())\n  }\n\n  getEnd () {\n    return new Point(this.x2.get(), this.y2.get())\n  }\n\n  getRoadIndex (): number {\n    return this.roadIndex\n  }\n\n  getPosition (): Point {\n    return this.roadIntersection\n  }\n\n  setIndex (index: number): void {\n    this.index.set(index)\n  }\n\n  getIndex (): number {\n    return this.index.get()\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n    ctx.lineCap = 'round'\n    ctx.lineWidth = this.width\n    line(ctx, this.x1, this.y1, this.x2, this.y2)\n    stroke(ctx, this.color)\n    if (this.color instanceof MultiColor) {\n      this.color.update(state.dt)\n    }\n\n    const roadlines = state.scene.renderables().filter(IsInstanceOf(RoadLine)).toArray()\n    const roadarcs = state.scene.renderables().filter(IsInstanceOf(RoadArc)).toArray()\n    const lines = roadlines.map(road => new Line(road.getStart(), road.getEnd()))\n    const arcs = roadarcs.map(road => new Arc(road.getCenter(), road.getRadius(), road.getStartAngle(), road.getEndAngle()))\n    const stepLine = new Line(this.getStart(), this.getEnd())\n\n    let i = 0\n    this.roadIndex = -1\n    for (const line of lines) {\n      const intersection = line.intersect(stepLine)\n      if (intersection != null) {\n        const p = intersection\n        /* ctx.beginPath()\n        ctx.arc(p.x, p.y, 2, 0, TAU)\n        ctx.fillStyle = Color.Black.toString()\n        ctx.fill() */\n        this.roadIntersection = p\n        this.roadIndex = i\n      }\n      i++\n    }\n    for (const arc of arcs) {\n      const intersection = arc.intersect(stepLine)\n      if (intersection != null) {\n        const p = intersection[0]\n        /* ctx.beginPath()\n        ctx.arc(p.x, p.y, 2, 0, TAU)\n        ctx.fillStyle = Color.Black.toString()\n        ctx.fill() */\n        this.roadIntersection = p\n        this.roadIndex = i\n      }\n      i++\n    }\n    if (this.roadIndex < 0) {\n      this.destroy()\n    }\n  }\n\n  static from (line: Line) {\n    return new Step(line)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Step',\n      index: this.index.get(),\n      line: new Line(this.getStart(), this.getEnd()).serialize(),\n      color: this.color.serialize(),\n      width: this.width,\n      action: this.action.get() instanceof Itinerary.Go ? ['GO', this.value.get()] : this.action.get() instanceof Itinerary.Turn ? ['TURN', this.value.get()] : ['STOP']\n    }\n  }\n\n  static deserializer: Deserializer<Step> = (data: JSONObject) => {\n    if (data.type !== 'Step') throw new Error('bad type')\n    const step = Step.from(Line.deserializer(data.line))\n    step.setColor(Color.deserializer(data.color))\n    step.setWidth(data.width)\n    if (data.action[0] === 'GO') {\n      step.setAction(Itinerary.Go.from(data.action[1]))\n    } else if (data.action[0] === 'TURN') {\n      step.setAction(Itinerary.Turn.from(data.action[1]))\n    } else {\n      step.setAction(Itinerary.Stop.from())\n    }\n    step.setIndex(data.index || 0)\n    return step\n  }\n}\n\nexport default Step\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport { Line } from '../core/line'\nimport Point from '../core/point'\nimport UniqueID from '../core/unique-id'\nimport { arc, fill, IsInstanceOf, line, MouseButton, rect, stroke } from '../helper/utils'\nimport Color from '../drawing/color'\nimport RenderState from '../drawing/render-state'\nimport { Item } from '../drawing/item'\nimport { makePointer, Pointer } from '../core/pointer'\nimport { GrabPoint } from '../drawing/grab-point'\nimport { DefaultFormBuilder, floatConvertor, floatDeconvertor } from '../core/property'\nimport { Deserializer, JSONObject } from '../core/object-mapper'\nimport { Vector } from '../core/vector'\nimport RenderStatus from '../drawing/render-status'\nimport MultiColor from '../drawing/multi-color'\nimport Globals from '../system/globals'\nimport { RoadLine } from './road-line'\nimport RoadArc from './road-arc'\nimport Arc from '../core/arc'\n\nexport interface StopProps {\n  x1: number\n  y1: number\n  x2: number\n  y2: number\n  lightx: number\n  lighty: number\n  lightdelayR: number\n  lightdelayA: number\n  lightdelayG: number\n  lightphase: number\n}\n\nexport class Stop extends Item<StopProps> {\n  private static GenID: UniqueID = new UniqueID()\n  private color: Color\n  private id: number\n  private width: number\n\n  private x1: Pointer<number>\n  private y1: Pointer<number>\n  private x2: Pointer<number>\n  private y2: Pointer<number>\n\n  private lightx: Pointer<number>\n  private lighty: Pointer<number>\n  private lightdelayR: Pointer<number>\n  private lightdelayA: Pointer<number>\n  private lightdelayG: Pointer<number>\n  private lightphase: Pointer<number>\n\n  private p1: GrabPoint\n  private p2: GrabPoint\n  private p3: GrabPoint\n\n  private internalTick\n  private time = 0\n\n  private roadIntersection = Point.Zero\n  private roadIndex = -1\n\n  constructor (line: Line) {\n    super()\n    this.width = 2 // TODO: default value\n    this.color = Color.Default\n    this.id = Stop.GenID.get()\n\n    this.p1 = this.addGrab(line.start, MouseButton.Left)\n    this.p2 = this.addGrab(line.end, MouseButton.Left)\n    this.p3 = this.addGrab(new Point((line.start.x + line.end.x) / 2, (line.start.y + line.end.y) / 2), MouseButton.Left);\n\n    [this.x1, this.y1] = this.p1.pointers();\n    [this.x2, this.y2] = this.p2.pointers();\n    [this.lightx, this.lighty] = this.p3.pointers()\n\n    this.lightdelayR = makePointer(4)\n    this.lightdelayA = makePointer(3)\n    this.lightdelayG = makePointer(2)\n    this.lightphase = makePointer(0)\n\n    this.internalTick = this.lightphase.get()\n\n    this.lightphase.on('change', () => {\n      this.internalTick = this.lightphase.get()\n    })\n\n    this.setProperty('x1', this.x1, floatConvertor, DefaultFormBuilder('x1', this.x1, floatConvertor, floatDeconvertor))\n    this.setProperty('y1', this.y1, floatConvertor, DefaultFormBuilder('y1', this.y1, floatConvertor, floatDeconvertor))\n    this.setProperty('x2', this.x2, floatConvertor, DefaultFormBuilder('x2', this.x2, floatConvertor, floatDeconvertor))\n    this.setProperty('y2', this.y2, floatConvertor, DefaultFormBuilder('y2', this.y2, floatConvertor, floatDeconvertor))\n\n    this.setProperty('lightx', this.lightx, floatConvertor, DefaultFormBuilder('light.x', this.lightx, floatConvertor, floatDeconvertor))\n    this.setProperty('lighty', this.lighty, floatConvertor, DefaultFormBuilder('light.y', this.lighty, floatConvertor, floatDeconvertor))\n\n    this.setProperty('lightdelayR', this.lightdelayR, floatConvertor, DefaultFormBuilder('light.delayR', this.lightdelayR, floatConvertor, floatDeconvertor))\n    this.setProperty('lightdelayA', this.lightdelayA, floatConvertor, DefaultFormBuilder('light.delayA', this.lightdelayA, floatConvertor, floatDeconvertor))\n    this.setProperty('lightdelayG', this.lightdelayG, floatConvertor, DefaultFormBuilder('light.delayG', this.lightdelayG, floatConvertor, floatDeconvertor))\n    this.setProperty('lightphase', this.lightphase, floatConvertor, DefaultFormBuilder('light.phase', this.lightphase, floatConvertor, floatDeconvertor))\n  }\n\n  getID () {\n    return this.id\n  }\n\n  destroy (): void {\n    super.destroy()\n    Stop.GenID.remove(this.id)\n  }\n\n  setColor (color: Color): Stop {\n    this.color = color\n    return this\n  }\n\n  getColor (): Color {\n    return Color.from(this.color)\n  }\n\n  setWidth (width: number): Stop {\n    this.width = width\n    return this\n  }\n\n  getWidth () {\n    return this.width\n  }\n\n  getStart () {\n    return new Point(this.x1.get(), this.y1.get())\n  }\n\n  getEnd () {\n    return new Point(this.x2.get(), this.y2.get())\n  }\n\n  setLightPosition (pos: Point): Stop {\n    this.lightx.set(pos.x)\n    this.lighty.set(pos.y)\n    return this\n  }\n\n  getLightPosition (): Point {\n    return new Point(this.lightx.get(), this.lighty.get())\n  }\n\n  setLightDelayR (delayR: number): Stop {\n    this.lightdelayR.set(delayR)\n    return this\n  }\n\n  getLightDelayR (): number {\n    return this.lightdelayR.get()\n  }\n\n  setLightDelayA (delayA: number): Stop {\n    this.lightdelayA.set(delayA)\n    return this\n  }\n\n  getLightDelayA (): number {\n    return this.lightdelayA.get()\n  }\n\n  setLightDelayG (delayG: number): Stop {\n    this.lightdelayG.set(delayG)\n    return this\n  }\n\n  getLightDelayG (): number {\n    return this.lightdelayG.get()\n  }\n\n  setLightPhase (phase: number): Stop {\n    this.lightphase.set(phase)\n    return this\n  }\n\n  getLightPhase (): number {\n    return this.lightphase.get()\n  }\n\n  getRoadIndex (): number {\n    return this.roadIndex\n  }\n\n  getPosition (): Point {\n    return this.roadIntersection\n  }\n\n  render (state: RenderState): void {\n    const ctx = state.ctx\n\n    /* compute traffic light tick (1 tick = 1sec) */\n    this.time += state.dt\n    if (this.time > 1) {\n      this.time = 1 - this.time\n      this.internalTick++\n      if (this.internalTick > this.lightdelayR.get() + this.lightdelayA.get() + this.lightdelayG.get()) this.internalTick = 0\n    }\n\n    /* render the stop line */\n    ctx.lineCap = 'round'\n    ctx.lineWidth = this.width\n    line(ctx, this.x1, this.y1, this.x2, this.y2)\n    stroke(ctx, this.color)\n    if (this.color instanceof MultiColor) {\n      this.color.update(state.dt)\n    }\n\n    /* render the traffic light */\n    if (state.status === RenderStatus.Screen) {\n      ctx.lineCap = 'butt'\n      rect(ctx, this.lightx, this.lighty, 10)\n      if (this.internalTick >= 0 && this.internalTick < this.lightdelayG.get()) {\n        fill(ctx, Color.Green)\n      } else if (this.internalTick >= this.lightdelayG.get() && this.internalTick < this.lightdelayG.get() + this.lightdelayA.get()) {\n        fill(ctx, Color.Amber)\n      } else {\n        fill(ctx, Color.Red)\n      }\n      rect(ctx, this.lightx, this.lighty, 2)\n      fill(ctx, Color.White)\n    }\n\n    const roadlines = state.scene.renderables().filter(IsInstanceOf(RoadLine)).toArray()\n    const roadarcs = state.scene.renderables().filter(IsInstanceOf(RoadArc)).toArray()\n    const lines = roadlines.map(road => new Line(road.getStart(), road.getEnd()))\n    const arcs = roadarcs.map(road => new Arc(road.getCenter(), road.getRadius(), road.getStartAngle(), road.getEndAngle()))\n    const stepLine = new Line(this.getStart(), this.getEnd())\n\n    let i = 0\n    this.roadIndex = -1\n    let type: 'line' | 'arc' = 'line'\n    for (const line of lines) {\n      const intersection = line.intersect(stepLine)\n      if (intersection != null) {\n        const p = intersection\n        /* ctx.beginPath()\n        ctx.arc(p.x, p.y, 2, 0, TAU)\n        ctx.fillStyle = Color.Black.toString()\n        ctx.fill() */\n        this.roadIntersection = p\n        this.roadIndex = i\n        type = 'line'\n      }\n      i++\n    }\n    for (const arc of arcs) {\n      const intersection = arc.intersect(stepLine)\n      if (intersection != null) {\n        const p = intersection[0]\n        /* ctx.beginPath()\n        ctx.arc(p.x, p.y, 2, 0, TAU)\n        ctx.fillStyle = Color.Black.toString()\n        ctx.fill() */\n        this.roadIntersection = p\n        this.roadIndex = i\n        type = 'arc'\n      }\n      i++\n    }\n    if (this.roadIndex < 0) {\n      this.destroy()\n      return\n    }\n\n    let v\n    if (type === 'line') {\n      v = new Vector(lines[this.roadIndex].start, lines[this.roadIndex].end).normalized().orthogonal()\n    } else {\n      v = new Vector(arcs[this.roadIndex - lines.length].center, this.roadIntersection).normalized()\n    }\n    const pos = v.negate().orthogonal()\n\n    /* render the cone of view */\n    if (state.status === RenderStatus.Screen) {\n      ctx.lineWidth = 0.5\n      arc(ctx, this.roadIntersection.x, this.roadIntersection.y, Globals.TLView, pos.argument() - Math.acos(Globals.TLCosDir), pos.argument() + Math.acos(Globals.TLCosDir), true)\n      stroke(ctx, Color.Black)\n    }\n\n    /* if traffic light out of the cone of view then re-move it inside */\n    if (!state.isPointInPath(this.lightx.get(), this.lighty.get())) {\n      this.lightx.set(this.roadIntersection.x + pos.x * 14 + v.x * 8)\n      this.lighty.set(this.roadIntersection.y + pos.y * 14 + v.y * 8)\n    }\n  }\n\n  static from (line: Line) {\n    return new Stop(line)\n  }\n\n  serialize (): JSONObject {\n    return {\n      type: 'Stop',\n      line: new Line(this.getStart(), this.getEnd()).serialize(),\n      color: this.color.serialize(),\n      width: this.width,\n      lightPos: new Point(this.lightx.get(), this.lighty.get()).serialize(),\n      delayR: this.lightdelayR.get(),\n      delayA: this.lightdelayA.get(),\n      delayG: this.lightdelayG.get(),\n      phase: this.lightphase.get()\n    }\n  }\n\n  static deserializer: Deserializer<Stop> = (data: JSONObject) => {\n    if (data.type !== 'Stop') throw new Error('bad type')\n    const stop = Stop.from(Line.deserializer(data.line))\n    stop.setColor(Color.deserializer(data.color))\n    stop.setWidth(data.width)\n    stop.setLightPosition(Point.deserializer(data.lightPos))\n    stop.setLightDelayR(data.delayR)\n    stop.setLightDelayA(data.delayA)\n    stop.setLightDelayG(data.delayG)\n    stop.setLightPhase(data.phase)\n    return stop\n  }\n}\n\nexport default Stop\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-this-alias */\n\nimport { W2FormOptions, W2RecordOptions } from 'w2ui'\nimport UniqueID from '../core/unique-id'\nimport UIElement from './internal/ui-element'\n\nexport class Form implements UIElement {\n  static genId: UniqueID = new UniqueID()\n  private root: JQuery\n  private record?: W2RecordOptions\n  private form: W2UI.W2Form\n\n  constructor (options: W2FormOptions) {\n    this.root = $(document.createElement('div'))\n    // this.root.addClass('form-full')\n    this.form = this.root.w2form({\n      ...options,\n      name: `form-${Form.genId.get()}`,\n      box: this.root\n    })\n    this.record = options.record\n  }\n\n  refresh () {\n    this.form.refresh()\n  }\n\n  get (field: string) {\n    return this.form.getValue(field)\n  }\n\n  set (field: string, value: unknown) {\n    this.form.setValue(field, value)\n  }\n\n  clear () {\n    this.form.clear()\n  }\n\n  reset () {\n    if (this.record) {\n      this.form.record = this.record\n    } else {\n      this.clear()\n    }\n  }\n\n  element (): JQuery<HTMLElement> {\n    return this.root\n  }\n}\n\nexport default Form\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport $ from 'jquery'\nimport { W2Tabs, W2TabsOptions } from 'w2ui'\nimport Panel from './internal/panel'\nimport { UIElement } from './internal/ui-element'\n\nexport class Layout implements UIElement {\n  static Style = 'padding: 5px;'\n\n  private static id = 0\n\n  private mainlayout: W2UI.W2Layout\n  private root: JQuery\n\n  constructor (root: JQuery) {\n    this.root = root\n\n    this.mainlayout = root.w2layout({\n      box: this.root[0],\n      name: `layout_${Layout.id}`,\n      padding: 0,\n      panels: []\n    })\n\n    Layout.id++\n  }\n\n  state () {\n    return this.mainlayout\n  }\n\n  element () {\n    return this.root\n  }\n\n  getMain (): JQuery {\n    return $(this.mainlayout.el('main'))\n  }\n\n  getTop (): JQuery {\n    return $(this.mainlayout.el('top'))\n  }\n\n  getLeft () {\n    return $(this.mainlayout.el('left'))\n  }\n\n  getRight () {\n    return $(this.mainlayout.el('right'))\n  }\n\n  getBottom () {\n    return $(this.mainlayout.el('bottom'))\n  }\n\n  getPreview () {\n    return $(this.mainlayout.el('preview'))\n  }\n\n  render () {\n    this.mainlayout.render()\n  }\n\n  assignTabs (tabs: W2TabsOptions) {\n    this.mainlayout.assignTabs('main', new W2Tabs(tabs) as W2UI.W2Tabs)\n  }\n\n  setMain (panel: Panel) {\n    panel.type = 'main'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n\n  setTop (panel: Panel) {\n    panel.type = 'top'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n\n  setLeft (panel: Panel) {\n    panel.type = 'left'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n\n  setRight (panel: Panel) {\n    panel.type = 'right'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n\n  setBottom (panel: Panel) {\n    panel.type = 'bottom'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n\n  setPreview (panel: Panel) {\n    panel.type = 'preview'\n    this.mainlayout.set(panel.type, panel)\n    this.mainlayout.show(panel.type, true)\n  }\n}\n\nexport default Layout\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable no-use-before-define */\nimport $ from 'jquery'\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport { Nullable } from '../helper/utils'\nimport { ButtonItem, MenuBar, MenuItem, SeparatorItem } from 'jdmenubar'\nimport UIElement from './internal/ui-element'\n\ninterface Events {\n  trigger: (item: MenuInternalButtonItem) => void\n}\n\ntype MenuInternalItemOptions = Omit<ButtonItem, 'subMenuItems'> | SeparatorItem\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface MenuInternalItem {\n}\n\ntype MenuInternalItemReturnType<T> = T extends SeparatorItem ? MenuInternalSeparatorItem : MenuInternalButtonItem\n\nfunction IsMenuSeparator (object: MenuInternalItemOptions): object is SeparatorItem {\n  return 'separator' in object\n}\n\nclass MenuInternalSeparatorItem implements MenuInternalItem {\n  private options: SeparatorItem\n  private data: Array<MenuItem>\n  constructor (options: SeparatorItem, data: Array<MenuItem>) {\n    this.options = options\n    this.data = data\n    this.data.push(options)\n  }\n}\n\nclass MenuInternalButtonItem extends StrictEventEmitter<Events> implements MenuInternalItem {\n  private options: Omit<ButtonItem, 'subMenuItems'>\n  private data?: Array<MenuItem>\n  constructor (options: Omit<ButtonItem, 'subMenuItems'>, data: Array<MenuItem>) {\n    super()\n    this.options = options\n    const opts = options as ButtonItem\n    opts.handler = this.handlertrigger(this)\n    data.push(opts)\n  }\n\n  private handlertrigger (that: MenuInternalButtonItem) {\n    return () => {\n      that.emit('trigger', this)\n    }\n  }\n\n  add <T extends MenuInternalItemOptions> (options: T): MenuInternalItemReturnType<T> {\n    if (typeof this.data === 'undefined') {\n      const opts = this.options as ButtonItem\n      opts.subMenuItems = []\n      this.data = opts.subMenuItems\n    }\n    return MenuInternalItemFactory.from(options, this.data) as MenuInternalItemReturnType<T>\n  }\n}\n\nclass MenuInternalItemFactory {\n  static from (options: MenuInternalItemOptions, data: Array<MenuItem>) {\n    if (IsMenuSeparator(options)) {\n      return new MenuInternalSeparatorItem(options, data)\n    } else {\n      return new MenuInternalButtonItem(options, data)\n    }\n  }\n}\n\nexport class Menu implements UIElement {\n  private internal: Nullable<MenuBar>\n  private data: Array<MenuItem>\n  private root: JQuery\n\n  constructor () {\n    this.root = $(document.createElement('div'))\n    this.data = []\n    // eslint-disable-next-line no-unused-vars\n    this.internal = new MenuBar(this.root[0], this.data)\n    // this.internal.\n  }\n\n  add <T extends MenuInternalItemOptions> (options: T): MenuInternalItemReturnType<T> {\n    return MenuInternalItemFactory.from(options, this.data) as MenuInternalItemReturnType<T>\n  }\n\n  build () {\n    this.internal?.update()\n  }\n\n  element (): JQuery<HTMLElement> {\n    return this.root\n  }\n}\n\nexport default Menu\n\n/* [\n      {\n        text: 'File',\n        subMenuItems: [\n          {\n            text: 'New',\n            shortcut: 'Ctrl+N',\n            icon: '✏'\n          },\n          { text: 'Open' },\n          {\n            id: 'open_recent',\n            text: 'Open Recent',\n            subMenuItems: [\n              { text: 'File1.txt' },\n              { text: 'File2.txt' },\n              { separator: true },\n              {\n                text: 'Or even older',\n                subMenuItems: [\n                  { text: 'File3.txt' },\n                  { text: 'File4.txt' }\n                ]\n              }\n            ]\n          },\n          { separator: true },\n          { text: 'Save', shortcut: 'Ctrl+S', icon: '&#128190;', enabled: false },\n          { text: 'Save As...', shortcut: 'Ctrl+Shift+S' }\n        ]\n      },\n      {\n        id: 'edit',\n        text: 'Edit',\n        subMenuItems: [\n          { text: 'Cut', icon: '✂️' },\n          { text: 'Copy', icon: '📄' },\n          { text: 'Paste', icon: '📋' }\n        ]\n      },\n      {\n        text: 'Help',\n        subMenuItems: [\n          {\n            text: 'More',\n            icon: '☃',\n            subMenuItems: [\n              { text: 'This' },\n              { text: 'And that' }\n            ]\n          },\n          { text: 'About' }\n        ]\n      }\n    ] */\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { W2Popup, W2PopupOptions } from 'w2ui'\n\nexport class Popup {\n  static open (options: W2PopupOptions) {\n    if (W2Popup.status === 'opening' || W2Popup.status === 'open') throw new Error('a popup is already opened')\n    W2Popup.open(options)\n  }\n\n  static close () {\n    if (W2Popup.status === 'closing' || W2Popup.status === 'closed') throw new Error('no popup to close')\n    W2Popup.close()\n  }\n\n  // eslint-disable-next-line no-useless-constructor, @typescript-eslint/no-empty-function\n  private constructor () {}\n}\n\nexport default Popup\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport $ from 'jquery'\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport UIElement from './internal/ui-element'\n\ninterface Events {\n  select: (tool: Tool) => void\n  unselect: (tool: Tool) => void\n}\n\ninterface ToolOptions {\n  icon: string\n}\n\nexport class Tool extends StrictEventEmitter<Events> implements UIElement {\n  readonly icon: string\n  private root: JQuery\n  private selected = false\n  constructor (options: ToolOptions) {\n    super()\n    this.icon = options.icon\n    this.root = $(document.createElement('div'))\n    this.root.html(`<div class=\"tool-icon\"><i class=\"${this.icon}\"></i></div>`)\n    this.root.addClass('tool')\n    this.root.on('click', () => {\n      this.select()\n    })\n  }\n\n  element (): JQuery<HTMLElement> {\n    return this.root\n  }\n\n  select () {\n    if (this.isSelected()) return\n    this.selected = true\n    this.root.addClass('active')\n    this.emit('select', this)\n  }\n\n  unselect () {\n    if (!this.isSelected()) return\n    this.selected = false\n    this.root.removeClass('active')\n    this.emit('unselect', this)\n  }\n\n  isSelected () {\n    return this.selected\n  }\n}\n\nexport default Tool\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport $ from 'jquery'\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport Tool from './tool'\nimport UIElement from './internal/ui-element'\nimport { Nullable } from '../helper/utils'\n\ninterface Events {\n  select: (tool: Tool) => void\n  unselect: (tool: Tool) => void\n}\n\nexport class Toolbar extends StrictEventEmitter<Events> implements UIElement {\n  private internal: Array<Tool> = []\n  private root: JQuery\n  private _selected: Nullable<Tool> = null\n\n  private toolonselect: (tool: Tool) => void\n  private toolonunselect: (tool: Tool) => void\n\n  constructor () {\n    super()\n    this.root = $(document.createElement('div'))\n    this.root.addClass('toolbar')\n    this.toolonselect = this.toolonselecttrigger(this)\n    this.toolonunselect = this.toolonunselecttrigger(this)\n  }\n\n  private toolonselecttrigger (that: Toolbar) {\n    return (t: Tool) => {\n      // disable all but enable one\n      that._selected = t\n      const tools = this.internal\n      for (const tool of tools) {\n        if (tool.isSelected() && t === tool) continue\n        tool.off('select', that.toolonselect)\n        tool.off('unselect', that.toolonunselect)\n        if (t === tool && !tool.isSelected()) {\n          tool.select() // duplicate?\n        } else if (tool.isSelected()) {\n          tool.unselect() // duplicate?\n        }\n        tool.on('select', that.toolonselect)\n        tool.on('unselect', that.toolonunselect)\n      }\n    }\n  }\n\n  private toolonunselecttrigger (that: Toolbar) {\n    return () => {\n      // disable all\n      that._selected = null\n      const tools = this.internal\n      for (const tool of tools) {\n        if (!tool.isSelected()) continue\n        tool.off('select', that.toolonselect)\n        tool.off('unselect', that.toolonunselect)\n        // tool.removeAllListeners('unselect')\n        tool.unselect() // duplicate?\n        tool.on('select', that.toolonselect)\n        tool.on('unselect', that.toolonunselect)\n      }\n    }\n  }\n\n  element () {\n    return this.root\n  }\n\n  register (tool: Tool): Toolbar {\n    this.internal.push(tool)\n    this.root.append(tool.element()) // duplicate?\n    tool.on('select', this.toolonselect)\n    tool.on('unselect', this.toolonunselect)\n    return this\n  }\n\n  unregister (tool: Tool): Toolbar {\n    const index = this.internal.indexOf(tool)\n    if (index >= 0) this.internal.splice(index, 1)\n    this.root.find(tool.element()).remove() // duplicate?\n    tool.off('select', this.toolonselect)\n    tool.off('unselect', this.toolonunselect)\n    return this\n  }\n\n  selected () {\n    return this._selected\n  }\n}\n\nexport default Toolbar\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport { Item } from '../drawing/item'\nimport UIElement from './internal/ui-element'\n\ninterface Events {\n  delete: () => void\n  click: () => void\n  select: () => void\n  unselect: () => void\n}\n\nexport class ViewItem<T = unknown> extends StrictEventEmitter<Events> implements UIElement {\n  private _isselected = false\n  private container: HTMLDivElement\n  private indexElement: HTMLSpanElement\n  private nameElement: HTMLSpanElement\n  private deleteElement: HTMLSpanElement\n  private name: string\n  private item: Item<T>\n  private index = 0\n  private ondelete: (evt: MouseEvent) => void\n  private onclick: (evt: MouseEvent) => void\n  private ondestroy: () => void\n  private onselect: () => void\n  private onunselect: () => void\n\n  constructor (name: string, item: Item<T>) {\n    super()\n    this.ondelete = this.deletetrigger(this)\n    this.onclick = this.clicktrigger(this)\n    this.ondestroy = this.destroytrigger(this)\n    this.onselect = this.selecttrigger(this)\n    this.onunselect = this.unselecttrigger(this)\n    this.name = name\n    this.item = item\n    this.container = document.createElement('div')\n    this.container.classList.add('view-item')\n    this.container.addEventListener('click', this.onclick, false)\n    this.indexElement = document.createElement('span')\n    this.indexElement.classList.add('view-item-index')\n    this.nameElement = document.createElement('span')\n    this.nameElement.classList.add('view-item-name')\n    this.deleteElement = document.createElement('span')\n    this.deleteElement.classList.add('view-item-delete')\n    this.deleteElement.innerHTML = '🗑️'\n    this.deleteElement.addEventListener('click', this.ondelete, false)\n    this.setIndex(this.index)\n    this.setName(this.name)\n    this.container.appendChild(this.indexElement)\n    this.container.appendChild(this.nameElement)\n    this.container.appendChild(this.deleteElement)\n    this.item.on('destroy', this.ondestroy)\n    this.item.on('select', this.onselect)\n    this.item.on('unselect', this.onunselect)\n  }\n\n  selecttrigger (that: ViewItem<T>) {\n    return () => {\n      that.emit('select')\n    }\n  }\n\n  unselecttrigger (that: ViewItem<T>) {\n    return () => {\n      that.emit('unselect')\n    }\n  }\n\n  destroytrigger (that: ViewItem<T>) {\n    return () => {\n      that.item.off('destroy', that.ondestroy)\n      that.item.off('select', that.onselect)\n      that.item.off('unselect', that.onunselect)\n      that.emit('delete')\n    }\n  }\n\n  select () {\n    this._isselected = true\n    this.container.classList.add('selected')\n    this.item.off('select', this.onselect)\n    this.item.select()\n    this.item.on('select', this.onselect)\n  }\n\n  unselect () {\n    this._isselected = false\n    this.container.classList.remove('selected')\n    this.item.off('unselect', this.onunselect)\n    this.item.unselect()\n    this.item.on('unselect', this.onunselect)\n  }\n\n  isSelected () {\n    return this._isselected\n  }\n\n  private clicktrigger (that: ViewItem<T>) {\n    return (evt: MouseEvent) => {\n      evt.stopPropagation()\n      that.emit('click')\n    }\n  }\n\n  private deletetrigger (that: ViewItem<T>) {\n    return (evt: MouseEvent) => {\n      evt.stopPropagation()\n      this.item.off('destroy', this.ondestroy)\n      that.item.destroy()\n      that.emit('delete')\n    }\n  }\n\n  element () {\n    return $(this.container)\n  }\n\n  setIndex (index: number) {\n    this.index = index\n    this.indexElement.innerHTML = `#${this.index}`\n  }\n\n  setName (name: string) {\n    this.name = name\n    this.nameElement.innerHTML = name\n  }\n\n  getName () {\n    return this.name\n  }\n\n  getProperties () {\n    return this.item.getProperties()\n  }\n\n  getItem () {\n    return this.item\n  }\n}\n\nexport default ViewItem\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport $ from 'jquery'\nimport { Layout } from './layout'\nimport ViewItem from './view-item'\nimport { StrictEventEmitter } from 'strict-event-emitter'\nimport { Nullable } from '../helper/utils'\nimport Property from '../core/property'\nimport UIElement from './internal/ui-element'\n\ninterface Events {\n  delete: (index: number) => void\n  select: (index: number) => void\n  unselect: (index: number) => void\n}\n\nexport class View extends StrictEventEmitter<Events> implements UIElement {\n  private _layout: Layout\n  private root: HTMLDivElement\n  private container: HTMLDivElement\n  private properties: HTMLDivElement\n  private items: Array<ViewItem>\n  private selected: Nullable<ViewItem> = null\n  private onclick: (evt: MouseEvent) => void\n\n  constructor () {\n    super()\n    this.onclick = this.clicktrigger(this)\n    this.root = document.createElement('div')\n    this.container = document.createElement('div')\n    this.properties = document.createElement('div')\n    // this.root.addEventListener('click', this.onclick, false)\n    this.items = []\n    this._layout = new Layout($(this.root))\n    this._layout.setTop({\n      size: 200,\n      resizable: true,\n      style: Layout.Style,\n      title: 'Items',\n      content: this.container\n    })\n    this._layout.setMain({\n      size: 200,\n      resizable: true,\n      style: Layout.Style,\n      title: 'Properties',\n      content: this.properties\n    })\n  }\n\n  private clicktrigger (that: View) {\n    return (evt: MouseEvent) => {\n      evt.stopPropagation()\n      if (that.selected != null) {\n        const lastSelected = that.getIndex(that.selected)\n        that.selected.unselect()\n        that.selected = null\n        that.emit('unselect', lastSelected)\n      }\n    }\n  }\n\n  private onpropertiesupdatetrigger (item: ViewItem) {\n    return () => {\n      this.setProperties(item)\n    }\n  }\n\n  getIndex (item: ViewItem) {\n    const index = this.items.indexOf(item)\n    if (index < 0) throw new Error('item not found')\n    return index\n  }\n\n  element () {\n    return $(this.container)\n  }\n\n  layout () {\n    return this._layout.state()\n  }\n\n  add (item: ViewItem) {\n    this.items.push(item)\n    item.setIndex(this.items.length)\n    this.container.appendChild(item.element()[0])\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    item.on('delete', () => {\n      that.remove(item)\n    })\n    item.on('click', () => {\n      that.toggleSelect(item)\n    })\n    item.on('select', () => {\n      that.select(item)\n    })\n    item.on('unselect', () => {\n      that.unselect(item)\n    })\n  }\n\n  private listenInput (input: HTMLInputElement, property: Property<unknown>) {\n    return () => {\n      property.setValue(input.value)\n    }\n  }\n\n  toggleSelectByIndex (index: number) {\n    if (index < 0 || index > this.items.length - 1) throw new Error('index out of bounds')\n    const item = this.items[index]\n    for (let i = 0; i < this.items.length; i++) {\n      if (item === this.items[i]) continue\n      this.items[i].unselect()\n    }\n    if (item.isSelected()) {\n      item.unselect()\n      this.selected = null\n      this.emit('unselect', index)\n      $(this.properties).empty()\n      return\n    }\n    item.select()\n    this.selected = item\n    this.emit('select', index)\n    this.setProperties(item)\n  }\n\n  toggleSelect (item: ViewItem) {\n    const index = this.items.indexOf(item)\n    if (index < 0) throw new Error('item not found')\n    this.toggleSelectByIndex(index)\n  }\n\n  selectByIndex (index: number) {\n    if (index < 0 || index > this.items.length - 1) throw new Error('index out of bounds')\n    const item = this.items[index]\n    for (let i = 0; i < this.items.length; i++) {\n      if (item === this.items[i]) continue\n      this.items[i].unselect()\n    }\n    if (item.isSelected()) {\n      return\n    }\n    item.select()\n    this.selected = item\n    this.emit('select', index)\n    this.setProperties(item)\n  }\n\n  select (item: ViewItem) {\n    const index = this.items.indexOf(item)\n    if (index < 0) throw new Error('item not found')\n    this.selectByIndex(index)\n  }\n\n  unselectByIndex (index: number) {\n    if (index < 0 || index > this.items.length - 1) throw new Error('index out of bounds')\n    const item = this.items[index]\n    for (let i = 0; i < this.items.length; i++) {\n      if (item === this.items[i]) continue\n      this.items[i].unselect()\n    }\n    if (item.isSelected()) {\n      item.unselect()\n      this.selected = null\n      this.emit('unselect', index)\n      $(this.properties).empty()\n    }\n  }\n\n  unselect (item: ViewItem) {\n    const index = this.items.indexOf(item)\n    if (index < 0) throw new Error('item not found')\n    this.unselectByIndex(index)\n  }\n\n  getSelectedItem () {\n    return this.selected\n  }\n\n  getSelectedIndex () {\n    return this.selected == null ? null : this.getIndex(this.selected)\n  }\n\n  removeByIndex (index: number): number {\n    if (index < 0 || index > this.items.length - 1) throw new Error('index out of bounds')\n    this.container.removeChild(this.items[index].element()[0])\n    if (this.selected === this.items[index]) {\n      this.selected.unselect()\n      this.selected = null\n      $(this.properties).empty()\n      this.emit('unselect', index)\n    }\n    this.items.splice(index, 1)\n    this.reorder()\n    this.emit('delete', index)\n    return index\n  }\n\n  remove (item: ViewItem): number {\n    const index = this.items.indexOf(item)\n    if (index < 0) throw new Error('item not found')\n    return this.removeByIndex(index)\n  }\n\n  reset () {\n    this.items = []\n    this.selected = null\n    $(this.properties).empty()\n    $(this.container).empty()\n  }\n\n  private reorder () {\n    for (let i = 0; i < this.items.length; i++) {\n      this.items[i].setIndex(i + 1)\n    }\n  }\n\n  private setProperties (item: ViewItem) {\n    const title = document.createElement('div')\n    title.innerHTML = `Properties of <strong>${item.getName()}</strong>`\n    $(this.properties).empty()\n    this.properties.appendChild(title)\n    // todo: properties html build maybe static or something\n    const props = item.getProperties() as { [index:string] : Property<string> }\n\n    const table = $(document.createElement('table'))\n    table.addClass('properties-table')\n\n    const tbody = $(document.createElement('tbody'))\n\n    item.getItem().removeAllListeners('propertiesUpdate').on('propertiesUpdate', this.onpropertiesupdatetrigger(item))\n\n    for (const key in props) {\n      const prop = props[key]\n      const tr = prop.getForm()\n      tbody.append(tr)\n    }\n    table.append(tbody)\n    $(this.properties).append(table)\n  }\n}\n\nexport default View\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport { Line } from '../core/line'\nimport { Canvas } from '../drawing/canvas'\nimport Color from '../drawing/color'\nimport Road from '../engine/road'\nimport Collection from '../core/collection'\nimport Scene from '../drawing/scene'\nimport { View } from '../gui/view'\nimport ViewItem from '../gui/view-item'\nimport Tool from '../gui/tool'\nimport Rectangle from '../core/rectangle'\nimport { Pointer } from '../core/pointer'\nimport RoadLine from '../engine/road-line'\nimport RoadArc from '../engine/road-arc'\n\nexport const EPSILON = typeof Number.EPSILON === 'undefined' ? 2.220446049250313e-16 : Number.EPSILON\n\nexport const TAU = 2 * Math.PI\n\nexport type Nullable<T> = T | null\n\nexport function DegToRad (deg: number) {\n  return deg * Math.PI / 180\n}\n\nexport function RadToDeg (rad: number) {\n  return rad * 180 / Math.PI\n}\n\nexport function rect (ctx: CanvasRenderingContext2D, box: Rectangle): void\nexport function rect (ctx: CanvasRenderingContext2D, pt: Point, size: number): void\nexport function rect (ctx: CanvasRenderingContext2D, pt: Point, size: Point): void\nexport function rect (ctx: CanvasRenderingContext2D, pt: Point, width: number, height: number): void\nexport function rect (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number): void\nexport function rect (ctx: CanvasRenderingContext2D, x: number, y: number, size: number): void\nexport function rect (ctx: CanvasRenderingContext2D, x: number, y: number, size: Point): void\nexport function rect (ctx: CanvasRenderingContext2D, x: Pointer<number>, y: Pointer<number>, width: number, height: number): void\nexport function rect (ctx: CanvasRenderingContext2D, x: Pointer<number>, y: Pointer<number>, size: number): void\nexport function rect (ctx: CanvasRenderingContext2D, x: Pointer<number>, y: Pointer<number>, size: Point): void\nexport function rect (ctx: CanvasRenderingContext2D, x: Rectangle | Point | number | Pointer<number>, y?: number | Point | Pointer<number>, w?: number | Point, h?: number): void {\n  ctx.beginPath()\n  if (x instanceof Rectangle) {\n    ctx.rect(x.origin.x - x.size.x / 2, x.origin.y - x.size.y / 2, x.size.x, x.size.y)\n  } else if (x instanceof Point && typeof y === 'number') {\n    ctx.rect(x.x - y / 2, x.y - y / 2, y, y)\n  } else if (x instanceof Point && y instanceof Point) {\n    ctx.rect(x.x - y.x / 2, x.y - y.y / 2, y.x, y.y)\n  } else if (x instanceof Point && typeof y === 'number' && typeof w === 'number') {\n    ctx.rect(x.x - y / 2, x.y - w / 2, y, w)\n  } else if (typeof x === 'number' && typeof y === 'number' && typeof w === 'number' && typeof h === 'number') {\n    ctx.rect(x - w / 2, y - h / 2, w, h)\n  } else if (typeof x === 'number' && typeof y === 'number' && typeof w === 'number' && typeof h === 'undefined') {\n    ctx.rect(x - w / 2, y - w / 2, w, w)\n  } else if (typeof x === 'number' && typeof y === 'number' && w instanceof Point && typeof h === 'undefined') {\n    ctx.rect(x - w.x / 2, y - w.y / 2, w.x, w.y)\n  } else if (x instanceof Pointer && y instanceof Pointer && typeof w === 'number' && typeof h === 'number') {\n    ctx.rect(x.get() - w / 2, y.get() - h / 2, w, h)\n  } else if (x instanceof Pointer && y instanceof Pointer && typeof w === 'number' && typeof h === 'undefined') {\n    ctx.rect(x.get() - w / 2, y.get() - w / 2, w, w)\n  } else if (x instanceof Pointer && y instanceof Pointer && w instanceof Point && typeof h === 'undefined') {\n    ctx.rect(x.get() - w.x / 2, y.get() - w.y / 2, w.x, w.y)\n  }\n}\n\nexport function line (ctx: CanvasRenderingContext2D, line: Line): void\nexport function line (ctx: CanvasRenderingContext2D, a: Point, b: Point): void\nexport function line (ctx: CanvasRenderingContext2D, x: number, y: number, b: Point): void\nexport function line (ctx: CanvasRenderingContext2D, a: Point, x: number, y: number): void\nexport function line (ctx: CanvasRenderingContext2D, x1: number, y1: number, x2: number, y2: number): void\nexport function line (ctx: CanvasRenderingContext2D, x: Pointer<number>, y: Pointer<number>, b: Point): void\nexport function line (ctx: CanvasRenderingContext2D, a: Point, x: Pointer<number>, y: Pointer<number>): void\nexport function line (ctx: CanvasRenderingContext2D, x1: Pointer<number>, y1: Pointer<number>, x2: Pointer<number>, y2: Pointer<number>): void\nexport function line (ctx: CanvasRenderingContext2D, a: Line | Point | number | Pointer<number>, b?: Point | number | Pointer<number>, c?: Point | number | Pointer<number>, d?: number | Pointer<number>): void {\n  ctx.beginPath()\n  if (typeof a === 'number' && typeof b === 'number' && typeof c === 'number' && typeof d === 'number') {\n    ctx.moveTo(a, b)\n    ctx.lineTo(c, d)\n  } else if (a instanceof Pointer && b instanceof Pointer && c instanceof Pointer && d instanceof Pointer) {\n    ctx.moveTo(a.get(), b.get())\n    ctx.lineTo(c.get(), d.get())\n  } else if (a instanceof Line) {\n    ctx.moveTo(a.start.x, a.start.y)\n    ctx.lineTo(a.start.x, a.start.y)\n  } else if (a instanceof Point && b instanceof Point) {\n    ctx.moveTo(a.x, a.y)\n    ctx.lineTo(b.x, b.y)\n  } else if (typeof a === 'number' && typeof b === 'number' && c instanceof Point) {\n    ctx.moveTo(a, b)\n    ctx.lineTo(c.x, c.y)\n  } else if (a instanceof Point && typeof b === 'number' && typeof c === 'number') {\n    ctx.moveTo(a.x, a.y)\n    ctx.lineTo(b, c)\n  } else if (a instanceof Pointer && b instanceof Pointer && c instanceof Point) {\n    ctx.moveTo(a.get(), b.get())\n    ctx.lineTo(c.x, c.y)\n  } else if (a instanceof Point && b instanceof Pointer && c instanceof Pointer) {\n    ctx.moveTo(a.x, a.y)\n    ctx.lineTo(b.get(), c.get())\n  }\n}\n\nexport function arc (ctx: CanvasRenderingContext2D, x: number, y: number, radius: number, startAngle: number, endAngle: number, innerLine?: boolean) {\n  ctx.beginPath()\n  if (innerLine) ctx.moveTo(x, y)\n  ctx.arc(x, y, radius, startAngle, endAngle, false)\n  if (innerLine) ctx.closePath()\n}\n\nexport function fill (ctx: CanvasRenderingContext2D, color: Color) {\n  ctx.fillStyle = color.toString()\n  ctx.fill()\n}\n\nexport function stroke (ctx: CanvasRenderingContext2D, color: Color) {\n  ctx.strokeStyle = color.toString()\n  ctx.stroke()\n}\n\nexport function getOrDefaultValue <T> (value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value\n}\n\nexport interface CanvasRenderingContext2DTracked extends CanvasRenderingContext2D {\n  duplicateTransform(): DOMMatrix\n  screenToWorld(x?: number | Point, y?: number): Point\n  worldToScreen(x?: number | Point, y?: number): Point\n}\n\nexport function notEmpty<TValue> (value: TValue | null | undefined): value is TValue {\n  if (value === null || value === undefined) return false\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const testDummy: TValue = value\n  return true\n}\n\ninterface typeMap { // for mapping from strings to types\n  string: string;\n  number: number;\n  boolean: boolean;\n}\n\ntype PrimitiveOrConstructor = // 'string' | 'number' | 'boolean' | constructor\n  | { new (...args: any[]): any }\n  | keyof typeMap;\n\n// infer the guarded type from a specific case of PrimitiveOrConstructor\ntype GuardedType<T extends PrimitiveOrConstructor> = T extends { new(...args: any[]): infer U; } ? U : T extends keyof typeMap ? typeMap[T] : never;\n\n// finally, guard ALL the types!\nfunction typeGuard<T extends PrimitiveOrConstructor> (o: any, className: T):\n  o is GuardedType<T> {\n  const localPrimitiveOrConstructor: PrimitiveOrConstructor = className\n  if (typeof localPrimitiveOrConstructor === 'string') {\n    return typeof o === localPrimitiveOrConstructor\n  }\n  return o instanceof localPrimitiveOrConstructor\n}\n\nexport function IsInstanceOf<T extends PrimitiveOrConstructor> (className: T) {\n  return (o: any): o is GuardedType<T> => {\n    return typeGuard(o, className)\n  }\n}\n\nexport function equals0 (x: number): boolean {\n  return Math.abs(x) < EPSILON\n}\n\nexport function ResetTransformation () {\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n  const xform = svg.createSVGMatrix()\n  xform.a = 1\n  xform.b = 0\n  xform.c = 0\n  xform.d = 1\n  xform.e = 0\n  xform.f = 0\n  return xform\n}\n\nexport function trackTransforms (\n  ctx: CanvasRenderingContext2D\n): CanvasRenderingContext2DTracked {\n  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n  let xform = svg.createSVGMatrix()\n  ctx.getTransform = function () {\n    return xform\n  }\n\n  const savedTransforms: Array<DOMMatrix> = []\n  const save = ctx.save\n  ctx.save = function () {\n    savedTransforms.push(xform.translate(0, 0))\n    return save.call(ctx)\n  }\n\n  const restore = ctx.restore\n  ctx.restore = function () {\n    const poppedform = savedTransforms.pop()\n    if (typeof poppedform === 'undefined') { throw new Error('Too much ctx.restore().') }\n    xform = poppedform\n    return restore.call(ctx)\n  }\n\n  const scale = ctx.scale\n  ctx.scale = function (sx, sy) {\n    xform = xform.scaleNonUniform(sx, sy)\n    return scale.call(ctx, sx, sy)\n  }\n\n  const rotate = ctx.rotate\n  ctx.rotate = function (radians) {\n    xform = xform.rotate((radians * 180) / Math.PI)\n    return rotate.call(ctx, radians)\n  }\n\n  const translate = ctx.translate\n  ctx.translate = function (dx, dy) {\n    xform = xform.translate(dx, dy)\n    return translate.call(ctx, dx, dy)\n  }\n\n  const transform = ctx.transform\n  ctx.transform = function (a, b, c, d, e, f) {\n    const m2 = svg.createSVGMatrix()\n    m2.a = a\n    m2.b = b\n    m2.c = c\n    m2.d = d\n    m2.e = e\n    m2.f = f\n    xform = xform.multiply(m2)\n    return transform.call(ctx, a, b, c, d, e, f)\n  }\n\n  const setTransform = ctx.setTransform\n  ctx.setTransform = function (\n    // eslint-disable-next-line no-undef\n    a: number | DOMMatrix2DInit | undefined,\n    b?,\n    c?,\n    d?,\n    e?,\n    f?\n  ) {\n    if (typeof a === 'undefined') {\n      return setTransform.call(ctx, a)\n    }\n\n    if (typeof a === 'number') {\n      xform.a = a\n      xform.b = typeof b === 'number' ? b : 0\n      xform.c = typeof c === 'number' ? c : 0\n      xform.d = typeof d === 'number' ? d : 0\n      xform.e = typeof e === 'number' ? e : 0\n      xform.f = typeof f === 'number' ? f : 0\n      return setTransform.call(ctx, xform)\n    }\n\n    xform.a = typeof a.a === 'number' ? a.a : 0\n    xform.b = typeof a.b === 'number' ? a.b : 0\n    xform.c = typeof a.c === 'number' ? a.c : 0\n    xform.d = typeof a.d === 'number' ? a.d : 0\n    xform.e = typeof a.e === 'number' ? a.e : 0\n    xform.f = typeof a.f === 'number' ? a.f : 0\n    return setTransform.call(ctx, xform)\n  }\n\n  const pt = svg.createSVGPoint()\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  ctx.screenToWorld = function (x?: number | Point, y?: number) {\n    if (x instanceof Point) {\n      pt.x = x.x\n      pt.y = x.y\n    } else {\n      pt.x = typeof x === 'number' ? x : 0\n      pt.y = typeof y === 'number' ? y : 0\n    }\n\n    const t = pt.matrixTransform(xform.inverse())\n    return new Point(t.x, t.y)\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  ctx.worldToScreen = function (x?: number | Point, y?: number) {\n    if (x instanceof Point) {\n      pt.x = x.x\n      pt.y = x.y\n    } else {\n      pt.x = typeof x === 'number' ? x : 0\n      pt.y = typeof y === 'number' ? y : 0\n    }\n\n    const t = pt.matrixTransform(xform)\n    return new Point(t.x, t.y)\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  ctx.duplicateTransform = function () {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg')\n    const xform = svg.createSVGMatrix()\n    const t = ctx.getTransform()\n    xform.a = t.a\n    xform.b = t.b\n    xform.c = t.c\n    xform.d = t.d\n    xform.e = t.e\n    xform.f = t.f\n    return xform\n  }\n\n  return ctx as CanvasRenderingContext2DTracked\n}\n\nexport function getMousePos (canvas: HTMLCanvasElement, evt: MouseEvent) {\n  const rect = canvas.getBoundingClientRect() // abs. size of element\n  const scaleX = canvas.width / rect.width // relationship bitmap vs. element for x\n  const scaleY = canvas.height / rect.height // relationship bitmap vs. element for y\n  return new Point(\n    (evt.clientX - rect.left) * scaleX, // scale mouse coordinates after they have\n    (evt.clientY - rect.top) * scaleY // been adjusted to be relative to element\n  )\n}\n\nexport function resize2DCanvasContext (target: HTMLCanvasElement | CanvasRenderingContext2D, width: number, height: number) {\n  const canvas = target instanceof CanvasRenderingContext2D ? target.canvas : target\n  const ctx = target instanceof CanvasRenderingContext2D ? target : target.getContext('2d')\n  if (ctx == null) throw new Error('unable to get 2d context')\n  canvas.width = width\n  canvas.height = height\n  // resizeCanvasDPI(canvas)\n  /* canvas.style.width = width + 'px'\n  canvas.style.height = height + 'px'\n  const dpi = window.devicePixelRatio\n  ctx.scale(dpi, dpi) */\n  return ctx\n}\n\nexport function create2DCanvasContextTracked (width?: number, height?: number): CanvasRenderingContext2DTracked {\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n  if (ctx == null) throw new Error('unable to get 2d context')\n  ctx.imageSmoothingEnabled = false\n  // setCanvasDPI(canvas)\n  return trackTransforms(typeof width === 'number' && typeof height === 'number' ? resize2DCanvasContext(ctx, width, height) : ctx)\n}\n\nexport function isContextTracked (ctx: unknown): ctx is CanvasRenderingContext2DTracked {\n  return ctx instanceof CanvasRenderingContext2D && 'duplicateTransform' in ctx && 'transformedPoint' in ctx\n}\n\nexport function clip (ctx: CanvasRenderingContext2DTracked | CanvasRenderingContext2D, transform: DOMMatrix, box: Rectangle) {\n  ctx.save()\n  ctx.setTransform(transform)\n  ctx.beginPath()\n  ctx.rect(box.origin.x, box.origin.y, box.size.x, box.size.y)\n  ctx.clip()\n  ctx.setTransform(ResetTransformation())\n}\n\nexport function unclip (ctx: CanvasRenderingContext2DTracked | CanvasRenderingContext2D) {\n  ctx.restore()\n}\n\nexport function clearCanvas (ctx: CanvasRenderingContext2DTracked, color?: string) {\n  const canvas = ctx.canvas\n\n  // const p1 = ctx.transformedPoint(0, 0)\n  // const p2 = ctx.transformedPoint(canvas.width, canvas.height)\n  // ctx.clearRect(p1.x, p1.y, p2.x - p1.x, p2.y - p1.y)\n\n  ctx.save()\n  ctx.setTransform(1, 0, 0, 1, 0, 0)\n  if (typeof color === 'undefined') {\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n  } else {\n    ctx.beginPath()\n    ctx.rect(0, 0, canvas.width, canvas.height)\n    ctx.fillStyle = color\n    ctx.fill()\n  }\n  ctx.restore()\n}\n\nexport enum MouseButton {\n  Left = 0,\n  Middle = 1,\n  Right = 2\n}\n\nexport type Comparator<T> = (a: T, b: T) => number\n\nconst numbercomp: Comparator<number> = (a: number, b: number) => a - b\n\nexport const Comparators = {\n  number: numbercomp\n}\n\nexport function insert<T> (items: T[], item: T, comparator?: Comparator<T>) {\n  if (typeof comparator === 'undefined') {\n    comparator = (a: T | string, b: T | string) => {\n      if (typeof a !== 'string') a = String(a)\n      if (typeof b !== 'string') b = String(b)\n      return (a > b ? 1 : (a < b ? -1 : 0))\n    }\n  }\n\n  let low = 0\n  let high = items.length\n\n  while (low < high) {\n    const mid = (low + high) >> 1\n    comparator(items[mid], item) > 0\n      ? (high = mid)\n      : (low = mid + 1)\n  }\n\n  items.splice(low, 0, item)\n}\n\nexport function connectline (roadsCollection: Collection<Road>, scene: Scene, view: View, canvas: Canvas, tool: Tool) {\n  return (data: Line) => {\n    const item = RoadLine.from(data)\n    item.setColor(Color.Red)\n    roadsCollection.add(item)\n    item.on('select', () => {\n      item.setColor(Color.Green)\n      item.enableGrab(canvas)\n      tool.select()\n    })\n    item.on('unselect', () => {\n      item.setColor(Color.Red)\n      item.disableGrab(canvas)\n    })\n    view.add(new ViewItem(`line n°${item.getID()}`, item))\n  }\n}\n\nexport function connectarc (roadsCollection: Collection<Road>, scene: Scene, view: View, canvas: Canvas, tool: Tool) {\n  return (data: Line) => {\n    const item = RoadArc.from(data)\n    item.setColor(Color.Red)\n    roadsCollection.add(item)\n    item.on('select', () => {\n      item.setColor(Color.Green)\n      item.enableGrab(canvas)\n      tool.select()\n    })\n    item.on('unselect', () => {\n      item.setColor(Color.Red)\n      item.disableGrab(canvas)\n    })\n    view.add(new ViewItem(`line n°${item.getID()}`, item))\n  }\n}\n\nexport function isImageLoaded (image: HTMLImageElement) {\n  return image.complete && image.naturalHeight !== 0\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport './icons.css'\n\nconst prefix = 'custom-icons icons-'\n\nexport const Icons = {\n  CarSide: prefix + 'car-side',\n  Flag: prefix + 'flag',\n  Hand: prefix + 'hand',\n  Kamek: prefix + 'kamek',\n  RoadLine: prefix + 'road-line',\n  RoadArc: prefix + 'road-arc',\n  TrafficLight: prefix + 'traffic-light',\n  UpDownLeftRight: prefix + 'up-down-left-right'\n}\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nexport abstract class Base {\n  abstract toString(): string\n}\n\nexport default Base\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Base from './base'\n\nexport class Init extends Base {\n  private position: Point\n  private angle: number\n  static get Zero () { return new Init(Point.Zero, 0) }\n  constructor (position: Point, angle: number) {\n    super()\n    this.position = Point.duplicate(position)\n    this.angle = angle\n  }\n\n  toString (): string {\n    return `init ${this.position.x} ${this.position.y} ${this.angle}\\n`\n  }\n}\n\nexport default Init\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Base from './base'\n\nclass Go extends Base {\n  readonly speed: number\n  private constructor (speed: number) {\n    super()\n    this.speed = speed\n  }\n\n  toString (): string {\n    return `go ${this.speed}\\n`\n  }\n\n  getValue () {\n    return this.speed\n  }\n\n  static from (speed: number) {\n    return new Go(speed)\n  }\n}\n\nclass Turn extends Base {\n  readonly angle: number\n  private constructor (angle: number) {\n    super()\n    this.angle = angle\n  }\n\n  toString (): string {\n    return `turn ${this.angle}\\n`\n  }\n\n  getValue () {\n    return this.angle\n  }\n\n  static from (angle: number) {\n    return new Turn(angle)\n  }\n}\n\nclass Stop extends Base {\n  toString (): string {\n    return 'stop 0.\\n'\n  }\n\n  getValue () {\n    return 0\n  }\n\n  static from () {\n    return new Stop()\n  }\n}\n\nexport type Action = Go | Turn | Stop\n\nexport class Itinerary extends Base {\n  static get Default () { return new Itinerary([Go.from(20), Stop.from()]) }\n\n  private actions: Array<Action>\n\n  constructor (actions: Array<Action>) {\n    super()\n    this.actions = actions\n  }\n\n  size () {\n    return this.actions.length\n  }\n\n  toString (): string {\n    let r = ''\n    for (const action of this.actions) {\n      r += action.toString()\n    }\n    return r\n  }\n\n  static Go = Go\n\n  static Turn = Turn\n\n  static Stop = Stop\n}\n\nexport default Itinerary\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Base from './base'\n\nexport class Obstacle extends Base {\n  private position: Point\n  private timeStart: number\n  private timeEnd: number\n  static get Zero () { return new Obstacle(Point.Zero, 0, 0) }\n  constructor (position: Point, timeStart: number, timeEnd: number) {\n    super()\n    this.position = Point.duplicate(position)\n    this.timeStart = timeStart\n    this.timeEnd = timeEnd\n  }\n\n  toString (): string {\n    return `${this.position.x} ${this.position.y} ${this.timeStart} ${this.timeEnd}\\n`\n  }\n}\n\nexport default Obstacle\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Road, { RoadDirection } from './road'\n\nexport class RoadArc extends Road {\n  private center: Point\n  private radius: number\n  private startAngle: number\n  private endAngle: number\n  constructor (direction: RoadDirection, speed: number, center: Point, radius: number, startAngle: number, endAngle: number) {\n    super(direction, speed)\n    this.center = Point.duplicate(center)\n    this.radius = radius\n    this.startAngle = startAngle\n    this.endAngle = endAngle\n  }\n\n  toString (): string {\n    return `arc ${this.direction} ${this.speed} ${Number(this.center.x).toFixed(2)} ${Number(this.center.y).toFixed(2)} ${Number(this.radius).toFixed(2)} ${Number(this.startAngle).toFixed(2)} ${Number(this.endAngle).toFixed(2)}\\n`\n  }\n}\n\nexport default RoadArc\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Road, { RoadDirection } from './road'\n\nexport class RoadLine extends Road {\n  private start: Point\n  private end: Point\n  constructor (direction: RoadDirection, speed: number, start: Point, end: Point) {\n    super(direction, speed)\n    this.start = Point.duplicate(start)\n    this.end = Point.duplicate(end)\n  }\n\n  toString (): string {\n    return `line ${this.direction} ${this.speed} ${Number(this.start.x).toFixed(2)} ${Number(this.start.y).toFixed(2)} ${Number(this.end.x).toFixed(2)} ${Number(this.end.y).toFixed(2)}\\n`\n  }\n}\n\nexport default RoadLine\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Base from './base'\n\nexport type RoadDirection = 1 | 2\n\nexport abstract class Road extends Base {\n  protected direction: RoadDirection\n  protected speed: number\n  constructor (direction: RoadDirection, speed: number) {\n    super()\n    this.direction = direction\n    this.speed = speed\n  }\n\n  abstract toString (): string\n}\n\nexport default Road\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Base from './base'\n\nexport class Stop extends Base {\n  private position: Point\n  private roadIndex: number\n  private trafficLightIndex: number\n  static get Zero () { return new Stop(Point.Zero, 0, 0) }\n  constructor (position: Point, roadIndex: number, trafficLightIndex: number) {\n    super()\n    this.position = Point.duplicate(position)\n    this.roadIndex = roadIndex\n    this.trafficLightIndex = trafficLightIndex\n  }\n\n  toString (): string {\n    return `${this.roadIndex} ${this.trafficLightIndex} ${this.position.x} ${this.position.y}\\n`\n  }\n}\n\nexport default Stop\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Base from './base'\n\nexport class TrafficLight extends Base {\n  private position: Point\n  private roadIndex: number\n  private delayR: number // red\n  private delayA: number // amber\n  private delayG: number // green\n  private dephase: number\n  static get Zero () { return new TrafficLight(Point.Zero, 0, 0, 0, 0, 0) }\n  constructor (position: Point, roadIndex: number, delayR: number, delayA: number, delayG: number, dephase: number) {\n    super()\n    this.position = Point.duplicate(position)\n    this.roadIndex = roadIndex\n    this.delayR = delayR\n    this.delayA = delayA\n    this.delayG = delayG\n    this.dephase = dephase\n  }\n\n  toString (): string {\n    return `${this.roadIndex} ${this.position.x} ${this.position.y} ${this.delayR} ${this.delayA} ${this.delayG} ${this.dephase}\\n`\n  }\n}\n\nexport default TrafficLight\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport Point from '../core/point'\nimport Base from './base'\n\nexport class WayPoint extends Base {\n  private position: Point\n  private roadIndex: number\n  static get Zero () { return new WayPoint(Point.Zero, 0) }\n  constructor (position: Point, roadIndex: number) {\n    super()\n    this.position = Point.duplicate(position)\n    this.roadIndex = roadIndex\n  }\n\n  toString (): string {\n    return `${this.roadIndex} ${this.position.x} ${this.position.y}\\n`\n  }\n}\n\nexport default WayPoint\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nimport { Deserializers } from '../core/object-mapper'\nimport Layer from '../drawing/layer'\nimport Scene from '../drawing/scene'\nimport Sprite from '../drawing/sprite'\nimport Obstacle from '../engine/obstacle'\nimport RoadFilter from '../engine/filter-road'\nimport StartingPoint from '../engine/starting-point'\nimport Step from '../engine/step'\nimport Stop from '../engine/stop'\nimport RoadLine from '../engine/road-line'\nimport RoadArc from '../engine/road-arc'\nimport Line from '../core/line'\nimport Point from '../core/point'\nimport Arc from '../core/arc'\n\nexport const deserializers: Deserializers = {\n  Line: Line.deserializer,\n  Point: Point.deserializer,\n  Arc: Arc.deserializer,\n  Scene: Scene.deserializer,\n  Layer: Layer.deserializer,\n  RoadLine: RoadLine.deserializer,\n  RoadArc: RoadArc.deserializer,\n  Sprite: Sprite.deserializer,\n  StartingPoint: StartingPoint.deserializer,\n  Obstacle: Obstacle.deserializer,\n  Step: Step.deserializer,\n  Stop: Stop.deserializer,\n  RoadFilter: RoadFilter.deserializer\n}\n\nexport default deserializers\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-empty-function */\n\nimport $ from 'jquery'\nimport JSZip from 'jszip'\nimport { saveAs } from 'file-saver'\nimport fileDialog from 'file-dialog'\n\nimport './editor.css'\nimport '../../lib/w2ui/dist/w2ui.css'\nimport '../../lib/jdmenubar/dist/jdmenubar.css'\n\nimport Line from '../core/line'\nimport Point from '../core/point'\nimport Rectangle from '../core/rectangle'\nimport Collection from '../core/collection'\nimport { ObjectMapper } from '../core/object-mapper'\nimport Canvas from '../drawing/canvas'\nimport Sprite from '../drawing/sprite'\nimport Color from '../drawing/color'\nimport Layer from '../drawing/layer'\nimport RenderState from '../drawing/render-state'\nimport Scene from '../drawing/scene'\nimport LogicalLines from '../engine/logical-lines'\nimport Obstacle from '../engine/obstacle'\nimport Road from '../engine/road'\nimport RoadFilter from '../engine/filter-road'\nimport StartingPoint from '../engine/starting-point'\nimport Step from '../engine/step'\nimport Stop from '../engine/stop'\nimport MapWriter from '../engine/map'\nimport Form from '../gui/form'\nimport Layout from '../gui/layout'\nimport Menu from '../gui/menubar'\nimport Popup from '../gui/popup'\nimport Tool from '../gui/tool'\nimport Toolbar from '../gui/toolbar'\nimport View from '../gui/view'\nimport ViewItem from '../gui/view-item'\nimport { IsInstanceOf, MouseButton } from '../helper/utils'\nimport deserializers from './deserializers'\nimport { Icons } from '../icons/icons'\nimport { RenderableType } from '../drawing/renderable'\nimport MultiColor from '../drawing/multi-color'\nimport RoadLine from '../engine/road-line'\nimport RoadArc from '../engine/road-arc'\n\n// todo: refactor (some part are too repetitive and very very bad)\n\nexport class Editor {\n  private container: JQuery\n  private menu = new Menu()\n  private toolbar = new Toolbar()\n  private layout: Layout\n  private canvas = new Canvas()\n  private view = new View()\n  private logicalLines = new LogicalLines(MouseButton.Left)\n  private roadsCollection = new Collection<Road>()\n  private stepsCollection = new Collection<Step>()\n  private stopsCollection = new Collection<Stop>()\n  private roadFilter = new RoadFilter()\n  private scene = new Scene(Rectangle.from(-300, -150, 600, 300))\n\n  private tools = {\n    roadline: new Tool({ icon: Icons.RoadLine }),\n    roadarc: new Tool({ icon: Icons.RoadArc }),\n    step: new Tool({ icon: Icons.Flag }),\n    pan: new Tool({ icon: Icons.UpDownLeftRight }),\n    grab: new Tool({ icon: Icons.Hand }),\n    starting: new Tool({ icon: Icons.CarSide }),\n    obstacle: new Tool({ icon: Icons.Kamek }),\n    stop: new Tool({ icon: Icons.TrafficLight })\n  }\n\n  private layers = {\n    lines: new Layer({ name: 'line', zIndex: 3 }),\n    steps: new Layer({ name: 'step', zIndex: 4 }),\n    stops: new Layer({ name: 'stop', zIndex: 5 }),\n    images: new Layer({ name: 'image', zIndex: 2 }),\n    board: new Layer({ name: 'board', zIndex: 1, background: '#ffffff' }),\n    starting: new Layer({ name: 'starting', zIndex: 7, type: RenderableType.Draft }),\n    obstacles: new Layer({ name: 'obstacle', zIndex: 6, type: RenderableType.Draft })\n  }\n\n  private newform: Form\n\n  constructor (container: JQuery) {\n    this.container = container\n    this.layout = new Layout(this.container)\n    this.newform = new Form({\n      style: 'border: 0px; background-color: transparent; color: white;',\n      fields: [\n        { field: 'name', type: 'text', required: true, html: { label: 'name' } },\n        { field: 'width', type: 'int', required: true, html: { label: 'width' } },\n        { field: 'height', type: 'int', required: true, html: { label: 'height' } },\n        { field: 'guide', type: 'checkbox', required: true, html: { label: 'guide' } }\n      ],\n      record: {\n        name: 'my dummy map',\n        width: 600,\n        height: 300,\n        guide: true\n      }\n    })\n  }\n\n  init () {\n    this.initLayers()\n    this.initTools()\n    this.initListeningTools()\n    this.initMenu()\n    this.initLayout()\n    this.canvas.setScene(this.scene)\n    this.canvas.register(this.logicalLines)\n  }\n\n  initLayers () {\n    this.scene.layers.clear()\n    this.layers.lines = new Layer({ name: 'line', zIndex: 3 })\n    this.layers.lines.filters.add(this.roadFilter)\n    this.layers.steps = new Layer({ name: 'step', zIndex: 4 })\n    this.layers.images = new Layer({ name: 'image', zIndex: 2 })\n    this.layers.board = new Layer({ name: 'board', zIndex: 1, background: '#ffffff' })\n    this.layers.starting = new Layer({ name: 'starting', zIndex: 7, type: RenderableType.Draft })\n    this.layers.obstacles = new Layer({ name: 'obstacle', zIndex: 6, type: RenderableType.Draft })\n    this.layers.stops = new Layer({ name: 'stop', zIndex: 5 })\n    this.scene.layers.add(this.layers.lines)\n    this.scene.layers.add(this.layers.steps)\n    this.scene.layers.add(this.layers.images)\n    this.scene.layers.add(this.layers.board)\n    this.scene.layers.add(this.layers.starting)\n    this.scene.layers.add(this.layers.obstacles)\n    this.scene.layers.add(this.layers.stops)\n  }\n\n  initTools () {\n    this.toolbar\n      .register(this.tools.roadline)\n      .register(this.tools.roadarc)\n      .register(this.tools.step)\n      /* .register(this.tools.pan) */\n      .register(this.tools.grab)\n      .register(this.tools.starting)\n      .register(this.tools.obstacle)\n      .register(this.tools.stop)\n  }\n\n  private c: (data: Line) => void = () => {}\n  private h: (state: RenderState) => void = () => {}\n  private carc: (data: Line) => void = () => {}\n  private harc: (state: RenderState) => void = () => {}\n  private cstep: (data: Line) => void = () => {}\n  private hstep: (state: RenderState) => void = () => {}\n  private ctrafficlight: (data: Line) => void = () => {}\n  private htrafficlight: (state: RenderState) => void = () => {}\n  private toolroadlineselect: () => void = () => {}\n  private toolroadlineunselect: () => void = () => {}\n  private toolroadarcselect: () => void = () => {}\n  private toolroadarcunselect: () => void = () => {}\n  private toolstepselect: () => void = () => {}\n  private toolstepunselect: () => void = () => {}\n  private toolgrabselect: () => void = () => {}\n  private toolgrabunselect: () => void = () => {}\n  private monster: Obstacle = Obstacle.from(Point.Zero)\n  private cc6: (state: RenderState) => void = () => {}\n  private ccc6: (mouse: Point, mouseButton: MouseButton) => void = () => {}\n  private startingPoint: StartingPoint = StartingPoint.from(Point.Zero)\n  private cc: (state: RenderState) => void = () => {}\n  private ccc: (mouse: Point, mouseButton: MouseButton) => void = () => {}\n  private toolstartingselect: () => void = () => {}\n  private toolstartingunselect: () => void = () => {}\n  private toolobstacleselect: () => void = () => {}\n  private toolobstacleunselect: () => void = () => {}\n  private tooltrafficlightselect: () => void = () => {}\n  private tooltrafficlightunselect: () => void = () => {}\n\n  private setToolListeners () {\n    this.c = (data: Line) => {\n      const item = RoadLine.from(data)\n      item.setColor(Color.Red)\n      this.roadsCollection.add(item)\n      item.on('select', () => {\n        item.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      item.on('unselect', () => {\n        item.setColor(Color.Red)\n      })\n      this.layers.lines.addRenderable(item)\n      this.view.add(new ViewItem(`RoadLine n°${item.getID()}`, item))\n    }\n\n    this.h = this.logicalLines.renderCurrentLine(Color.Red)\n\n    this.carc = (data: Line) => {\n      const item = RoadArc.from(data)\n      item.setColor(Color.Red)\n      this.roadsCollection.add(item)\n      item.on('select', () => {\n        item.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      item.on('unselect', () => {\n        item.setColor(Color.Red)\n      })\n      this.layers.lines.addRenderable(item)\n      this.view.add(new ViewItem(`RoadLine n°${item.getID()}`, item))\n    }\n\n    this.harc = this.logicalLines.renderCurrentArc(Color.Red)\n\n    this.cstep = (data: Line) => {\n      const item = Step.from(data).setColor(Color.Green)\n      this.stepsCollection.add(item)\n      item.on('select', () => {\n        item.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      item.on('unselect', () => {\n        item.setColor(Color.Green)\n      })\n      this.layers.steps.addRenderable(item)\n      this.view.add(new ViewItem(`Step n°${item.getID()}`, item))\n    }\n\n    this.hstep = this.logicalLines.renderCurrentLine(Color.Green)\n\n    this.ctrafficlight = (data: Line) => {\n      const item = Stop.from(data).setColor(Color.Blue)\n      this.stopsCollection.add(item)\n      item.on('select', () => {\n        item.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      item.on('unselect', () => {\n        item.setColor(Color.Blue)\n      })\n      this.layers.stops.addRenderable(item)\n      this.view.add(new ViewItem(`Traffic Light n°${item.getID()}`, item))\n    }\n\n    this.htrafficlight = this.logicalLines.renderCurrentLine(Color.Blue)\n\n    this.toolroadlineselect = () => {\n      this.canvas.on('render', this.h)\n      this.logicalLines.on('newline', this.c)\n    }\n\n    this.toolroadlineunselect = () => {\n      this.canvas.off('render', this.h)\n      this.logicalLines.off('newline', this.c)\n    }\n\n    this.toolroadarcselect = () => {\n      this.canvas.on('render', this.harc)\n      this.logicalLines.on('newline', this.carc)\n    }\n\n    this.toolroadarcunselect = () => {\n      this.canvas.off('render', this.harc)\n      this.logicalLines.off('newline', this.carc)\n    }\n\n    this.toolstepselect = () => {\n      this.canvas.on('render', this.hstep)\n      this.logicalLines.on('newline', this.cstep)\n    }\n\n    this.toolstepunselect = () => {\n      this.canvas.off('render', this.hstep)\n      this.logicalLines.off('newline', this.cstep)\n    }\n\n    this.tooltrafficlightselect = () => {\n      this.canvas.on('render', this.htrafficlight)\n      this.logicalLines.on('newline', this.ctrafficlight)\n    }\n\n    this.tooltrafficlightunselect = () => {\n      this.canvas.off('render', this.htrafficlight)\n      this.logicalLines.off('newline', this.ctrafficlight)\n    }\n\n    this.toolgrabselect = () => {\n      this.scene.enableGrab()\n    }\n\n    this.toolgrabunselect = () => {\n      this.scene.disableGrab()\n    }\n\n    this.monster = Obstacle.from(Point.Zero)\n    this.cc6 = (state: RenderState) => {\n      this.monster.setPosition(state.screenToWorld(state.mouse))\n      this.monster.render(state)\n    }\n\n    this.ccc6 = (mouse: Point, mouseButton: MouseButton) => {\n      if (mouseButton === MouseButton.Left) {\n        this.canvas.off('render', this.cc6)\n        this.canvas.off('dragstart', this.ccc6)\n        this.tools.pan.select()\n        this.monster.setPosition(mouse)\n        this.layers.obstacles.addRenderable(this.monster)\n        this.view.add(new ViewItem(`Obstacle n°${this.monster.getID()}`, this.monster))\n      }\n    }\n\n    this.startingPoint = StartingPoint.from(Point.Zero)\n    this.cc = (state: RenderState) => {\n      this.startingPoint.setPosition(state.screenToWorld(state.mouse))\n      this.startingPoint.render(state)\n    }\n\n    this.ccc = (mouse: Point, mouseButton: MouseButton) => {\n      if (mouseButton === MouseButton.Left) {\n        this.canvas.off('render', this.cc)\n        this.canvas.off('dragstart', this.ccc)\n        this.tools.pan.select()\n        this.startingPoint.setPosition(mouse)\n        this.layers.starting.addRenderable(this.startingPoint)\n        this.view.add(new ViewItem('Starting Point', this.startingPoint))\n      }\n    }\n\n    this.toolstartingselect = () => {\n      if (this.layers.starting.renderables().length > 0) {\n        Popup.open({\n          title: 'Warning',\n          body: 'Only one starting point per map. You can delete the previously added starting point or simply move it using the object grabber tool',\n          speed: 0.1,\n          style: 'display:flex;align-items:center;',\n          actions: {\n            Ok: () => {\n              Popup.close()\n            }\n          }\n        })\n      } else {\n        this.startingPoint = StartingPoint.from(Point.Zero)\n        this.canvas.on('render', this.cc)\n        this.canvas.on('dragstart', this.ccc)\n      }\n    }\n\n    this.toolstartingunselect = () => {\n      this.canvas.off('render', this.cc)\n      this.canvas.off('dragstart', this.ccc)\n    }\n\n    this.toolobstacleselect = () => {\n      this.monster = Obstacle.from(Point.Zero)\n      this.canvas.on('render', this.cc6)\n      this.canvas.on('dragstart', this.ccc6)\n    }\n\n    this.toolobstacleunselect = () => {\n      this.canvas.off('render', this.cc6)\n      this.canvas.off('dragstart', this.ccc6)\n    }\n  }\n\n  stopListeningTools () {\n    this.toolroadlineunselect()\n    this.toolroadarcunselect()\n    this.toolstepunselect()\n    this.toolgrabunselect()\n    this.toolstartingunselect()\n    this.toolobstacleunselect()\n    this.tooltrafficlightunselect()\n\n    this.tools.roadline.off('select', this.toolroadlineselect)\n    this.tools.roadline.off('unselect', this.toolroadlineunselect)\n\n    this.tools.roadarc.off('select', this.toolroadarcselect)\n    this.tools.roadarc.off('unselect', this.toolroadarcunselect)\n\n    this.tools.step.off('select', this.toolstepselect)\n    this.tools.step.off('unselect', this.toolstepunselect)\n\n    this.tools.grab.off('select', this.toolgrabselect)\n    this.tools.grab.off('unselect', this.toolgrabunselect)\n\n    this.tools.starting.off('select', this.toolstartingselect)\n    this.tools.starting.off('unselect', this.toolstartingunselect)\n\n    this.tools.obstacle.off('select', this.toolobstacleselect)\n    this.tools.obstacle.off('unselect', this.toolobstacleunselect)\n\n    this.tools.stop.off('select', this.tooltrafficlightselect)\n    this.tools.stop.off('unselect', this.tooltrafficlightunselect)\n  }\n\n  initListeningTools () {\n    this.stopListeningTools()\n    this.setToolListeners()\n\n    this.tools.roadline.on('select', this.toolroadlineselect)\n    this.tools.roadline.on('unselect', this.toolroadlineunselect)\n\n    this.tools.roadarc.on('select', this.toolroadarcselect)\n    this.tools.roadarc.on('unselect', this.toolroadarcunselect)\n\n    this.tools.step.on('select', this.toolstepselect)\n    this.tools.step.on('unselect', this.toolstepunselect)\n\n    this.tools.grab.on('select', this.toolgrabselect)\n    this.tools.grab.on('unselect', this.toolgrabunselect)\n\n    this.tools.starting.on('select', this.toolstartingselect)\n    this.tools.starting.on('unselect', this.toolstartingunselect)\n\n    this.tools.obstacle.on('select', this.toolobstacleselect)\n    this.tools.obstacle.on('unselect', this.toolobstacleunselect)\n\n    this.tools.stop.on('select', this.tooltrafficlightselect)\n    this.tools.stop.on('unselect', this.tooltrafficlightunselect)\n\n    this.tools.roadline.select()\n  }\n\n  loadScene (scene: Scene) {\n    // this.stopListeningTools()\n    this.scene.destroy()\n    this.canvas.reset()\n    this.view.reset()\n    this.roadsCollection.clear()\n    this.stepsCollection.clear()\n    this.stopsCollection.clear()\n    this.scene = scene\n    const layers = this.scene.layers.toArray()\n    const layersmap: {[key: string]: Layer} = {}\n    for (const layer of layers) {\n      layersmap[layer.name] = layer\n    }\n    this.layers.lines = layersmap.line\n    this.layers.steps = layersmap.step\n    this.layers.board = layersmap.board\n    this.layers.images = layersmap.image\n    this.layers.starting = layersmap.starting\n    this.layers.obstacles = layersmap.obstacle\n    this.layers.stops = layersmap.stop\n    this.canvas.setScene(this.scene)\n    const roadlines = this.scene.renderables().filter(IsInstanceOf(RoadLine)).toArray()\n    const roadarcs = this.scene.renderables().filter(IsInstanceOf(RoadArc)).toArray()\n    const steps = this.scene.renderables().filter(IsInstanceOf(Step)).toArray()\n    const sprites = this.scene.renderables().filter(IsInstanceOf(Sprite)).toArray()\n    const startings = this.scene.renderables().filter(IsInstanceOf(StartingPoint)).toArray()\n    const obstacles = this.scene.renderables().filter(IsInstanceOf(Obstacle)).toArray()\n    const stops = this.scene.renderables().filter(IsInstanceOf(Stop)).toArray()\n    for (const road of roadlines) {\n      this.roadsCollection.add(road)\n      road.on('select', () => {\n        road.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      road.on('unselect', () => {\n        road.setColor(Color.Red)\n      })\n      this.view.add(new ViewItem(`RoadLine n°${road.getID()}`, road))\n    }\n    for (const road of roadarcs) {\n      this.roadsCollection.add(road)\n      road.on('select', () => {\n        road.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      road.on('unselect', () => {\n        road.setColor(Color.Red)\n      })\n      this.view.add(new ViewItem(`RoadArc n°${road.getID()}`, road))\n    }\n    for (const step of steps) {\n      this.stepsCollection.add(step)\n      step.on('select', () => {\n        step.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      step.on('unselect', () => {\n        step.setColor(Color.Green)\n      })\n      this.view.add(new ViewItem(`Step n°${step.getID()}`, step))\n    }\n    for (const stop of stops) {\n      this.stopsCollection.add(stop)\n      stop.on('select', () => {\n        stop.setColor(MultiColor.Default)\n        this.tools.grab.select()\n      })\n      stop.on('unselect', () => {\n        stop.setColor(Color.Blue)\n      })\n      this.view.add(new ViewItem(`Traffic Light n°${stop.getID()}`, stop))\n    }\n    for (const sprite of sprites) {\n      this.view.add(new ViewItem(`Sprite n°${sprite.getID()}`, sprite))\n    }\n    for (const starting of startings) {\n      this.view.add(new ViewItem('Starting Point', starting))\n    }\n    for (const obstacle of obstacles) {\n      this.view.add(new ViewItem(`Obstacle n°${obstacle.getID()}`, obstacle))\n    }\n    // this.initListeningTools()\n  }\n\n  initMenu () {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this\n    const menu = this.menu\n    const file = menu.add({ text: 'File' })\n    file.add({ text: 'New map', shortcut: 'Ctrl+N', icon: '✏' }).on('trigger', () => {\n      that.newform.reset()\n      that.newform.refresh()\n      Popup.open({\n        title: 'New',\n        body: that.newform.element()[0],\n        speed: 0.1,\n        style: 'display:flex;align-items:center;',\n        actions: {\n          New: () => {\n            that.canvas.reset()\n            that.scene.layers.forEach(layer => layer.renderables().clear())\n            that.scene.resize(that.newform.get('width') as unknown as number, that.newform.get('height') as unknown as number)\n            that.scene.setName(that.newform.get('name') as unknown as string)\n            that.view.reset()\n            that.roadsCollection.clear()\n            Popup.close()\n          },\n          Cancel: () => {\n            Popup.close()\n          }\n        }\n      })\n    })\n    file.add({ text: 'Open map...' }).on('trigger', () => {\n      fileDialog({ accept: 'application/json' }).then(files => {\n        if (files.length > 0) {\n          const reader = new FileReader()\n          reader.onload = function (e) {\n            if (e.target == null) throw new Error('unable to load json')\n            that.loadScene(ObjectMapper.parse<Scene>(e.target.result as string, deserializers))\n          }\n          reader.readAsText(files[0])\n        }\n      })\n    })\n    file.add({ text: 'Save map' }).on('trigger', () => {\n      const scenedata = ObjectMapper.stringify(that.scene)\n      saveAs(new Blob([scenedata], {\n        type: 'text/plain'\n      }), `${that.scene.getName()}.json`)\n    })\n    file.add({ separator: true })\n    file.add({ text: 'Export map' }).on('trigger', () => {\n      console.log('start exporting..')\n      const archive = new JSZip()\n      const map = MapWriter.from(that.scene)\n      const guide = that.newform.get('guide') as unknown as boolean\n      let graphicsImage\n      let guideImage\n      if (guide) {\n        graphicsImage = that.scene.toBMP(['board', 'image'])\n        guideImage = that.scene.toBMP(that.scene.layers.filter((layer): layer is Layer => layer.name !== 'image').map(layer => layer.name).toArray())\n      } else {\n        graphicsImage = that.scene.toBMP()\n        guideImage = graphicsImage\n      }\n      archive.file(`${map.getName()}.map`, map.build())\n      archive.file(map.getItiName(), map.buildItinerary())\n      archive.file(map.getGuideName(), guideImage)\n      archive.file(map.getGraphicsName(), graphicsImage)\n      archive.generateAsync({ type: 'blob' })\n        .then(function (blob) {\n          saveAs(blob, `${map.getName()}.zip`)\n        })\n    })\n    file.add({ separator: true })\n    file.add({ text: 'Exit' }).on('trigger', () => {\n      if (confirm('Close Editor?')) {\n        close()\n      }\n    })\n    const map = menu.add({ text: 'Map' })\n    map.add({ text: 'Import image..', shortcut: 'Ctrl+I' }).on('trigger', () => {\n      fileDialog({ accept: 'image/*' })\n        .then(files => {\n          for (let i = 0; i < files.length; i++) {\n            Sprite.from(files[i]).then(sprite => {\n              that.layers.images.addRenderable(sprite)\n              that.view.add(new ViewItem(`Image n°${sprite.getID()}`, sprite))\n              console.log('image added!')\n            }).catch(() => {\n            // todo: show tooltip\n            })\n          }\n        })\n    })\n    map.add({ text: 'Settings..' }).on('trigger', () => {\n      that.newform.reset()\n      that.newform.refresh()\n      that.newform.set('name', that.scene.getName())\n      that.newform.set('width', that.scene.getBox().size.x)\n      that.newform.set('height', that.scene.getBox().size.y)\n      Popup.open({\n        title: 'Map Settings',\n        body: that.newform.element()[0],\n        speed: 0.1,\n        style: 'display:flex;align-items:center;',\n        actions: {\n          Update: () => {\n            that.scene.resize(that.newform.get('width') as unknown as number, that.newform.get('height') as unknown as number)\n            that.scene.setName(that.newform.get('name') as unknown as string)\n            Popup.close()\n          },\n          Cancel: () => {\n            Popup.close()\n          }\n        }\n      })\n    })\n    const help = menu.add({ text: 'Help' })\n    help.add({ text: 'About' }).on('trigger', () => {\n      Popup.open({\n        title: 'About',\n        body: '<div style=\"width:100%\"><center>Created&nbsp;by&nbsp;<span style=\"color: red;\"><strong>Lemmy Briot</strong>&nbsp;(Flammrock)</span>&nbsp;<i>(&copy;&nbsp;2022&nbsp;-&nbsp;License&nbsp;MIT)</i></center></div>',\n        speed: 0.1,\n        width: 400,\n        height: 150,\n        style: 'display:flex;align-items:center;',\n        actions: {\n          Ok: () => {\n            Popup.close()\n          }\n        }\n      })\n    })\n    menu.build()\n  }\n\n  initLayout () {\n    this.layout.setMain({\n      style: Layout.Style,\n      content: this.canvas.element()\n    })\n    /* layout.assignTabs({\n      name: 'tabs',\n      active: 'tab1',\n      tabs: [\n        { id: 'tab1', text: 'Tab 1', closable: true },\n        { id: 'tab2', text: 'Tab 2', closable: true },\n        { id: 'tab3', text: 'Tab 3', closable: true },\n        { id: 'tab4', text: 'Tab 4', closable: true }\n      ]\n    }) */\n    /* let ind = 10\n    new w2tabs({\n        box: '#tabs',\n        name: 'tabs',\n        reorder: true,\n        tabs: [\n            { id: 'tab1', text: 'TOOLTIP', tooltip: 'This tab has a tooltip' },\n            { id: 'tab2', text: 'Tab 2', closable: true },\n            { id: 'tab3', text: 'Tab 3', closable: true },\n            { id: 'tab4', text: 'FIXED' },\n            { id: 'tab6', text: 'Tab 5' },\n            { id: 'tab7', text: 'Tab 6' },\n            { id: 'add', text: '+' },\n        ],\n        onClick(event) {\n            event.done(() => {\n                if (event.target == 'add') {\n                    let id = 'tab' + ind\n                    this.insert('add', { id: id, text: 'Tab ' + ind, closable: true })\n                    this.click(id)\n                    ind++\n                }\n            })\n        },\n        onReorder(event) {\n            if (event.target == 'add') {\n                event.preventDefault()\n                return\n            }\n            if (event.target == 'tab4') {\n                query(\"#log2\").html('<span style=\"color: red\">This tab cannot be dragged</span>')\n                event.preventDefault()\n                return\n            }\n            this.hide('add')\n            let tab = this.get(event.target)\n            query(\"#log2\").html(`Dragging \"${tab.text}\"`)\n            event.done(() => {\n                query(\"#log2\").html(`Moved \"${tab.text}\" from position \"${event.indexFrom}\" to \"${event.indexTo}\".`)\n                this.show('add')\n            })\n            console.log(event)\n        }\n    }) */\n    /* window.popup1 = function() {\n        w2popup.open({\n            title: 'Popup Title',\n            text: 'This is text inside the popup'\n        })\n    }\n\n    window.popup2 = function() {\n        w2popup.open({\n            title: 'Popup Title',\n            text: 'This is text inside the popup',\n            actions: ['Ok', 'Cancel'],\n            width: 500,\n            height: 300,\n            modal: true,\n            showClose: true,\n            showMax: true,\n            onMax(evt) {\n                console.log('max', evt)\n            },\n            onMin(evt) {\n                console.log('min', evt)\n            },\n            onKeydown(evt) {\n                console.log('keydown', evt)\n            }\n        })\n        .then((evt) => {\n            console.log('popup ready')\n        })\n        .close(evt => {\n            console.log('popup clsoed')\n        })\n        .ok((evt) => {\n            console.log('ok', evt)\n            w2popup.close()\n        })\n        .cancel((evt) => {\n            console.log('cancel', evt)\n            w2popup.close()\n        })\n    } */\n    this.layout.setTop({\n      size: 40,\n      resizable: false,\n      overflow: 'visible',\n      content: this.menu.element(),\n      flex: true,\n      style: Layout.Style + 'border-bottom: 1px solid var(--theme-secondary-bg-color);',\n      zIndex: 1000\n    })\n    this.layout.setLeft({\n      size: 40,\n      resizable: false,\n      style: Layout.Style + 'border-right: 1px solid var(--theme-secondary-bg-color);',\n      content: this.toolbar.element(),\n      overflow: 'visible',\n      flex: true,\n      zIndex: 900\n    })\n    this.layout.setRight({\n      size: 300,\n      resizable: true,\n      style: Layout.Style,\n      content: this.view.layout()\n    })\n  }\n\n  static launch () {\n    $(function () {\n      const editor = new Editor($('<main />').appendTo('body'))\n      editor.init()\n    })\n  }\n}\n\nexport default Editor\n","/** *******************************************************************************\\\n* Copyright (c) 2022 - Lemmy Briot (Flammrock)                                    *\n*                                                                                 *\n* Permission is hereby granted, free of charge, to any person obtaining a copy    *\n* of this software and associated documentation files (the \"Software\"), to deal   *\n* in the Software without restriction, including without limitation the rights    *\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell       *\n* copies of the Software, and to permit persons to whom the Software is           *\n* furnished to do so, subject to the following conditions:                        *\n*                                                                                 *\n* The above copyright notice and this permission notice shall be included in all  *\n* copies or substantial portions of the Software.                                 *\n*                                                                                 *\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR      *\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,        *\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE     *\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER          *\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,   *\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE   *\n* SOFTWARE.                                                                       *\n\\*********************************************************************************/\n\nexport const Globals = {\n\n  /* Maximum Objects in a map */\n  MaxRoads: 50, // not currently supported\n  MaxSteps: 50, // not currently supported\n  MaxStops: 50, // not currently supported\n  MaxObstacles: 10, // not currently supported\n  MaxTrafficLights: 6, // not currently supported\n  MaxItinerary: 50, // not currently supported\n\n  /* Bound Size Map */\n  MinX: 0, // not currently supported\n  MinY: 0, // not currently supported\n  MaxX: 600, // not currently supported\n  MaxY: 300, // not currently supported\n\n  /* Traffic lights and stop */\n  TLNumber: 5, // not currently supported\n  TLView: 50, // supported\n  TLCosDir: 0.5, // supported\n  STPAfter: 3.0, // not currently supported\n\n  /* Speeds bound */\n  MinSpeed: 20, // not currently supported\n  MaxSpeed: 40 // not currently supported\n}\n\nexport default Globals\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(6752);\n"],"names":["e","t","Object","defineProperty","value","RGBA","RGB","GREY","VGA","BINARY","n","r","this","__values","Symbol","iterator","call","length","next","done","TypeError","make","a","i","o","p","bits","d","width","u","height","f","palette","l","data","s","c","Math","floor","abs","v","h","b","ArrayBuffer","y","SequentialDataView","appendUint16","appendUint32","Array","isArray","U","w","g","rgba2bgra","error","return","m","_","R","min","G","ceil","O","j","A","M","x","Uint8Array","view","DataView","pos","prototype","setUint16","setUint32","fromCanvas","getContext","getImageData","Uint8ClampedArray","Error","concat","replace","slice","parseInt","padEnd","__createBinding","create","enumerable","get","__exportStar","hasOwnProperty","exports","__esModule","module","MenuBar","constructor","menuBarElement","menuItems","stateOpen","stateFocus","stateOpening","myself","classList","add","onmouseleave","onmouseenter","document","addEventListener","closeAll","body","key","parseMenuItems","menuElement","isTopMenuItem","menuItem","separator","appendChild","createElement","menuItemElement","jdmenu_menu","leftElement","middleElement","rightElement","innerHTML","icon","text","innerText","shortcut","enabled","subMenuElement","jdmenu_parentItem","jdmenu_parentMenu","subMenuItems","onclick","toggleSubMenu","onmouseover","openSubMenu","handler","style","display","closeSubMenu","getBoundingClientRect","left","top","bottom","right","setTimeout","subMenuElements","getElementsByClassName","element","getItemWithId","id","getItemWithIdOf","result","update","firstChild","removeChild","w2ui","w2obj","w2utils","$","tmp","obj","version","settings","isBin","val","test","isInt","isFloat","groupSymbol","decimalSymbol","isNaN","Number","isMoney","se","re","RegExp","currencyPrefix","currencySuffix","isHex","isAlphaNumeric","isEmail","isIpAddress","isDate","format","retDate","month","day","year","dt","dateFormat","getFullYear","getMonth","getDate","Date","String","toLowerCase","len","fullmonths","substr","split","tmp2","setFullYear","isTime","retTime","max","am","pm","toUpperCase","indexOf","ampm","trim","hours","minutes","seconds","isDateTime","intVal","datetimeFormat","formats","values","tmp1","setHours","setMinutes","setSeconds","age","dateStr","d1","sec","getTime","amount","type","interval","date","months","shortmonths","d2","d3","setTime","dd1","dd2","dd3","time","getHours","getMinutes","time2","getSeconds","dsp","lang","formatSize","sizeStr","parseFloat","log","pow","toFixed","formatNumber","fraction","useGrouping","options","minimumFractionDigits","maximumFractionDigits","formatDate","formatTime","timeFormat","hour","h24","formatDateTime","fmt","stripTags","html","extend","encodeTags","decodeTags","escapeId","base64encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","keyStr","string","utftext","charCodeAt","fromCharCode","utf8_encode","charAt","base64decode","c2","c3","utf8_decode","md5","__pj_crypt_md5_cmn","q","__pj_crypt_safe_add","num","cnt","__pj_crypt_md5_ff","__pj_crypt_md5_gg","__pj_crypt_md5_hh","__pj_crypt_md5_ii","lsw","hex_tab","__pj_crypt_rstr2hex","__pj_crypt_binl2rstr","olda","oldb","oldc","oldd","__pj_crypt_binl_md5","__pj_crypt_rstr2binl","__pj_crypt_rstr_md5","__pj_crypt_str2rstr_utf8","transition","div_old","div_new","callBack","parentNode","cssText","show","window","css","cssPrefix","console","lock","box","msg","spinner","unlock","prepend","$lock","find","mess","opacity","fadeIn","speed","fadeOut","remove","message","where","closeTimer","edata","w2tag","on","event","pWidth","pHeight","titleHeight","title","originalWidth","originalHeight","hideOnClick","poptions","head","$tmp","clearTimeout","closeCB","msgCount","buttons","$msg","trigger","phase","target","isCancelled","addClass","param","before","getSize","path","$focus","focus","naturalCompare","codeA","codeB","posA","posB","alphabet","getCode","str","code","phrase","translation","phrases","locale","ajax","url","dataType","success","status","xhr","el","$el","bwidth","mwidth","pwidth","getStrWidth","styles","append","scrollBarSize","navigator","userAgent","checkName","params","component","name","checkUniqueId","items","itemsDecription","objName","parseRoute","route","keys","slash","capture","optional","push","field","returnString","newCSS","ret","isPlainObject","parseColor","color","round","hsv2rgb","arguments","rgb2hsv","tooltip","showOn","hideOn","JSON","stringify","getCursorPosition","sel","caretOffset","doc","ownerDocument","win","defaultView","parentWindow","tagName","selectionStart","getSelection","rangeCount","range","getRangeAt","preCaretRange","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","toString","selection","textRange","createRange","preCaretTextRange","createTextRange","moveToElementText","setEndPoint","setCursorPosition","posEnd","childNodes","setStart","collapse","removeAllRanges","addRange","testLocalStorage","hasLocalStorage","isIOS","isIE","localStorage","setItem","removeItem","jQuery","formatters","currencyPrecision","toUTCString","scope","execute","onComplete","handlers","off","newHandlers","args","fun","doneHandlers","isStopped","preventDefault","stopPropagation","item","exec","stop","funName","object","fn","w2render","render","w2destroy","attr","destroy","w2marker","each","index","clearMarkedText","regex","replaceValue","matched","auto","position","align","maxWidth","className","inputClass","onShow","onHide","hideOnKeyPress","hideOnFocus","hideOnBlur","hideOnChange","potision","tag","origID","tmpID","attachedTo","init","hide","timer","removeClass","removeData","originalCSS","getPos","isMoved","tagStyles","parents","offset","nodeName","instant","posClass","posLeft","offsetWidth","posTop","tagBody","offsetHeight","innerWidth","maxHeight","innerHeight","w2overlay","tmp_hide","defaults","tipLeft","noTip","selectable","contextMenu","pageX","pageY","originalEvent","overlayStyle","openAbove","data_str","forEach","div1","div2","bc","resize","monitor","button","closest","clearInterval","menu","scrollTop","scrollLeft","overflowY","contentHeight","$div","contentWidth","boxLeft","boxWidth","X","Y","offsetTop","tipOffset","w2menu","msgNoItems","onSelect","hideOnRemove","w2menuOptions","scrTop","getMenuHTML","mresize","$menu","cur","animate","select","onRemove","onRender","w2menuClick","parentIndex","keepOpen","$tr","shiftKey","metaKey","ctrlKey","hasClass","expanded","div","w2menuDown","group","checked","sub","ind","parent","search","hidden","topHTML","menuStyle","change","keyCode","cancel","shown","prefix","suffix","match","inArray","ids","subMenu","count","menu_html","img","mitem","caption","imgd","txt","subMenu_dsp","bg","altRows","colspan","hotkey","hint","count_dsp","_items","disabled","divText","w2color","w2colorPalette","initial","pal","transparent","splice","pop","fireChange","getColorHTML","rgb","hsv","setColor","updateSlides","refreshPalette","silent","newColor","cl","$el1","$el2","$el3","offset1","offset2","mouseDown","offsetX","offsetY","mouseMove","mMove","mUp","mouseUp","divX","divY","newX","newY","_colorAdvanced","advanced","click","nav","direction","bor","w2grid","columns","columnGroups","records","summary","searches","sortMap","toolbar","ranges","searchData","sortData","total","recid","last","label","logic","searchIds","indexes","multi","colStart","colEnd","sortCount","loaded","range_start","range_end","sel_ind","sel_col","sel_type","edit_col","isSafari","grid","postData","routeData","httpHeaders","operators","operatorsMap","stateColProps","stateColDefaults","method","col","searchable","getSearch","addSearch","stype","initToolbar","updateToolbar","apply","header","limit","footer","columnHeaders","lineNumbers","orderColumn","expandColumn","selectColumn","emptyRecords","toolbarReload","toolbarColumns","toolbarSearch","toolbarInput","toolbarAdd","toolbarEdit","toolbarDelete","toolbarSave","searchAll","searchHiddenMsg","statusRange","statusBuffered","statusRecordID","statusSelection","statusResponse","statusSort","statusSearch","recordTitles","selectionBorder","skipRecords","saveRestoreState","stateId","hasFocus","autoLoad","fixedBody","recordHeight","lineNumberWidth","keyboard","selectType","multiSearch","multiSelect","multiSort","reorderColumns","reorderRows","showExtraOnSearch","markSearch","columnTooltip","disableCVS","textSearch","nestedFields","vs_start","vs_extra","parser","size","gridMinWidth","sizeCorrected","sizeCalculated","sizeOriginal","sizeType","sortable","clipboardCopy","resizable","hideable","editable","frozen","info","msgDelete","msgDeleteBtn","msgNotJSON","msgAJAXerror","msgRefresh","msgNeedReload","msgEmpty","arrow","oper","onAdd","onEdit","onRequest","onLoad","onDelete","onSave","onUnselect","onClick","onDblClick","onContextMenu","onMenuClick","onColumnClick","onColumnDblClick","onColumnResize","onColumnAutoResize","onSort","onSearch","onSearchOpen","onChange","onRestore","onExpand","onCollapse","onError","onKeydown","onToolbar","onColumnOnOff","onCopy","onPaste","onSelectionExtend","onEditField","onRefresh","onReload","onResize","onDestroy","onStateSave","onStateRestore","onFocus","onBlur","onReorderRow","record","first","added","rec","unshift","refresh","localSort","localSearch","refreshBody","resizeRecords","returnIndex","recs","hasDots","parseField","set","noRefresh","refreshRow","idCache","getFirst","removed","addColumn","getColumn","removeColumn","removeSearch","updateColumn","names","updates","effected","colName","_updates","toggleColumn","from","showColumn","hideColumn","searchClose","toggleSearch","showSearch","hideSearch","getSearchData","noResetRefresh","isEmptyObject","selectionSave","prepareData","reset","column","parent_recid","_path","getRecordPath","preparePaths","sort","compareRecords","pa","pb","diff","compareRecordPaths","cleanupPaths","selectionRestore","subrec","fld","sortFld","field_","aa","bb","compareCells","sortMode","dir","valueOf","defaultToString","duplicateMap","searchRecord","addParent","after","fl","orEqual","sdata","val1b","val1","val2","val3","operator","svalue","lastIndex","lastIndexOf","children","undefined","getRangeData","extra","rec1","rec2","col1","col2","res","removeRange","rg","refreshRanges","td1","td2","td1f","td2f","_lastColumn","index_top","index_bottom","prev","index_ftop","index_fbottom","$range","_left","_top","move","screenX","screenY","originalRange","newRange","mouseStop","mv","prevNewRange","selected","selectNone","multiple","recids","recEl1","recEl2","prop","new_sel","col_sel","areAllSelected","areAllSearchedSelected","unselect","unselected","cols","isColSelected","isRowSelected","selectAll","all","buffered","not","enable","disable","_checkItem","batch","it","last_multi","last_logic","last_field","last_search","hasHiddenSearches","field1","field2","value1","value2","fld1","fld2","clean","new_values","op","searchField","searchValue","searchLogic","xhr_offset","reload","searchOpen","btn","getSearchesHTML","initSearches","sfields","uncheck","searchReset","simple","searchShowFields","forceHide","sField","overName","initAllField","w2field","st","autoFormat","clear","skip","load","request","cmd","add_params","map","_search","searchMap","bind","_sort","abort","save","k","ajaxOptions","headers","contentType","xhr_cmd","xhr_start","requestComplete","fail","errorObj","rawResponseText","responseText","edata2","responseJSON","parseJSON","pull_more","pull_refresh","event_name","xhr_hasMore","scroll","getChanges","recordsBase","changes","merge","mergeChanges","eval","editField","inEditMode","edit","getCellEditable","_edit","tr","inTag","outTag","old_value","addStyle","normMenu","editChange","font","helpers","expand","clipboardData","getData","execCommand","next_rec","next_col","prevCell","nextCell","prevRow","nextRow","blur","old","kbd_timer","$input","$sel","is","new_val","old_val","input_id","value_new","value_previous","value_original","cell","replaceWith","getCellHTML","force","macButtonOrder","onOpen","inputs","evt","cancelClick","altKey","click_time","click_recid","dblClick","bubbleEl","last_recid","selectColumns","sel_recid","start","end","t1","t2","sel_add","sc","flag","fselect","showSelectColumn","isChecked","initResize","columnClick","columnDblClick","keydown","empty","recid2","ii","ind2","recEL","toggle","selectTopRecord","tmpUnselect","newSel","unSel","scrollIntoView","copy_event","copy","x1","x2","sb","userSelect","layerX","offsetLeft","layerY","menuClick","menuEvent","menuIndex","child","box_id","fbox_id","row1","row2","clearExpanded","subRec","stops","removeAttr","multiField","sortIndex","oEvent","minCol","maxCol","getCellCopy","cut","col_ind","paste","setCellPaste","resizeBoxes","cells","row","class","refreshCell","isSummary","tr1","tr2","line","rec_html","getRecordHTML","getFooterHTML","$clear","some","rows","columnDrag","initColumnDrag","recHTML","getRecordsHTML","colHTML","getColumnsHTML","bodyHTML","gridBody","frecords","self","toggleClass","ev","lastTime","lastDelta","scrolldata","recordsContainer","siblings","addBack","filter","wheelDelta","detail","deltaY","newScrollTop","sumHTML","getSummaryHTML","sd","state","stateSave","stateRestore","edataCol","cd","types","which","tmps","contains","focusX","focusY","ghost","sLeft","sTop","$owner","reorder","eColor","oColor","clone","lastY","to","ghost_line","colRange","ind1","ns","moveAfter","initColumnOnOff","col_html","_dragData","catchMouseup","pressed","timeout","dragColStart","numberPreColumnsPresent","selectedCol","origColumn","origColumnNumber","invalidColumns","columnHead","originalPos","dragColEnd","dragColOver","margin","zIndex","offsets","cursorX","cursorY","lastWidth","targetInt","thisOffset","nextOffset","midpoint","intersection","targetIntersection","marker","markerLeft","lastInt","markIntersection","trackGhost","columnConfig","targetColumn","ghosts","targetColumnNumber","columnOnOff","scrollToColumn","sWidth","found","tmp_items","w2toolbar","owner","tooltipHide","cancelBubble","resizing","gx","gy","tds","resizeBy","newWidth","colId","maxDiff","autoResize","thisDiff","scrollWidth","Infinity","td","fsummary","fcolumns","scroll1","bodyOverflowX","bodyOverflowY","calculatedHeight","overflow","leftover","scrollHeight","di","addEmptyRow","html1","html2","htmlp","width_max","width_box","percent","restart","width_cols","width_diff","fwidth","showBtn","getOperators","tmpStyle","fieldOperators","initOperator","search_ind","openOnFocus","si","evnt","getColumns","tmpf","colg","span","jj","master","sortStyle","resizer","gText","getGroups","tmp3","colCellHTML","getColumnCellHTML","reorderCols","columnTooltipShow","columnTooltipHide","removeProp","show_extra","h2","cLeft","cSize","$box","deltaStart","deltaEnd","$cfirst","$clast","$rfirst","$rlast","$sfirst","$slast","$columns","$records","$frecords","$summary","tr1f","tr2f","rec_start","h1","eq","marker_timer","lineNum","tmph","rec_html1","rec_html2","rid","rec_style","rec_class","getLineHTML","hideCheckBox","tmp_img","col_skip","col_span","hcnt","rec_cell","getCellValue","isChanged","infoBubble","level","infoIcon","infoStyle","getTitle","func","changeInd","isCellSelected","clipboardTxt","clipboardIcon","cellData","showBubble","fields","showEmpty","maxLength","msgLeft","showSpinner","returnOnly","prop_val","col_save_obj","idx","savedState","states","newState","col_index","stateReset","prepareRecord","check","sids","_selection","lst","onClose","even","w2layout","panels","padding","layout","w2panels","panel","tabs","initTabs","p1","pan","w2tabs","onResizing","onResizerClick","onContent","minSize","maxSize","flex","content","promise","cancelled","new_content","pname","current","panelTop","oldOnClose","oldOverflow","sizeTo","immediate","hideToolbar","showToolbar","toggleToolbar","assignToolbar","assignTabs","showTabs","hideTabs","toggleTabs","events","resizeStart","resizeMove","resizeStop","diff_x","diff_y","resizeUpdate","nd","ptop","pbottom","resize_x","resize_y","mainPanel","rname","pmain","pprev","pleft","pright","sprev","sleft","sright","sbottom","clientHeight","tabHeight","nm","w2popup","dlgOptions","_prev","template","_template","hasTitlebar","showClose","showMax","modal","maximized","onMax","onMin","onToggle","open","orig_options","maxW","maxH","old_options","onAction","documentElement","engine","actions","action","present","lockScreen","onmousedown","close","restoreTemplate","prevSize","cloned","$body","_last_focus","mvMove","div_x","div_y","mvStop","pos_x","pos_y","isLocked","mvStart","msgId","act","unlockScreen","selector","popup","resizeMessages","moptions","$popup","tmp_int","setInterval","w2alert","ok","w2confirm","yes_text","yes_class","yes_style","yes_callBack","no_text","no_class","no_style","no_callBack","focus_to_no","btn_yes","btn_no","_confirm_btn","yes","no","w2prompt","attrs","textarea","ok_text","ok_class","cancel_text","cancel_class","btnClick","ok_callBack","cancel_callBack","keyup","active","flow","tab","closable","insert","newTab","middle","insertTabHTML","i1","i2","dragMove","reordering","moving","_find","$nextEl","width1","width2","$tab","assign","$prevEl","inc","tooltipShow","forceRefresh","getTabHTML","tabHTML","initReorder","tabIndex","$ghost","indexFrom","parentX","indexTo","scrollBox","$right","outerWidth","itemsWidth","clientWidth","location","hash","animateClose","$before","overlay","newOptions","subItems","subItem","itt","hideDrop","menuType","_tmpColor","colorClick","final","getItemHTML","drop","it1","_tooltipTimer","unchecked","checkNested","w2sidebar","sidebar","nodes","bottomHTML","flatButton","flat","levelPadding","handle","onFlat","node","groupShowHide","collapsible","plus","deleted","rv","results","new_node","slideUp","collapseAll","slideDown","expandAll","expandParents","oldID","oldNode","newNode","selectNode","neighbor","noSubs","nextNode","neighborFunc","prevNode","lastChild","allowOnDisabled","itemId","goFlat","flatHTML","$img","$txt","fullRefresh","nodeHTML","getNodeHTML","counts","onNew","onMouseOver","onMouseOut","onIconClick","onScroll","pr","custom","addType","removeType","step","arrows","precision","numberRE","moneyRE","percentRE","addPrefix","addSuffix","blocked","colored","blockWeekDays","noMinutes","placeholder","btn_now","recId","recText","minLength","cacheMax","maxDropHeight","maxDropWidth","iconStyle","renderDrop","compare","_items_fun","watchSize","addFocus","renderItem","addMulti","maxFileSize","readContent","keyDown","onKeyup","keyUp","onKeypress","keyPress","Event","sizeTimer","setIndex","ren","ul","preview","modified","cntHeight","inpHeight","new_width","new_height","current_width","updateOverlay","$overlay","closeTimeout","one","checkType","inRange","charCode","ch","newValue","setSelectionRange","daymil","newDT","toMin","fromMin","indexOnly","force_open","force_hide","clearCache","xhr_loading","xhr_search","xhr_total","parse","lastError","emptySet","find_selected","isFound","$tg","refreshCalendar","getMonthHTML","selYear","selMonth","getYearHTML","getHourHTML","getMinHTML","selDate","selHour","selMin","msgSearch","eventData","remote","onlyDate","en","getDay","tm","tm1","tm2","loose","helper","notimer","pholder","_tabIndex","searchId","cursor","outline","border","triggerHandler","files","dataTransfer","addFile","file","err","newItem","lastModifiedDate","totalSize","FileReader","reader","onload","readAsDataURL","daysCount","today","days","fulldays","sdays","shortdays","weekStarts","weekDay","dayTitle","dt_sel","ci","ti","DT","tmp_dt","tmp_dt_fmt","dspDay","bgcol","start_year","dateStartYear","end_year","dateEndYear","mhtml","yhtml","fm","w2form","formURL","formHTML","page","original","autosize","multipart","tabindexBase","isGenerated","errors","form","generateHTML","pageStyle","onValidate","onSubmit","onProgress","onInput","msgSaving","f1","f2","getValue","reduce","setValue","arr","affected","updateEmptyGroups","$els","validate","showErrors","required","goto","opt","doDiff","getCleanRecord","strict","_order","applyFocus","submit","fitem","XMLHttpRequest","upload","lengthComputable","edata3","fdata","FormData","apend","fd","dob","fob","isObj","File","aux_fob","aux_p","processData","lockPage","$page","unlockPage","tabindex","tabindex_str","pages","collapsable","groupCollapsable","groupTitleStyle","groupStyle","anchor","anchors","toggleGroup","groupName","that","nv","cv","$fld","tmp_value","mapAdd","mapRefresh","$k","$v","curr","aMap","aIndex","newKey","more","wrapInner","tmp_resize","focusEl","W2Layout","W2Grid","W2Toolbar","W2Sidebar","W2Tabs","W2Form","W2Popup","ReflectOwnKeys","Reflect","ReflectApply","receiver","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","once","emitter","Promise","resolve","reject","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","existing","warning","newListener","emit","warned","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","wrapListener","arg","removeEventListener","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","list","originalListener","shift","spliceOne","removeAllListeners","rawListeners","eventNames","_typeof","setAttribute","accept","createEvent","initMouseEvent","dispatchEvent","responseType","response","onerror","send","MouseEvent","global","saveAs","HTMLAnchorElement","URL","webkitURL","download","rel","href","origin","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","HTMLElement","safari","onloadend","factory","noGlobal","getProto","array","class2type","hasOwn","fnToString","ObjectFunctionString","support","isFunction","nodeType","isWindow","preservedScriptAttributes","src","nonce","noModule","DOMEval","script","getAttribute","toType","isArrayLike","jquery","toArray","pushStack","elems","prevObject","callback","elem","grep","_elem","odd","copyIsArray","deep","expando","random","isReady","noop","proto","Ctor","globalEval","makeArray","second","invert","matches","callbackExpect","guid","_i","Sizzle","Expr","getText","isXML","tokenize","compile","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","pushNative","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","escape","nonHex","high","rcssescape","fcssescape","asCodePoint","unloadHandler","inDisabledFieldset","addCombinator","els","seed","nid","groups","newSelector","newContext","getElementById","getElementsByTagName","qsa","testContext","toSelector","join","querySelectorAll","qsaError","removeAttribute","cache","cacheLength","markFunction","assert","addHandle","attrHandle","siblingCheck","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","hasCompare","subWindow","attachEvent","createComment","getById","getElementsByName","attrId","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","sortDetached","aup","ap","bp","expr","elements","specified","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","what","_argument","forward","ofType","_context","xml","uniqueCache","outerCache","nodeIndex","useCache","uniqueID","pseudo","setFilters","matcher","unmatched","elemLang","activeElement","selectedIndex","_matchIndexes","radio","checkbox","password","image","tokens","combinator","base","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","filters","parseOnly","soFar","preFilters","cached","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","_name","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","rneedsContext","needsContext","rsingleTag","winnow","qualifier","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","contents","sibling","has","targets","prevAll","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","reverse","rnothtmlwhite","Identity","Thrower","ex","adoptValue","noValue","then","Callbacks","createOptions","firing","memory","locked","queue","firingIndex","fire","stopOnFalse","fireWith","Deferred","tuples","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","maxDepth","depth","special","mightThrow","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","stateString","when","singleValue","remaining","resolveContexts","resolveValues","primary","updateFunc","rerrorNames","stack","readyException","readyList","completed","catch","readyWait","wait","readyState","doScroll","access","chainable","emptyGet","raw","bulk","_key","rmsPrefix","rdashAlpha","fcamelCase","_all","letter","camelCase","acceptData","Data","uid","configurable","hasData","dataPriv","dataUser","rbrace","rmultiDash","dataAttr","_data","_removeData","dequeue","startLength","hooks","_queueHooks","setter","clearQueue","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","rcheckableType","rtagName","rscriptType","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","wrapMap","thead","_default","getAll","setGlobalEval","refElements","tbody","tfoot","colgroup","th","optgroup","buildFragment","scripts","ignored","wrap","attached","fragment","htmlPrefilter","createTextNode","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","origFn","leverageNative","notAsync","saved","isTrigger","delegateType","stopImmediatePropagation","handleObjIn","eventHandle","handleObj","namespaces","origType","elemData","triggered","dispatch","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","writable","noBubble","beforeunload","returnValue","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","bubbles","cancelable","changedTouches","eventPhase","clientX","clientY","pointerId","pointerType","targetTouches","toElement","touches","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","insertBefore","replaceChild","appendTo","prependTo","insertAfter","replaceAll","rnumnonpx","rcustomProp","getStyles","opener","getComputedStyle","swap","rboxStyle","rtrimCSS","curCSS","computed","minWidth","isCustomProp","getPropertyValue","pixelBoxStyles","addGetHookIf","conditionFn","hookFn","computeStyleTests","container","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","pixelBoxStylesVal","boxSizingReliableVal","scrollboxSizeVal","measure","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","table","trChild","trStyle","borderTopWidth","borderBottomWidth","cssPrefixes","emptyStyle","vendorProps","finalPropName","cssProps","capName","vendorPropName","rdisplayswap","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","boxModelAdjustment","dimension","isBorderBox","computedVal","delta","getWidthOrHeight","valueIsBorderBox","offsetProp","getClientRects","Tween","easing","cssHooks","origName","setProperty","isFinite","scrollboxSizeBuggy","parts","propHooks","run","eased","duration","fx","linear","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","requestAnimationFrame","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","properties","stopped","prefilters","currentTime","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","gotoEnd","propFilter","complete","anim","tweener","oldfire","propTween","restoreDisplay","isBox","dataShow","unqueued","overflowX","prefilter","speeds","fadeTo","optall","doAnimation","finish","stopQueue","timers","cssFn","slideToggle","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","boolHook","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","stripAndCollapse","getClass","classesToArray","propFix","classNames","curValue","finalValue","stateVal","isValidValue","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","simulate","attaches","rquery","parseXML","parserErrorElem","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","lastModified","etag","isLocal","protocol","async","accepts","json","responseFields","converters","ajaxSetup","ajaxPrefilter","ajaxTransport","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","statusText","finalText","crossDomain","host","hasContent","ifModified","beforeSend","nativeStatusText","responses","isSuccess","ct","finalDataType","firstDataType","ajaxHandleResponses","conv2","conv","dataFilter","throws","ajaxConvert","getJSON","getScript","wrapAll","firstElementChild","htmlIsFunction","visible","xhrSuccessStatus","xhrSupported","cors","errorCallback","username","xhrFields","onabort","ontimeout","onreadystatechange","binary","scriptAttrs","charset","scriptCharset","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","curElem","using","rect","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","hover","fnOver","fnOut","proxy","holdReady","hold","isNumeric","_jQuery","_$","noConflict","encode","getTypeOf","decode","uint8array","compressedSize","uncompressedSize","crc32","compression","compressedContent","getContentWorker","uncompressWorker","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","STORE","magic","DEFLATE","base64","createFolders","compressionOptions","comment","unixPermissions","dosPermissions","lie","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","meta","inherits","processChunk","_createPako","transformTo","flush","cleanUp","onData","pako","utf8encode","I","S","z","C","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCFullYear","getUTCMonth","getUTCDate","B","E","fileRecord","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","openedSource","closedSource","DATA_DESCRIPTOR","CENTRAL_DIRECTORY_END","prepareNextSource","previous","isPaused","pause","resume","registerPrevious","generatedError","generateWorker","platform","_compressWorker","loadAsync","external","decompressed","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isNode","isStream","prepareContent","fileNameStr","fileCommentStr","unsafeOriginalName","_upstreamEnded","_bindStream","_stream","Readable","_helper","_read","Buffer","newBufferFrom","allocBuffer","alloc","fill","isBuffer","substring","folder","generate","generateInternalStream","checkSupport","generateAsync","generateNodeStream","toNodejsStream","stream","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","checkOffset","checkIndex","readInt","readString","readDate","UTC","subarray","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","destType","propName","dataIsReady","_tickScheduled","_tickAndRepeat","isFinished","_tick","extraStreamInfo","mergeStreamInfo","nodestream","_internalType","_outputType","_mimeType","_worker","newBlob","objectMode","arraybuffer","nodebuffer","blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","stringifyByChunk","stringifyByChar","applyCanBeUsed","buffer","byteLength","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","setImmediate","readAsArrayBuffer","setimmediate","loadOptions","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","isEncrypted","bitFlag","useUTF8","fileNameLength","fileName","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","_dataBinary","internalStream","_decompressWorker","nodeStream","MutationObserver","WebKitMutationObserver","observe","characterData","MessageChannel","port1","onmessage","port2","postMessage","outcome","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","finally","race","chunkSize","windowBits","memLevel","strategy","gzip","ended","chunks","strm","avail_out","deflateInit2","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","next_in","avail_in","Buf8","next_out","deflate","onEnd","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","Int32Array","setTyped","Buf16","Buf32","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","T","D","F","pending","pending_buf","pending_out","total_out","N","_tr_flush_block","block_start","strstart","P","L","max_chain_length","prev_length","nice_match","w_size","w_mask","good_match","lookahead","match_start","window_size","hash_size","adler","total_in","ins_h","hash_shift","hash_mask","Z","match_length","_tr_tally","max_lazy_match","last_lit","W","prev_match","match_available","good_length","max_lazy","nice_length","max_chain","H","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","data_type","_tr_init","K","deflateInit","deflateReset","deflateResetKeep","hcrc","os","_tr_align","_tr_stored_block","deflateInfo","xflags","extra_len","dmax","wsize","whave","wnext","lencode","distcode","lenbits","distbits","mode","sane","havedict","wbits","ncode","nlen","ndist","have","lens","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","static_tree","extra_bits","extra_base","max_length","has_stree","dyn_tree","max_code","stat_desc","V","J","nextTick","importScripts","clearImmediate","extendStatics","__extends","setPrototypeOf","__proto__","__","__spreadArrays","il","jl","StrictEventEmitter","_super","k2","launch","center","radius","startAngle","endAngle","Arc","Point","Zero","duplicate","arc","intersect","Vector","cs","dot","magSqr","times","sqrt","deserializer","storage","Empty","Collection","instance","tryRemove","callbackfn","thisArg","predicate","IsSerializable","Line","ls1","r_s","cross","q_p_r","equals0","t0","ObjectMapper","mul","Pointer","ptr","floatConvertor","floatDeconvertor","setConvertor","convertor","setDeConvertor","deconvertor","convert","deconvert","build","isPointer","entries","setName","setInput","PropertyForm","PropertyFormBuilder","PropertyInput","PropertyInputBuilder","PropertySelect","PropertySelectBuilder","DefaultFormBuilder","SelectFormBuilder","formbuilder","getForm","getName","Property","Rectangle","ratio","fromSize","UniqueID","negate","mag","normalized","angle","vector","atan2","cap","EPSILON","transpose","orthogonal","dist","Project","FromPolar","sin","Interpolate","Average","accumulator","vecs","vec","WeightedAverage","weights","totalWeight","weight","scene","canvas","ctx","trackTransforms","imageSmoothingEnabled","logicals","dragged","dragStart","dragButton","lastRender","currRender","redraw","Screen","duplicateTransform","setTransform","translate","listen","ResetTransformation","setScene","register","logical","unregister","getWorldPoint","pt","getTransform","screenToWorld","p2","clearRect","restore","getMousePos","_evt","handleScroll","clicks","factor","zoom","Canvas","_r","_g","_b","Color","fromRGB","rgbToHsl","hslToRgb","hue2rgb","addRed","addGreen","addBlue","tmppos","hovered","grabbed","registered","dispatchers","Map","ondragstart","dragstart","ondragstep","dragstep","ondragcancel","dragcancel","ondragend","dragend","makePointer","dispatcher","pointers","setPosition","getPosition","TAU","gradient","createRadialGradient","addColorStop","beginPath","fillStyle","closePath","Black","lineWidth","strokeStyle","stroke","isHover","isMouseInPath","isGrabbed","unhover","forceHover","renderables","delete","mousePosition","mouseButton","GrabPoint","keepRatio","y1","y2","grabPoints","getGrabPoints","firstpt","moveTo","lineTo","GrabRectangle","Grab","layer","renderable","HoverResult","isEmpty","Item","applyRenderable","_islistening","grabs","renderGrab","enableGrab","disableGrab","grab","getProperty","getProperties","property","removeProperty","addGrab","removeGrab","offscreen","create2DCanvasContextTracked","overscreen","currentZIndex","background","renderingType","RenderableType","Normal","ondestroy","ondestroytrigger","addRenderable","removeRenderable","transform","resetTransform","clearCanvas","fit","CanvasRenderingContext2D","isContextTracked","HTMLImageElement","naturalWidth","naturalHeight","HTMLCanvasElement","resize2DCanvasContext","getHoveredRenderable","allrenderables","Layer","MultiColor","mouse","_isHoverEnabled","_dispatcher","_mouse","_dt","isPointInPath","worldToScreen","enableHover","disableHover","RenderState","RenderStatus","_isselected","getRenderingType","setRenderingType","_state","isSelected","other","isselected","Renderable","layers","grabEnabled","Scene","isGrabEnabled","getBox","toBMP","layersname","mix","renderingTypes","Draft","renderInternal","rgba","layershover","oldhovered","clip","drawImage","unclip","Sprite","GenID","internal","_isloaded","isImageLoaded","_keep_ratio","MouseButton","Left","getID","Image","toDataURL","sprite","ZIndex","globalCompositeOperation","color1","Magenta","color2","Yellow","lineCap","IsInstanceOf","RoadLine","getWidth","isize","roadlines","roadarcs","roads","road","getStart","getEnd","dx","dy","getCenter","getRadius","DegToRad","getStartAngle","getEndAngle","RoadFilter","tmpcur","lastButton","getCurrentLine","renderCurrentLine","renderCurrentArc","LogicalLines","getOrDefaultValue","graphics","guide","ways","trafficLights","obstacles","itinerary","Default","getItiName","getGraphicsName","getGuideName","buildItinerary","computeCoordinate","lines","arcs","RoadArc","obss","Obstacle","startpoints","StartingPoint","steps","Step","getIndex","Stop","getAngle","Go","getSpeed","getDirection","obs","getSince","getTill","currentSpeed","getAction","Turn","waypoints","getRoadIndex","stoppoints","getLightPosition","getLightDelayR","getLightDelayA","getLightDelayG","getLightPhase","MapWriter","imageloaded","since","till","setSince","setTill","grab2","grab3","RadToDeg","centerx","centery","testx","testy","testx2","testy2","wow","wow2","setP1","setP2","setCenter","setRadius","setStartAngle","setEndAngle","setDirection","setSpeed","setWidth","getColor","Road","setAngle","globalAlpha","radAngle","startingPoint","roadIntersection","roadIndex","GO","TURN","STOP","floatConvertorCustom","setAction","stepLine","p3","lightx","lighty","lightdelayR","lightdelayA","lightdelayG","lightphase","internalTick","setLightPosition","setLightDelayR","delayR","setLightDelayA","delayA","setLightDelayG","delayG","setLightPhase","Green","Amber","Red","White","TLView","acos","TLCosDir","lightPos","Form","genId","mainlayout","Layout","getMain","getTop","getLeft","getRight","getBottom","getPreview","setMain","setTop","setLeft","setRight","setBottom","setPreview","Style","handlertrigger","MenuInternalItemFactory","MenuInternalSeparatorItem","MenuInternalButtonItem","Menu","Popup","Tool","_selected","toolonselect","toolonselecttrigger","toolonunselect","toolonunselecttrigger","tool","Toolbar","ondelete","deletetrigger","clicktrigger","destroytrigger","onselect","selecttrigger","onunselect","unselecttrigger","indexElement","nameElement","deleteElement","getItem","ViewItem","_layout","lastSelected","onpropertiesupdatetrigger","setProperties","toggleSelect","listenInput","toggleSelectByIndex","selectByIndex","unselectByIndex","getSelectedItem","getSelectedIndex","removeByIndex","View","xform","createElementNS","createSVGMatrix","svg","savedTransforms","poppedform","sx","sy","scaleNonUniform","rotate","radians","m2","multiply","createSVGPoint","matrixTransform","inverse","deg","rad","innerLine","typeGuard","scaleX","scaleY","Comparators","number","comparator","low","mid","roadsCollection","Icons","CarSide","Flag","Hand","Kamek","TrafficLight","UpDownLeftRight","Base","Init","Itinerary","timeStart","timeEnd","trafficLightIndex","dephase","WayPoint","deserializers","logicalLines","stepsCollection","stopsCollection","roadFilter","tools","roadline","roadarc","starting","obstacle","images","board","carc","harc","cstep","hstep","ctrafficlight","htrafficlight","toolroadlineselect","toolroadlineunselect","toolroadarcselect","toolroadarcunselect","toolstepselect","toolstepunselect","toolgrabselect","toolgrabunselect","monster","cc6","ccc6","cc","ccc","toolstartingselect","toolstartingunselect","toolobstacleselect","toolobstacleunselect","tooltrafficlightselect","tooltrafficlightunselect","newform","initLayers","initTools","initListeningTools","initMenu","initLayout","setToolListeners","Blue","Ok","stopListeningTools","loadScene","layersmap","sprites","startings","New","Cancel","readAsText","scenedata","graphicsImage","guideImage","archive","confirm","Update","Editor","Globals","MaxRoads","MaxSteps","MaxStops","MaxObstacles","MaxTrafficLights","MaxItinerary","MinX","MinY","MaxX","MaxY","TLNumber","STPAfter","MinSpeed","MaxSpeed","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","toStringTag","__webpack_exports__"],"sourceRoot":""}